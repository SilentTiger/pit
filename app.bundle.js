(function(yu,Ye){if(typeof exports=="object"&&typeof module=="object")module.exports=Ye();else if(typeof define=="function"&&define.amd)define([],Ye);else{var ha=Ye();for(var C in ha)(typeof exports=="object"?exports:yu)[C]=ha[C]}})(self,function(){return function(){var uv={9742:function(C,y){"use strict";y.byteLength=A,y.toByteArray=K,y.fromByteArray=M;for(var v=[],w=[],h=typeof Uint8Array!="undefined"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,D=p.length;g<D;++g)v[g]=p[g],w[p.charCodeAt(g)]=g;w["-".charCodeAt(0)]=62,w["_".charCodeAt(0)]=63;function L(U){var O=U.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=U.indexOf("=");X===-1&&(X=O);var te=X===O?0:4-X%4;return[X,te]}function A(U){var O=L(U),X=O[0],te=O[1];return(X+te)*3/4-te}function F(U,O,X){return(O+X)*3/4-X}function K(U){var O,X=L(U),te=X[0],ne=X[1],z=new h(F(U,te,ne)),N=0,$=ne>0?te-4:te,G;for(G=0;G<$;G+=4)O=w[U.charCodeAt(G)]<<18|w[U.charCodeAt(G+1)]<<12|w[U.charCodeAt(G+2)]<<6|w[U.charCodeAt(G+3)],z[N++]=O>>16&255,z[N++]=O>>8&255,z[N++]=O&255;return ne===2&&(O=w[U.charCodeAt(G)]<<2|w[U.charCodeAt(G+1)]>>4,z[N++]=O&255),ne===1&&(O=w[U.charCodeAt(G)]<<10|w[U.charCodeAt(G+1)]<<4|w[U.charCodeAt(G+2)]>>2,z[N++]=O>>8&255,z[N++]=O&255),z}function B(U){return v[U>>18&63]+v[U>>12&63]+v[U>>6&63]+v[U&63]}function I(U,O,X){for(var te,ne=[],z=O;z<X;z+=3)te=(U[z]<<16&16711680)+(U[z+1]<<8&65280)+(U[z+2]&255),ne.push(B(te));return ne.join("")}function M(U){for(var O,X=U.length,te=X%3,ne=[],z=16383,N=0,$=X-te;N<$;N+=z)ne.push(I(U,N,N+z>$?$:N+z));return te===1?(O=U[X-1],ne.push(v[O>>2]+v[O<<4&63]+"==")):te===2&&(O=(U[X-2]<<8)+U[X-1],ne.push(v[O>>10]+v[O>>4&63]+v[O<<2&63]+"=")),ne.join("")}},3076:function(C){"use strict";function y(D,L,A,F,K){for(var B=K+1;F<=K;){var I=F+K>>>1,M=D[I],U=A!==void 0?A(M,L):M-L;U>=0?(B=I,K=I-1):F=I+1}return B}function v(D,L,A,F,K){for(var B=K+1;F<=K;){var I=F+K>>>1,M=D[I],U=A!==void 0?A(M,L):M-L;U>0?(B=I,K=I-1):F=I+1}return B}function w(D,L,A,F,K){for(var B=F-1;F<=K;){var I=F+K>>>1,M=D[I],U=A!==void 0?A(M,L):M-L;U<0?(B=I,F=I+1):K=I-1}return B}function h(D,L,A,F,K){for(var B=F-1;F<=K;){var I=F+K>>>1,M=D[I],U=A!==void 0?A(M,L):M-L;U<=0?(B=I,F=I+1):K=I-1}return B}function p(D,L,A,F,K){for(;F<=K;){var B=F+K>>>1,I=D[B],M=A!==void 0?A(I,L):I-L;if(M===0)return B;M<=0?F=B+1:K=B-1}return-1}function g(D,L,A,F,K,B){return typeof A=="function"?B(D,L,A,F===void 0?0:F|0,K===void 0?D.length-1:K|0):B(D,L,void 0,A===void 0?0:A|0,F===void 0?D.length-1:F|0)}C.exports={ge:function(D,L,A,F,K){return g(D,L,A,F,K,y)},gt:function(D,L,A,F,K){return g(D,L,A,F,K,v)},lt:function(D,L,A,F,K){return g(D,L,A,F,K,w)},le:function(D,L,A,F,K){return g(D,L,A,F,K,h)},eq:function(D,L,A,F,K){return g(D,L,A,F,K,p)}}},6729:function(C){"use strict";var y=Object.prototype.hasOwnProperty,v="~";function w(){}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(v=!1));function h(L,A,F){this.fn=L,this.context=A,this.once=F||!1}function p(L,A,F,K,B){if(typeof F!="function")throw new TypeError("The listener must be a function");var I=new h(F,K||L,B),M=v?v+A:A;return L._events[M]?L._events[M].fn?L._events[M]=[L._events[M],I]:L._events[M].push(I):(L._events[M]=I,L._eventsCount++),L}function g(L,A){--L._eventsCount==0?L._events=new w:delete L._events[A]}function D(){this._events=new w,this._eventsCount=0}D.prototype.eventNames=function(){var A=[],F,K;if(this._eventsCount===0)return A;for(K in F=this._events)y.call(F,K)&&A.push(v?K.slice(1):K);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(F)):A},D.prototype.listeners=function(A){var F=v?v+A:A,K=this._events[F];if(!K)return[];if(K.fn)return[K.fn];for(var B=0,I=K.length,M=new Array(I);B<I;B++)M[B]=K[B].fn;return M},D.prototype.listenerCount=function(A){var F=v?v+A:A,K=this._events[F];return K?K.fn?1:K.length:0},D.prototype.emit=function(A,F,K,B,I,M){var U=v?v+A:A;if(!this._events[U])return!1;var O=this._events[U],X=arguments.length,te,ne;if(O.fn){switch(O.once&&this.removeListener(A,O.fn,void 0,!0),X){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,F),!0;case 3:return O.fn.call(O.context,F,K),!0;case 4:return O.fn.call(O.context,F,K,B),!0;case 5:return O.fn.call(O.context,F,K,B,I),!0;case 6:return O.fn.call(O.context,F,K,B,I,M),!0}for(ne=1,te=new Array(X-1);ne<X;ne++)te[ne-1]=arguments[ne];O.fn.apply(O.context,te)}else{var z=O.length,N;for(ne=0;ne<z;ne++)switch(O[ne].once&&this.removeListener(A,O[ne].fn,void 0,!0),X){case 1:O[ne].fn.call(O[ne].context);break;case 2:O[ne].fn.call(O[ne].context,F);break;case 3:O[ne].fn.call(O[ne].context,F,K);break;case 4:O[ne].fn.call(O[ne].context,F,K,B);break;default:if(!te)for(N=1,te=new Array(X-1);N<X;N++)te[N-1]=arguments[N];O[ne].fn.apply(O[ne].context,te)}}return!0},D.prototype.on=function(A,F,K){return p(this,A,F,K,!1)},D.prototype.once=function(A,F,K){return p(this,A,F,K,!0)},D.prototype.removeListener=function(A,F,K,B){var I=v?v+A:A;if(!this._events[I])return this;if(!F)return g(this,I),this;var M=this._events[I];if(M.fn)M.fn===F&&(!B||M.once)&&(!K||M.context===K)&&g(this,I);else{for(var U=0,O=[],X=M.length;U<X;U++)(M[U].fn!==F||B&&!M[U].once||K&&M[U].context!==K)&&O.push(M[U]);O.length?this._events[I]=O.length===1?O[0]:O:g(this,I)}return this},D.prototype.removeAllListeners=function(A){var F;return A?(F=v?v+A:A,this._events[F]&&g(this,F)):(this._events=new w,this._eventsCount=0),this},D.prototype.off=D.prototype.removeListener,D.prototype.addListener=D.prototype.on,D.prefixed=v,D.EventEmitter=D,C.exports=D},4470:function(C){"use strict";var y=Object.prototype.hasOwnProperty,v=Object.prototype.toString,w=Object.defineProperty,h=Object.getOwnPropertyDescriptor,p=function(F){return typeof Array.isArray=="function"?Array.isArray(F):v.call(F)==="[object Array]"},g=function(F){if(!F||v.call(F)!=="[object Object]")return!1;var K=y.call(F,"constructor"),B=F.constructor&&F.constructor.prototype&&y.call(F.constructor.prototype,"isPrototypeOf");if(F.constructor&&!K&&!B)return!1;var I;for(I in F);return typeof I=="undefined"||y.call(F,I)},D=function(F,K){w&&K.name==="__proto__"?w(F,K.name,{enumerable:!0,configurable:!0,value:K.newValue,writable:!0}):F[K.name]=K.newValue},L=function(F,K){if(K==="__proto__")if(y.call(F,K)){if(h)return h(F,K).value}else return;return F[K]};C.exports=function A(){var F,K,B,I,M,U,O=arguments[0],X=1,te=arguments.length,ne=!1;for(typeof O=="boolean"&&(ne=O,O=arguments[1]||{},X=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});X<te;++X)if(F=arguments[X],F!=null)for(K in F)B=L(O,K),I=L(F,K),O!==I&&(ne&&I&&(g(I)||(M=p(I)))?(M?(M=!1,U=B&&p(B)?B:[]):U=B&&g(B)?B:{},D(O,{name:K,newValue:A(ne,U,I)})):typeof I!="undefined"&&D(O,{name:K,newValue:I}));return O}},4063:function(C){"use strict";C.exports=function y(v,w){if(v===w)return!0;if(v&&w&&typeof v=="object"&&typeof w=="object"){if(v.constructor!==w.constructor)return!1;var h,p,g;if(Array.isArray(v)){if(h=v.length,h!=w.length)return!1;for(p=h;p--!=0;)if(!y(v[p],w[p]))return!1;return!0}if(v.constructor===RegExp)return v.source===w.source&&v.flags===w.flags;if(v.valueOf!==Object.prototype.valueOf)return v.valueOf()===w.valueOf();if(v.toString!==Object.prototype.toString)return v.toString()===w.toString();if(g=Object.keys(v),h=g.length,h!==Object.keys(w).length)return!1;for(p=h;p--!=0;)if(!Object.prototype.hasOwnProperty.call(w,g[p]))return!1;for(p=h;p--!=0;){var D=g[p];if(!y(v[D],w[D]))return!1}return!0}return v!==v&&w!==w}},8552:function(C,y,v){var w=v(852),h=v(5639),p=w(h,"DataView");C.exports=p},1989:function(C,y,v){var w=v(1789),h=v(401),p=v(7667),g=v(1327),D=v(1866);function L(A){var F=-1,K=A==null?0:A.length;for(this.clear();++F<K;){var B=A[F];this.set(B[0],B[1])}}L.prototype.clear=w,L.prototype.delete=h,L.prototype.get=p,L.prototype.has=g,L.prototype.set=D,C.exports=L},8407:function(C,y,v){var w=v(7040),h=v(4125),p=v(2117),g=v(7529),D=v(4705);function L(A){var F=-1,K=A==null?0:A.length;for(this.clear();++F<K;){var B=A[F];this.set(B[0],B[1])}}L.prototype.clear=w,L.prototype.delete=h,L.prototype.get=p,L.prototype.has=g,L.prototype.set=D,C.exports=L},7071:function(C,y,v){var w=v(852),h=v(5639),p=w(h,"Map");C.exports=p},3369:function(C,y,v){var w=v(4785),h=v(1285),p=v(6e3),g=v(9916),D=v(5265);function L(A){var F=-1,K=A==null?0:A.length;for(this.clear();++F<K;){var B=A[F];this.set(B[0],B[1])}}L.prototype.clear=w,L.prototype.delete=h,L.prototype.get=p,L.prototype.has=g,L.prototype.set=D,C.exports=L},3818:function(C,y,v){var w=v(852),h=v(5639),p=w(h,"Promise");C.exports=p},8525:function(C,y,v){var w=v(852),h=v(5639),p=w(h,"Set");C.exports=p},8668:function(C,y,v){var w=v(3369),h=v(619),p=v(2385);function g(D){var L=-1,A=D==null?0:D.length;for(this.__data__=new w;++L<A;)this.add(D[L])}g.prototype.add=g.prototype.push=h,g.prototype.has=p,C.exports=g},6384:function(C,y,v){var w=v(8407),h=v(7465),p=v(3779),g=v(7599),D=v(4758),L=v(4309);function A(F){var K=this.__data__=new w(F);this.size=K.size}A.prototype.clear=h,A.prototype.delete=p,A.prototype.get=g,A.prototype.has=D,A.prototype.set=L,C.exports=A},2705:function(C,y,v){var w=v(5639),h=w.Symbol;C.exports=h},1149:function(C,y,v){var w=v(5639),h=w.Uint8Array;C.exports=h},577:function(C,y,v){var w=v(852),h=v(5639),p=w(h,"WeakMap");C.exports=p},4963:function(C){function y(v,w){for(var h=-1,p=v==null?0:v.length,g=0,D=[];++h<p;){var L=v[h];w(L,h,v)&&(D[g++]=L)}return D}C.exports=y},4636:function(C,y,v){var w=v(2545),h=v(5694),p=v(1469),g=v(4144),D=v(5776),L=v(6719),A=Object.prototype,F=A.hasOwnProperty;function K(B,I){var M=p(B),U=!M&&h(B),O=!M&&!U&&g(B),X=!M&&!U&&!O&&L(B),te=M||U||O||X,ne=te?w(B.length,String):[],z=ne.length;for(var N in B)(I||F.call(B,N))&&!(te&&(N=="length"||O&&(N=="offset"||N=="parent")||X&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||D(N,z)))&&ne.push(N);return ne}C.exports=K},9932:function(C){function y(v,w){for(var h=-1,p=v==null?0:v.length,g=Array(p);++h<p;)g[h]=w(v[h],h,v);return g}C.exports=y},2488:function(C){function y(v,w){for(var h=-1,p=w.length,g=v.length;++h<p;)v[g+h]=w[h];return v}C.exports=y},2908:function(C){function y(v,w){for(var h=-1,p=v==null?0:v.length;++h<p;)if(w(v[h],h,v))return!0;return!1}C.exports=y},4286:function(C){function y(v){return v.split("")}C.exports=y},8470:function(C,y,v){var w=v(7813);function h(p,g){for(var D=p.length;D--;)if(w(p[D][0],g))return D;return-1}C.exports=h},1848:function(C){function y(v,w,h,p){for(var g=v.length,D=h+(p?1:-1);p?D--:++D<g;)if(w(v[D],D,v))return D;return-1}C.exports=y},8866:function(C,y,v){var w=v(2488),h=v(1469);function p(g,D,L){var A=D(g);return h(g)?A:w(A,L(g))}C.exports=p},4239:function(C,y,v){var w=v(2705),h=v(9607),p=v(2333),g="[object Null]",D="[object Undefined]",L=w?w.toStringTag:void 0;function A(F){return F==null?F===void 0?D:g:L&&L in Object(F)?h(F):p(F)}C.exports=A},2118:function(C,y,v){var w=v(1848),h=v(2722),p=v(2351);function g(D,L,A){return L===L?p(D,L,A):w(D,h,A)}C.exports=g},9454:function(C,y,v){var w=v(4239),h=v(7005),p="[object Arguments]";function g(D){return h(D)&&w(D)==p}C.exports=g},939:function(C,y,v){var w=v(2492),h=v(7005);function p(g,D,L,A,F){return g===D?!0:g==null||D==null||!h(g)&&!h(D)?g!==g&&D!==D:w(g,D,L,A,p,F)}C.exports=p},2492:function(C,y,v){var w=v(6384),h=v(7114),p=v(8351),g=v(6096),D=v(4160),L=v(1469),A=v(4144),F=v(6719),K=1,B="[object Arguments]",I="[object Array]",M="[object Object]",U=Object.prototype,O=U.hasOwnProperty;function X(te,ne,z,N,$,G){var S=L(te),T=L(ne),R=S?I:D(te),H=T?I:D(ne);R=R==B?M:R,H=H==B?M:H;var se=R==M,q=H==M,ie=R==H;if(ie&&A(te)){if(!A(ne))return!1;S=!0,se=!1}if(ie&&!se)return G||(G=new w),S||F(te)?h(te,ne,z,N,$,G):p(te,ne,R,z,N,$,G);if(!(z&K)){var ve=se&&O.call(te,"__wrapped__"),ae=q&&O.call(ne,"__wrapped__");if(ve||ae){var ye=ve?te.value():te,Ae=ae?ne.value():ne;return G||(G=new w),$(ye,Ae,z,N,G)}}return ie?(G||(G=new w),g(te,ne,z,N,$,G)):!1}C.exports=X},2722:function(C){function y(v){return v!==v}C.exports=y},8458:function(C,y,v){var w=v(3560),h=v(5346),p=v(3218),g=v(346),D=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,A=Function.prototype,F=Object.prototype,K=A.toString,B=F.hasOwnProperty,I=RegExp("^"+K.call(B).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function M(U){if(!p(U)||h(U))return!1;var O=w(U)?I:L;return O.test(g(U))}C.exports=M},8749:function(C,y,v){var w=v(4239),h=v(1780),p=v(7005),g="[object Arguments]",D="[object Array]",L="[object Boolean]",A="[object Date]",F="[object Error]",K="[object Function]",B="[object Map]",I="[object Number]",M="[object Object]",U="[object RegExp]",O="[object Set]",X="[object String]",te="[object WeakMap]",ne="[object ArrayBuffer]",z="[object DataView]",N="[object Float32Array]",$="[object Float64Array]",G="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",H="[object Uint8ClampedArray]",se="[object Uint16Array]",q="[object Uint32Array]",ie={};ie[N]=ie[$]=ie[G]=ie[S]=ie[T]=ie[R]=ie[H]=ie[se]=ie[q]=!0,ie[g]=ie[D]=ie[ne]=ie[L]=ie[z]=ie[A]=ie[F]=ie[K]=ie[B]=ie[I]=ie[M]=ie[U]=ie[O]=ie[X]=ie[te]=!1;function ve(ae){return p(ae)&&h(ae.length)&&!!ie[w(ae)]}C.exports=ve},280:function(C,y,v){var w=v(5726),h=v(6916),p=Object.prototype,g=p.hasOwnProperty;function D(L){if(!w(L))return h(L);var A=[];for(var F in Object(L))g.call(L,F)&&F!="constructor"&&A.push(F);return A}C.exports=D},4259:function(C){function y(v,w,h){var p=-1,g=v.length;w<0&&(w=-w>g?0:g+w),h=h>g?g:h,h<0&&(h+=g),g=w>h?0:h-w>>>0,w>>>=0;for(var D=Array(g);++p<g;)D[p]=v[p+w];return D}C.exports=y},2545:function(C){function y(v,w){for(var h=-1,p=Array(v);++h<v;)p[h]=w(h);return p}C.exports=y},531:function(C,y,v){var w=v(2705),h=v(9932),p=v(1469),g=v(3448),D=1/0,L=w?w.prototype:void 0,A=L?L.toString:void 0;function F(K){if(typeof K=="string")return K;if(p(K))return h(K,F)+"";if(g(K))return A?A.call(K):"";var B=K+"";return B=="0"&&1/K==-D?"-0":B}C.exports=F},7561:function(C,y,v){var w=v(7990),h=/^\s+/;function p(g){return g&&g.slice(0,w(g)+1).replace(h,"")}C.exports=p},7518:function(C){function y(v){return function(w){return v(w)}}C.exports=y},7415:function(C,y,v){var w=v(9932);function h(p,g){return w(g,function(D){return p[D]})}C.exports=h},4757:function(C){function y(v,w){return v.has(w)}C.exports=y},180:function(C,y,v){var w=v(4259);function h(p,g,D){var L=p.length;return D=D===void 0?L:D,!g&&D>=L?p:w(p,g,D)}C.exports=h},9817:function(C,y,v){var w=v(2118);function h(p,g){for(var D=-1,L=p.length;++D<L&&w(g,p[D],0)>-1;);return D}C.exports=h},278:function(C){function y(v,w){var h=-1,p=v.length;for(w||(w=Array(p));++h<p;)w[h]=v[h];return w}C.exports=y},4429:function(C,y,v){var w=v(5639),h=w["__core-js_shared__"];C.exports=h},7114:function(C,y,v){var w=v(8668),h=v(2908),p=v(4757),g=1,D=2;function L(A,F,K,B,I,M){var U=K&g,O=A.length,X=F.length;if(O!=X&&!(U&&X>O))return!1;var te=M.get(A),ne=M.get(F);if(te&&ne)return te==F&&ne==A;var z=-1,N=!0,$=K&D?new w:void 0;for(M.set(A,F),M.set(F,A);++z<O;){var G=A[z],S=F[z];if(B)var T=U?B(S,G,z,F,A,M):B(G,S,z,A,F,M);if(T!==void 0){if(T)continue;N=!1;break}if($){if(!h(F,function(R,H){if(!p($,H)&&(G===R||I(G,R,K,B,M)))return $.push(H)})){N=!1;break}}else if(!(G===S||I(G,S,K,B,M))){N=!1;break}}return M.delete(A),M.delete(F),N}C.exports=L},8351:function(C,y,v){var w=v(2705),h=v(1149),p=v(7813),g=v(7114),D=v(8776),L=v(1814),A=1,F=2,K="[object Boolean]",B="[object Date]",I="[object Error]",M="[object Map]",U="[object Number]",O="[object RegExp]",X="[object Set]",te="[object String]",ne="[object Symbol]",z="[object ArrayBuffer]",N="[object DataView]",$=w?w.prototype:void 0,G=$?$.valueOf:void 0;function S(T,R,H,se,q,ie,ve){switch(H){case N:if(T.byteLength!=R.byteLength||T.byteOffset!=R.byteOffset)return!1;T=T.buffer,R=R.buffer;case z:return!(T.byteLength!=R.byteLength||!ie(new h(T),new h(R)));case K:case B:case U:return p(+T,+R);case I:return T.name==R.name&&T.message==R.message;case O:case te:return T==R+"";case M:var ae=D;case X:var ye=se&A;if(ae||(ae=L),T.size!=R.size&&!ye)return!1;var Ae=ve.get(T);if(Ae)return Ae==R;se|=F,ve.set(T,R);var Me=g(ae(T),ae(R),se,q,ie,ve);return ve.delete(T),Me;case ne:if(G)return G.call(T)==G.call(R)}return!1}C.exports=S},6096:function(C,y,v){var w=v(8234),h=1,p=Object.prototype,g=p.hasOwnProperty;function D(L,A,F,K,B,I){var M=F&h,U=w(L),O=U.length,X=w(A),te=X.length;if(O!=te&&!M)return!1;for(var ne=O;ne--;){var z=U[ne];if(!(M?z in A:g.call(A,z)))return!1}var N=I.get(L),$=I.get(A);if(N&&$)return N==A&&$==L;var G=!0;I.set(L,A),I.set(A,L);for(var S=M;++ne<O;){z=U[ne];var T=L[z],R=A[z];if(K)var H=M?K(R,T,z,A,L,I):K(T,R,z,L,A,I);if(!(H===void 0?T===R||B(T,R,F,K,I):H)){G=!1;break}S||(S=z=="constructor")}if(G&&!S){var se=L.constructor,q=A.constructor;se!=q&&"constructor"in L&&"constructor"in A&&!(typeof se=="function"&&se instanceof se&&typeof q=="function"&&q instanceof q)&&(G=!1)}return I.delete(L),I.delete(A),G}C.exports=D},1957:function(C,y,v){var w=typeof v.g=="object"&&v.g&&v.g.Object===Object&&v.g;C.exports=w},8234:function(C,y,v){var w=v(8866),h=v(9551),p=v(3674);function g(D){return w(D,p,h)}C.exports=g},5050:function(C,y,v){var w=v(7019);function h(p,g){var D=p.__data__;return w(g)?D[typeof g=="string"?"string":"hash"]:D.map}C.exports=h},852:function(C,y,v){var w=v(8458),h=v(7801);function p(g,D){var L=h(g,D);return w(L)?L:void 0}C.exports=p},9607:function(C,y,v){var w=v(2705),h=Object.prototype,p=h.hasOwnProperty,g=h.toString,D=w?w.toStringTag:void 0;function L(A){var F=p.call(A,D),K=A[D];try{A[D]=void 0;var B=!0}catch(M){}var I=g.call(A);return B&&(F?A[D]=K:delete A[D]),I}C.exports=L},9551:function(C,y,v){var w=v(4963),h=v(479),p=Object.prototype,g=p.propertyIsEnumerable,D=Object.getOwnPropertySymbols,L=D?function(A){return A==null?[]:(A=Object(A),w(D(A),function(F){return g.call(A,F)}))}:h;C.exports=L},4160:function(C,y,v){var w=v(8552),h=v(7071),p=v(3818),g=v(8525),D=v(577),L=v(4239),A=v(346),F="[object Map]",K="[object Object]",B="[object Promise]",I="[object Set]",M="[object WeakMap]",U="[object DataView]",O=A(w),X=A(h),te=A(p),ne=A(g),z=A(D),N=L;(w&&N(new w(new ArrayBuffer(1)))!=U||h&&N(new h)!=F||p&&N(p.resolve())!=B||g&&N(new g)!=I||D&&N(new D)!=M)&&(N=function($){var G=L($),S=G==K?$.constructor:void 0,T=S?A(S):"";if(T)switch(T){case O:return U;case X:return F;case te:return B;case ne:return I;case z:return M}return G}),C.exports=N},7801:function(C){function y(v,w){return v==null?void 0:v[w]}C.exports=y},2689:function(C){var y="\\ud800-\\udfff",v="\\u0300-\\u036f",w="\\ufe20-\\ufe2f",h="\\u20d0-\\u20ff",p=v+w+h,g="\\ufe0e\\ufe0f",D="\\u200d",L=RegExp("["+D+y+p+g+"]");function A(F){return L.test(F)}C.exports=A},1789:function(C,y,v){var w=v(4536);function h(){this.__data__=w?w(null):{},this.size=0}C.exports=h},401:function(C){function y(v){var w=this.has(v)&&delete this.__data__[v];return this.size-=w?1:0,w}C.exports=y},7667:function(C,y,v){var w=v(4536),h="__lodash_hash_undefined__",p=Object.prototype,g=p.hasOwnProperty;function D(L){var A=this.__data__;if(w){var F=A[L];return F===h?void 0:F}return g.call(A,L)?A[L]:void 0}C.exports=D},1327:function(C,y,v){var w=v(4536),h=Object.prototype,p=h.hasOwnProperty;function g(D){var L=this.__data__;return w?L[D]!==void 0:p.call(L,D)}C.exports=g},1866:function(C,y,v){var w=v(4536),h="__lodash_hash_undefined__";function p(g,D){var L=this.__data__;return this.size+=this.has(g)?0:1,L[g]=w&&D===void 0?h:D,this}C.exports=p},5776:function(C){var y=9007199254740991,v=/^(?:0|[1-9]\d*)$/;function w(h,p){var g=typeof h;return p=p==null?y:p,!!p&&(g=="number"||g!="symbol"&&v.test(h))&&h>-1&&h%1==0&&h<p}C.exports=w},7019:function(C){function y(v){var w=typeof v;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?v!=="__proto__":v===null}C.exports=y},5346:function(C,y,v){var w=v(4429),h=function(){var g=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function p(g){return!!h&&h in g}C.exports=p},5726:function(C){var y=Object.prototype;function v(w){var h=w&&w.constructor,p=typeof h=="function"&&h.prototype||y;return w===p}C.exports=v},59:function(C){function y(v){for(var w,h=[];!(w=v.next()).done;)h.push(w.value);return h}C.exports=y},7040:function(C){function y(){this.__data__=[],this.size=0}C.exports=y},4125:function(C,y,v){var w=v(8470),h=Array.prototype,p=h.splice;function g(D){var L=this.__data__,A=w(L,D);if(A<0)return!1;var F=L.length-1;return A==F?L.pop():p.call(L,A,1),--this.size,!0}C.exports=g},2117:function(C,y,v){var w=v(8470);function h(p){var g=this.__data__,D=w(g,p);return D<0?void 0:g[D][1]}C.exports=h},7529:function(C,y,v){var w=v(8470);function h(p){return w(this.__data__,p)>-1}C.exports=h},4705:function(C,y,v){var w=v(8470);function h(p,g){var D=this.__data__,L=w(D,p);return L<0?(++this.size,D.push([p,g])):D[L][1]=g,this}C.exports=h},4785:function(C,y,v){var w=v(1989),h=v(8407),p=v(7071);function g(){this.size=0,this.__data__={hash:new w,map:new(p||h),string:new w}}C.exports=g},1285:function(C,y,v){var w=v(5050);function h(p){var g=w(this,p).delete(p);return this.size-=g?1:0,g}C.exports=h},6e3:function(C,y,v){var w=v(5050);function h(p){return w(this,p).get(p)}C.exports=h},9916:function(C,y,v){var w=v(5050);function h(p){return w(this,p).has(p)}C.exports=h},5265:function(C,y,v){var w=v(5050);function h(p,g){var D=w(this,p),L=D.size;return D.set(p,g),this.size+=D.size==L?0:1,this}C.exports=h},8776:function(C){function y(v){var w=-1,h=Array(v.size);return v.forEach(function(p,g){h[++w]=[g,p]}),h}C.exports=y},4536:function(C,y,v){var w=v(852),h=w(Object,"create");C.exports=h},6916:function(C,y,v){var w=v(5569),h=w(Object.keys,Object);C.exports=h},1167:function(C,y,v){C=v.nmd(C);var w=v(1957),h=y&&!y.nodeType&&y,p=h&&!0&&C&&!C.nodeType&&C,g=p&&p.exports===h,D=g&&w.process,L=function(){try{var A=p&&p.require&&p.require("util").types;return A||D&&D.binding&&D.binding("util")}catch(F){}}();C.exports=L},2333:function(C){var y=Object.prototype,v=y.toString;function w(h){return v.call(h)}C.exports=w},5569:function(C){function y(v,w){return function(h){return v(w(h))}}C.exports=y},5639:function(C,y,v){var w=v(1957),h=typeof self=="object"&&self&&self.Object===Object&&self,p=w||h||Function("return this")();C.exports=p},619:function(C){var y="__lodash_hash_undefined__";function v(w){return this.__data__.set(w,y),this}C.exports=v},2385:function(C){function y(v){return this.__data__.has(v)}C.exports=y},1814:function(C){function y(v){var w=-1,h=Array(v.size);return v.forEach(function(p){h[++w]=p}),h}C.exports=y},7465:function(C,y,v){var w=v(8407);function h(){this.__data__=new w,this.size=0}C.exports=h},3779:function(C){function y(v){var w=this.__data__,h=w.delete(v);return this.size=w.size,h}C.exports=y},7599:function(C){function y(v){return this.__data__.get(v)}C.exports=y},4758:function(C){function y(v){return this.__data__.has(v)}C.exports=y},4309:function(C,y,v){var w=v(8407),h=v(7071),p=v(3369),g=200;function D(L,A){var F=this.__data__;if(F instanceof w){var K=F.__data__;if(!h||K.length<g-1)return K.push([L,A]),this.size=++F.size,this;F=this.__data__=new p(K)}return F.set(L,A),this.size=F.size,this}C.exports=D},2351:function(C){function y(v,w,h){for(var p=h-1,g=v.length;++p<g;)if(v[p]===w)return p;return-1}C.exports=y},3140:function(C,y,v){var w=v(4286),h=v(2689),p=v(676);function g(D){return h(D)?p(D):w(D)}C.exports=g},346:function(C){var y=Function.prototype,v=y.toString;function w(h){if(h!=null){try{return v.call(h)}catch(p){}try{return h+""}catch(p){}}return""}C.exports=w},7990:function(C){var y=/\s/;function v(w){for(var h=w.length;h--&&y.test(w.charAt(h)););return h}C.exports=v},676:function(C){var y="\\ud800-\\udfff",v="\\u0300-\\u036f",w="\\ufe20-\\ufe2f",h="\\u20d0-\\u20ff",p=v+w+h,g="\\ufe0e\\ufe0f",D="["+y+"]",L="["+p+"]",A="\\ud83c[\\udffb-\\udfff]",F="(?:"+L+"|"+A+")",K="[^"+y+"]",B="(?:\\ud83c[\\udde6-\\uddff]){2}",I="[\\ud800-\\udbff][\\udc00-\\udfff]",M="\\u200d",U=F+"?",O="["+g+"]?",X="(?:"+M+"(?:"+[K,B,I].join("|")+")"+O+U+")*",te=O+U+X,ne="(?:"+[K+L+"?",L,B,I,D].join("|")+")",z=RegExp(A+"(?="+A+")|"+ne+te,"g");function N($){return $.match(z)||[]}C.exports=N},3279:function(C,y,v){var w=v(3218),h=v(7771),p=v(4841),g="Expected a function",D=Math.max,L=Math.min;function A(F,K,B){var I,M,U,O,X,te,ne=0,z=!1,N=!1,$=!0;if(typeof F!="function")throw new TypeError(g);K=p(K)||0,w(B)&&(z=!!B.leading,N="maxWait"in B,U=N?D(p(B.maxWait)||0,K):U,$="trailing"in B?!!B.trailing:$);function G(ae){var ye=I,Ae=M;return I=M=void 0,ne=ae,O=F.apply(Ae,ye),O}function S(ae){return ne=ae,X=setTimeout(H,K),z?G(ae):O}function T(ae){var ye=ae-te,Ae=ae-ne,Me=K-ye;return N?L(Me,U-Ae):Me}function R(ae){var ye=ae-te,Ae=ae-ne;return te===void 0||ye>=K||ye<0||N&&Ae>=U}function H(){var ae=h();if(R(ae))return se(ae);X=setTimeout(H,T(ae))}function se(ae){return X=void 0,$&&I?G(ae):(I=M=void 0,O)}function q(){X!==void 0&&clearTimeout(X),ne=0,I=te=M=X=void 0}function ie(){return X===void 0?O:se(h())}function ve(){var ae=h(),ye=R(ae);if(I=arguments,M=this,te=ae,ye){if(X===void 0)return S(te);if(N)return clearTimeout(X),X=setTimeout(H,K),G(te)}return X===void 0&&(X=setTimeout(H,K)),O}return ve.cancel=q,ve.flush=ie,ve}C.exports=A},7813:function(C){function y(v,w){return v===w||v!==v&&w!==w}C.exports=y},5694:function(C,y,v){var w=v(9454),h=v(7005),p=Object.prototype,g=p.hasOwnProperty,D=p.propertyIsEnumerable,L=w(function(){return arguments}())?w:function(A){return h(A)&&g.call(A,"callee")&&!D.call(A,"callee")};C.exports=L},1469:function(C){var y=Array.isArray;C.exports=y},8612:function(C,y,v){var w=v(3560),h=v(1780);function p(g){return g!=null&&h(g.length)&&!w(g)}C.exports=p},4144:function(C,y,v){C=v.nmd(C);var w=v(5639),h=v(5062),p=y&&!y.nodeType&&y,g=p&&!0&&C&&!C.nodeType&&C,D=g&&g.exports===p,L=D?w.Buffer:void 0,A=L?L.isBuffer:void 0,F=A||h;C.exports=F},8446:function(C,y,v){var w=v(939);function h(p,g){return w(p,g)}C.exports=h},3560:function(C,y,v){var w=v(4239),h=v(3218),p="[object AsyncFunction]",g="[object Function]",D="[object GeneratorFunction]",L="[object Proxy]";function A(F){if(!h(F))return!1;var K=w(F);return K==g||K==D||K==p||K==L}C.exports=A},1780:function(C){var y=9007199254740991;function v(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=y}C.exports=v},3218:function(C){function y(v){var w=typeof v;return v!=null&&(w=="object"||w=="function")}C.exports=y},7005:function(C){function y(v){return v!=null&&typeof v=="object"}C.exports=y},7037:function(C,y,v){var w=v(4239),h=v(1469),p=v(7005),g="[object String]";function D(L){return typeof L=="string"||!h(L)&&p(L)&&w(L)==g}C.exports=D},3448:function(C,y,v){var w=v(4239),h=v(7005),p="[object Symbol]";function g(D){return typeof D=="symbol"||h(D)&&w(D)==p}C.exports=g},6719:function(C,y,v){var w=v(8749),h=v(7518),p=v(1167),g=p&&p.isTypedArray,D=g?h(g):w;C.exports=D},3674:function(C,y,v){var w=v(4636),h=v(280),p=v(8612);function g(D){return p(D)?w(D):h(D)}C.exports=g},6486:function(C,y,v){C=v.nmd(C);var w;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var h,p="4.17.21",g=200,D="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",L="Expected a function",A="Invalid `variable` option passed into `_.template`",F="__lodash_hash_undefined__",K=500,B="__lodash_placeholder__",I=1,M=2,U=4,O=1,X=2,te=1,ne=2,z=4,N=8,$=16,G=32,S=64,T=128,R=256,H=512,se=30,q="...",ie=800,ve=16,ae=1,ye=2,Ae=3,Me=1/0,Ee=9007199254740991,$e=17976931348623157e292,Be=0/0,Pe=4294967295,Fe=Pe-1,ge=Pe>>>1,Re=[["ary",T],["bind",te],["bindKey",ne],["curry",N],["curryRight",$],["flip",H],["partial",G],["partialRight",S],["rearg",R]],We="[object Arguments]",je="[object Array]",ut="[object AsyncFunction]",nt="[object Boolean]",St="[object Date]",Mt="[object DOMException]",Zn="[object Error]",ci="[object Function]",hi="[object GeneratorFunction]",Nn="[object Map]",Jn="[object Number]",Bn="[object Null]",Ot="[object Object]",Hr="[object Promise]",fi="[object Proxy]",Ur="[object RegExp]",Pn="[object Set]",It="[object String]",di="[object Symbol]",qi="[object Undefined]",Ut="[object WeakMap]",xu="[object WeakSet]",wt="[object ArrayBuffer]",$r="[object DataView]",pi="[object Float32Array]",Hs="[object Float64Array]",Us="[object Int8Array]",fa="[object Int16Array]",wu="[object Int32Array]",$s="[object Uint8Array]",da="[object Uint8ClampedArray]",Ws="[object Uint16Array]",pa="[object Uint32Array]",Ef=/\b__p \+= '';/g,Su=/\b(__p \+=) '' \+/g,_u=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Au=/&(?:amp|lt|gt|quot|#39);/g,Eu=/[&<>"']/g,gi=RegExp(Au.source),cv=RegExp(Eu.source),Cu=/<%-([\s\S]+?)%>/g,Cf=/<%([\s\S]+?)%>/g,ct=/<%=([\s\S]+?)%>/g,Pf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Er=/^\w*$/,If=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ga=/[\\^$.*+?()[\]{}|]/g,Wr=RegExp(ga.source),va=/^\s+/,zs=/\s/,Pu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vi=/\{\n\/\* \[wrapped with (.+)\] \*/,Iu=/,? & /,Tf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tu=/[()=,{}\[\]\/\s]/,Of=/\\(\\)?/g,Df=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ma=/\w*$/,Ou=/^[-+]0x[0-9a-f]+$/i,Lf=/^0b[01]+$/i,Qn=/^\[object .+?Constructor\]$/,mi=/^0o[0-7]+$/i,Rf=/^(?:0|[1-9]\d*)$/,ba=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,js=/($^)/,Ff=/['\n\r\u2028\u2029\\]/g,Gs="\\ud800-\\udfff",kf="\\u0300-\\u036f",Ks="\\ufe20-\\ufe2f",mn="\\u20d0-\\u20ff",bn=kf+Ks+mn,_t="\\u2700-\\u27bf",zr="a-z\\xdf-\\xf6\\xf8-\\xff",Du="\\xac\\xb1\\xd7\\xf7",Lu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",an="\\u2000-\\u206f",Mf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ru="A-Z\\xc0-\\xd6\\xd8-\\xde",Fu="\\ufe0e\\ufe0f",or=Du+Lu+an+Mf,ya="['\u2019]",Nf="["+Gs+"]",ku="["+or+"]",es="["+bn+"]",Mu="\\d+",Bf="["+_t+"]",xa="["+zr+"]",Nu="[^"+Gs+or+Mu+_t+zr+Ru+"]",wa="\\ud83c[\\udffb-\\udfff]",Xs="(?:"+es+"|"+wa+")",Bu="[^"+Gs+"]",Ys="(?:\\ud83c[\\udde6-\\uddff]){2}",Sa="[\\ud800-\\udbff][\\udc00-\\udfff]",bi="["+Ru+"]",_a="\\u200d",Hn="(?:"+xa+"|"+Nu+")",Aa="(?:"+bi+"|"+Nu+")",ln="(?:"+ya+"(?:d|ll|m|re|s|t|ve))?",yi="(?:"+ya+"(?:D|LL|M|RE|S|T|VE))?",Hu=Xs+"?",Uu="["+Fu+"]?",Hf="(?:"+_a+"(?:"+[Bu,Ys,Sa].join("|")+")"+Uu+Hu+")*",un="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$u=Uu+Hu+Hf,$f="(?:"+[Bf,Ys,Sa].join("|")+")"+$u,jr="(?:"+[Bu+es+"?",es,Ys,Sa,Nf].join("|")+")",Wf=RegExp(ya,"g"),zf=RegExp(es,"g"),Ea=RegExp(wa+"(?="+wa+")|"+jr+$u,"g"),Wu=RegExp([bi+"?"+xa+"+"+ln+"(?="+[ku,bi,"$"].join("|")+")",Aa+"+"+yi+"(?="+[ku,bi+Hn,"$"].join("|")+")",bi+"?"+Hn+"+"+ln,bi+"+"+yi,Uf,un,Mu,$f].join("|"),"g"),jf=RegExp("["+_a+Gs+bn+Fu+"]"),Gf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kf=-1,vt={};vt[pi]=vt[Hs]=vt[Us]=vt[fa]=vt[wu]=vt[$s]=vt[da]=vt[Ws]=vt[pa]=!0,vt[We]=vt[je]=vt[wt]=vt[nt]=vt[$r]=vt[St]=vt[Zn]=vt[ci]=vt[Nn]=vt[Jn]=vt[Ot]=vt[Ur]=vt[Pn]=vt[It]=vt[Ut]=!1;var dt={};dt[We]=dt[je]=dt[wt]=dt[$r]=dt[nt]=dt[St]=dt[pi]=dt[Hs]=dt[Us]=dt[fa]=dt[wu]=dt[Nn]=dt[Jn]=dt[Ot]=dt[Ur]=dt[Pn]=dt[It]=dt[di]=dt[$s]=dt[da]=dt[Ws]=dt[pa]=!0,dt[Zn]=dt[ci]=dt[Ut]=!1;var Xf={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},ju={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gu=parseFloat,Jf=parseInt,Zs=typeof v.g=="object"&&v.g&&v.g.Object===Object&&v.g,Vn=typeof self=="object"&&self&&self.Object===Object&&self,Nt=Zs||Vn||Function("return this")(),Ca=y&&!y.nodeType&&y,ts=Ca&&!0&&C&&!C.nodeType&&C,Pa=ts&&ts.exports===Ca,Ia=Pa&&Zs.process,In=function(){try{var Y=ts&&ts.require&&ts.require("util").types;return Y||Ia&&Ia.binding&&Ia.binding("util")}catch(le){}}(),Ta=In&&In.isArrayBuffer,yn=In&&In.isDate,Ku=In&&In.isMap,Xu=In&&In.isRegExp,Yu=In&&In.isSet,Un=In&&In.isTypedArray;function xn(Y,le,re){switch(re.length){case 0:return Y.call(le);case 1:return Y.call(le,re[0]);case 2:return Y.call(le,re[0],re[1]);case 3:return Y.call(le,re[0],re[1],re[2])}return Y.apply(le,re)}function Zu(Y,le,re,xe){for(var Ie=-1,me=Y==null?0:Y.length;++Ie<me;){var V=Y[Ie];le(xe,V,re(V),Y)}return xe}function Tn(Y,le){for(var re=-1,xe=Y==null?0:Y.length;++re<xe&&le(Y[re],re,Y)!==!1;);return Y}function Qf(Y,le){for(var re=Y==null?0:Y.length;re--&&le(Y[re],re,Y)!==!1;);return Y}function Oa(Y,le){for(var re=-1,xe=Y==null?0:Y.length;++re<xe;)if(!le(Y[re],re,Y))return!1;return!0}function ar(Y,le){for(var re=-1,xe=Y==null?0:Y.length,Ie=0,me=[];++re<xe;){var V=Y[re];le(V,re,Y)&&(me[Ie++]=V)}return me}function xi(Y,le){var re=Y==null?0:Y.length;return!!re&&wi(Y,le,0)>-1}function ns(Y,le,re){for(var xe=-1,Ie=Y==null?0:Y.length;++xe<Ie;)if(re(le,Y[xe]))return!0;return!1}function mt(Y,le){for(var re=-1,xe=Y==null?0:Y.length,Ie=Array(xe);++re<xe;)Ie[re]=le(Y[re],re,Y);return Ie}function Cr(Y,le){for(var re=-1,xe=le.length,Ie=Y.length;++re<xe;)Y[Ie+re]=le[re];return Y}function Js(Y,le,re,xe){var Ie=-1,me=Y==null?0:Y.length;for(xe&&me&&(re=Y[++Ie]);++Ie<me;)re=le(re,Y[Ie],Ie,Y);return re}function Vf(Y,le,re,xe){var Ie=Y==null?0:Y.length;for(xe&&Ie&&(re=Y[--Ie]);Ie--;)re=le(re,Y[Ie],Ie,Y);return re}function Da(Y,le){for(var re=-1,xe=Y==null?0:Y.length;++re<xe;)if(le(Y[re],re,Y))return!0;return!1}var Ju=Fa("length");function La(Y){return Y.split("")}function qf(Y){return Y.match(Tf)||[]}function rs(Y,le,re){var xe;return re(Y,function(Ie,me,V){if(le(Ie,me,V))return xe=me,!1}),xe}function is(Y,le,re,xe){for(var Ie=Y.length,me=re+(xe?1:-1);xe?me--:++me<Ie;)if(le(Y[me],me,Y))return me;return-1}function wi(Y,le,re){return le===le?tc(Y,le,re):is(Y,Ra,re)}function Qs(Y,le,re,xe){for(var Ie=re-1,me=Y.length;++Ie<me;)if(xe(Y[Ie],le))return Ie;return-1}function Ra(Y){return Y!==Y}function Qu(Y,le){var re=Y==null?0:Y.length;return re?Na(Y,le)/re:Be}function Fa(Y){return function(le){return le==null?h:le[Y]}}function ka(Y){return function(le){return Y==null?h:Y[le]}}function Ma(Y,le,re,xe,Ie){return Ie(Y,function(me,V,ke){re=xe?(xe=!1,me):le(re,me,V,ke)}),re}function ed(Y,le){var re=Y.length;for(Y.sort(le);re--;)Y[re]=Y[re].value;return Y}function Na(Y,le){for(var re,xe=-1,Ie=Y.length;++xe<Ie;){var me=le(Y[xe]);me!==h&&(re=re===h?me:re+me)}return re}function Vs(Y,le){for(var re=-1,xe=Array(Y);++re<Y;)xe[re]=le(re);return xe}function Vu(Y,le){return mt(le,function(re){return[re,Y[re]]})}function qu(Y){return Y&&Y.slice(0,nc(Y)+1).replace(va,"")}function wn(Y){return function(le){return Y(le)}}function qn(Y,le){return mt(le,function(re){return Y[re]})}function Si(Y,le){return Y.has(le)}function Ba(Y,le){for(var re=-1,xe=Y.length;++re<xe&&wi(le,Y[re],0)>-1;);return re}function qs(Y,le){for(var re=Y.length;re--&&wi(le,Y[re],0)>-1;);return re}function td(Y,le){for(var re=Y.length,xe=0;re--;)Y[re]===le&&++xe;return xe}var nd=ka(Xf),rd=ka(ju);function id(Y){return"\\"+Zf[Y]}function sd(Y,le){return Y==null?h:Y[le]}function _i(Y){return jf.test(Y)}function od(Y){return Gf.test(Y)}function lr(Y){for(var le,re=[];!(le=Y.next()).done;)re.push(le.value);return re}function ss(Y){var le=-1,re=Array(Y.size);return Y.forEach(function(xe,Ie){re[++le]=[Ie,xe]}),re}function ec(Y,le){return function(re){return Y(le(re))}}function ur(Y,le){for(var re=-1,xe=Y.length,Ie=0,me=[];++re<xe;){var V=Y[re];(V===le||V===B)&&(Y[re]=B,me[Ie++]=re)}return me}function eo(Y){var le=-1,re=Array(Y.size);return Y.forEach(function(xe){re[++le]=xe}),re}function ad(Y){var le=-1,re=Array(Y.size);return Y.forEach(function(xe){re[++le]=[xe,xe]}),re}function tc(Y,le,re){for(var xe=re-1,Ie=Y.length;++xe<Ie;)if(Y[xe]===le)return xe;return-1}function to(Y,le,re){for(var xe=re+1;xe--;)if(Y[xe]===le)return xe;return xe}function er(Y){return _i(Y)?ud(Y):Ju(Y)}function Dt(Y){return _i(Y)?rc(Y):La(Y)}function nc(Y){for(var le=Y.length;le--&&zs.test(Y.charAt(le)););return le}var ld=ka(Yf);function ud(Y){for(var le=Ea.lastIndex=0;Ea.test(Y);)++le;return le}function rc(Y){return Y.match(Ea)||[]}function cd(Y){return Y.match(Wu)||[]}var hd=function Y(le){le=le==null?Nt:os.defaults(Nt.Object(),le,os.pick(Nt,zu));var re=le.Array,xe=le.Date,Ie=le.Error,me=le.Function,V=le.Math,ke=le.Object,Ha=le.RegExp,as=le.String,gt=le.TypeError,Gr=re.prototype,ic=me.prototype,Lt=ke.prototype,ls=le["__core-js_shared__"],us=ic.toString,rt=Lt.hasOwnProperty,fd=0,Ai=function(){var i=/[^.]+$/.exec(ls&&ls.keys&&ls.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Rt=Lt.toString,sc=us.call(ke),dd=Nt._,cr=Ha("^"+us.call(rt).replace(ga,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),no=Pa?le.Buffer:h,At=le.Symbol,cn=le.Uint8Array,oc=no?no.allocUnsafe:h,tn=ec(ke.getPrototypeOf,ke),Ua=ke.create,ac=Lt.propertyIsEnumerable,tr=Gr.splice,lc=At?At.isConcatSpreadable:h,cs=At?At.iterator:h,Kr=At?At.toStringTag:h,Ei=function(){try{var i=ti(ke,"defineProperty");return i({},"",{}),i}catch(a){}}(),it=le.clearTimeout!==Nt.clearTimeout&&le.clearTimeout,uc=xe&&xe.now!==Nt.Date.now&&xe.now,Yt=le.setTimeout!==Nt.setTimeout&&le.setTimeout,nn=V.ceil,hs=V.floor,$a=ke.getOwnPropertySymbols,Xr=no?no.isBuffer:h,Wa=le.isFinite,ro=Gr.join,cc=ec(ke.keys,ke),Et=V.max,Wt=V.min,zt=xe.now,za=le.parseInt,hc=V.random,Ci=Gr.reverse,ja=ti(le,"DataView"),fs=ti(le,"Map"),Ga=ti(le,"Promise"),Ft=ti(le,"Set"),Yr=ti(le,"WeakMap"),Pi=ti(ke,"create"),Bt=Yr&&new Yr,Sn={},Ii=ri(ja),Ka=ri(fs),hv=ri(Ga),pd=ri(Ft),fv=ri(Yr),Xa=At?At.prototype:h,Ti=Xa?Xa.valueOf:h,io=Xa?Xa.toString:h;function x(i){if(xt(i)&&!Ne(i)&&!(i instanceof Xe)){if(i instanceof Zt)return i;if(rt.call(i,"__wrapped__"))return Qc(i)}return new Zt(i)}var Zr=function(){function i(){}return function(a){if(!yt(a))return{};if(Ua)return Ua(a);i.prototype=a;var c=new i;return i.prototype=h,c}}();function Jr(){}function Zt(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=h}x.templateSettings={escape:Cu,evaluate:Cf,interpolate:ct,variable:"",imports:{_:x}},x.prototype=Jr.prototype,x.prototype.constructor=x,Zt.prototype=Zr(Jr.prototype),Zt.prototype.constructor=Zt;function Xe(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function Oi(){var i=new Xe(this.__wrapped__);return i.__actions__=pn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=pn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=pn(this.__views__),i}function so(){if(this.__filtered__){var i=new Xe(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function ds(){var i=this.__wrapped__.value(),a=this.__dir__,c=Ne(i),d=a<0,b=c?i.length:0,E=Nd(0,b,this.__views__),k=E.start,W=E.end,Z=W-k,ue=d?W:k-1,ce=this.__iteratees__,fe=ce.length,be=0,Ce=Wt(Z,this.__takeCount__);if(!c||!d&&b==Z&&Ce==Z)return Oc(i,this.__actions__);var De=[];e:for(;Z--&&be<Ce;){ue+=a;for(var Ke=-1,Le=i[ue];++Ke<fe;){var Ze=ce[Ke],Qe=Ze.iteratee,qt=Ze.type,en=Qe(Le);if(qt==ye)Le=en;else if(!en){if(qt==ae)continue e;break e}}De[be++]=Le}return De}Xe.prototype=Zr(Jr.prototype),Xe.prototype.constructor=Xe;function $t(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var d=i[a];this.set(d[0],d[1])}}function dv(){this.__data__=Pi?Pi(null):{},this.size=0}function pv(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function gv(i){var a=this.__data__;if(Pi){var c=a[i];return c===F?h:c}return rt.call(a,i)?a[i]:h}function vv(i){var a=this.__data__;return Pi?a[i]!==h:rt.call(a,i)}function mv(i,a){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Pi&&a===h?F:a,this}$t.prototype.clear=dv,$t.prototype.delete=pv,$t.prototype.get=gv,$t.prototype.has=vv,$t.prototype.set=mv;function Pr(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var d=i[a];this.set(d[0],d[1])}}function bv(){this.__data__=[],this.size=0}function gd(i){var a=this.__data__,c=Li(a,i);if(c<0)return!1;var d=a.length-1;return c==d?a.pop():tr.call(a,c,1),--this.size,!0}function _n(i){var a=this.__data__,c=Li(a,i);return c<0?h:a[c][1]}function oo(i){return Li(this.__data__,i)>-1}function ps(i,a){var c=this.__data__,d=Li(c,i);return d<0?(++this.size,c.push([i,a])):c[d][1]=a,this}Pr.prototype.clear=bv,Pr.prototype.delete=gd,Pr.prototype.get=_n,Pr.prototype.has=oo,Pr.prototype.set=ps;function An(i){var a=-1,c=i==null?0:i.length;for(this.clear();++a<c;){var d=i[a];this.set(d[0],d[1])}}function hn(){this.size=0,this.__data__={hash:new $t,map:new(fs||Pr),string:new $t}}function fc(i){var a=Hi(this,i).delete(i);return this.size-=a?1:0,a}function Qr(i){return Hi(this,i).get(i)}function Di(i){return Hi(this,i).has(i)}function Ya(i,a){var c=Hi(this,i),d=c.size;return c.set(i,a),this.size+=c.size==d?0:1,this}An.prototype.clear=hn,An.prototype.delete=fc,An.prototype.get=Qr,An.prototype.has=Di,An.prototype.set=Ya;function Ir(i){var a=-1,c=i==null?0:i.length;for(this.__data__=new An;++a<c;)this.add(i[a])}function ao(i){return this.__data__.set(i,F),this}function vd(i){return this.__data__.has(i)}Ir.prototype.add=Ir.prototype.push=ao,Ir.prototype.has=vd;function $n(i){var a=this.__data__=new Pr(i);this.size=a.size}function Za(){this.__data__=new Pr,this.size=0}function Tr(i){var a=this.__data__,c=a.delete(i);return this.size=a.size,c}function lo(i){return this.__data__.get(i)}function md(i){return this.__data__.has(i)}function bd(i,a){var c=this.__data__;if(c instanceof Pr){var d=c.__data__;if(!fs||d.length<g-1)return d.push([i,a]),this.size=++c.size,this;c=this.__data__=new An(d)}return c.set(i,a),this.size=c.size,this}$n.prototype.clear=Za,$n.prototype.delete=Tr,$n.prototype.get=lo,$n.prototype.has=md,$n.prototype.set=bd;function Or(i,a){var c=Ne(i),d=!c&&yr(i),b=!c&&!d&&xr(i),E=!c&&!d&&!b&&Yi(i),k=c||d||b||E,W=k?Vs(i.length,as):[],Z=W.length;for(var ue in i)(a||rt.call(i,ue))&&!(k&&(ue=="length"||b&&(ue=="offset"||ue=="parent")||E&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||mr(ue,Z)))&&W.push(ue);return W}function Dr(i){var a=i.length;return a?i[Ao(0,a-1)]:h}function Ja(i,a){return Ts(pn(i),Ri(a,0,i.length))}function dc(i){return Ts(pn(i))}function uo(i,a,c){(c!==h&&!Rn(i[a],c)||c===h&&!(a in i))&&hr(i,a,c)}function fn(i,a,c){var d=i[a];(!(rt.call(i,a)&&Rn(d,c))||c===h&&!(a in i))&&hr(i,a,c)}function Li(i,a){for(var c=i.length;c--;)if(Rn(i[c][0],a))return c;return-1}function Qa(i,a,c,d){return dn(i,function(b,E,k){a(d,b,c(b),k)}),d}function pc(i,a){return i&&zn(a,Ht(a),i)}function yd(i,a){return i&&zn(a,gn(a),i)}function hr(i,a,c){a=="__proto__"&&Ei?Ei(i,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[a]=c}function Va(i,a){for(var c=-1,d=a.length,b=re(d),E=i==null;++c<d;)b[c]=E?h:Ql(i,a[c]);return b}function Ri(i,a,c){return i===i&&(c!==h&&(i=i<=c?i:c),a!==h&&(i=i>=a?i:a)),i}function On(i,a,c,d,b,E){var k,W=a&I,Z=a&M,ue=a&U;if(c&&(k=b?c(i,d,b,E):c(i)),k!==h)return k;if(!yt(i))return i;var ce=Ne(i);if(ce){if(k=vl(i),!W)return pn(i,k)}else{var fe=Qt(i),be=fe==ci||fe==hi;if(xr(i))return Dc(i,W);if(fe==Ot||fe==We||be&&!b){if(k=Z||be?{}:Gc(i),!W)return Z?Dd(i,yd(k,i)):Lo(i,pc(k,i))}else{if(!dt[fe])return b?i:{};k=Bd(i,fe,W)}}E||(E=new $n);var Ce=E.get(i);if(Ce)return Ce;E.set(i,k),Yl(i)?i.forEach(function(Le){k.add(On(Le,a,c,Le,i,E))}):Kl(i)&&i.forEach(function(Le,Ze){k.set(Ze,On(Le,a,c,Ze,i,E))});var De=ue?Z?As:zc:Z?gn:Ht,Ke=ce?h:De(i);return Tn(Ke||i,function(Le,Ze){Ke&&(Ze=Le,Le=i[Ze]),fn(k,Ze,On(Le,a,c,Ze,i,E))}),k}function xd(i){var a=Ht(i);return function(c){return gc(c,i,a)}}function gc(i,a,c){var d=c.length;if(i==null)return!d;for(i=ke(i);d--;){var b=c[d],E=a[b],k=i[b];if(k===h&&!(b in i)||!E(k))return!1}return!0}function vc(i,a,c){if(typeof i!="function")throw new gt(L);return Ps(function(){i.apply(h,c)},a)}function co(i,a,c,d){var b=-1,E=xi,k=!0,W=i.length,Z=[],ue=a.length;if(!W)return Z;c&&(a=mt(a,wn(c))),d?(E=ns,k=!1):a.length>=g&&(E=Si,k=!1,a=new Ir(a));e:for(;++b<W;){var ce=i[b],fe=c==null?ce:c(ce);if(ce=d||ce!==0?ce:0,k&&fe===fe){for(var be=ue;be--;)if(a[be]===fe)continue e;Z.push(ce)}else E(a,fe,d)||Z.push(ce)}return Z}var dn=Nc(Wn),ho=Nc(po,!0);function qa(i,a){var c=!0;return dn(i,function(d,b,E){return c=!!a(d,b,E),c}),c}function fo(i,a,c){for(var d=-1,b=i.length;++d<b;){var E=i[d],k=a(E);if(k!=null&&(W===h?k===k&&!on(k):c(k,W)))var W=k,Z=E}return Z}function yv(i,a,c,d){var b=i.length;for(c=Ge(c),c<0&&(c=-c>b?0:b+c),d=d===h||d>b?b:Ge(d),d<0&&(d+=b),d=c>d?0:$h(d);c<d;)i[c++]=a;return i}function mc(i,a){var c=[];return dn(i,function(d,b,E){a(d,b,E)&&c.push(d)}),c}function jt(i,a,c,d,b){var E=-1,k=i.length;for(c||(c=Ud),b||(b=[]);++E<k;){var W=i[E];a>0&&c(W)?a>1?jt(W,a-1,c,d,b):Cr(b,W):d||(b[b.length]=W)}return b}var el=Ro(),gs=Ro(!0);function Wn(i,a){return i&&el(i,a,Ht)}function po(i,a){return i&&gs(i,a,Ht)}function go(i,a){return ar(a,function(c){return Xn(i[c])})}function Lr(i,a){a=Rr(a,i);for(var c=0,d=a.length;i!=null&&c<d;)i=i[Kn(a[c++])];return c&&c==d?i:h}function bc(i,a,c){var d=a(i);return Ne(i)?d:Cr(d,c(i))}function Gt(i){return i==null?i===h?qi:Bn:Kr&&Kr in ke(i)?Md(i):Gd(i)}function tl(i,a){return i>a}function Vr(i,a){return i!=null&&rt.call(i,a)}function Fi(i,a){return i!=null&&a in ke(i)}function yc(i,a,c){return i>=Wt(a,c)&&i<Et(a,c)}function vo(i,a,c){for(var d=c?ns:xi,b=i[0].length,E=i.length,k=E,W=re(E),Z=1/0,ue=[];k--;){var ce=i[k];k&&a&&(ce=mt(ce,wn(a))),Z=Wt(ce.length,Z),W[k]=!c&&(a||b>=120&&ce.length>=120)?new Ir(k&&ce):h}ce=i[0];var fe=-1,be=W[0];e:for(;++fe<b&&ue.length<Z;){var Ce=ce[fe],De=a?a(Ce):Ce;if(Ce=c||Ce!==0?Ce:0,!(be?Si(be,De):d(ue,De,c))){for(k=E;--k;){var Ke=W[k];if(!(Ke?Si(Ke,De):d(i[k],De,c)))continue e}be&&be.push(De),ue.push(Ce)}}return ue}function nl(i,a,c,d){return Wn(i,function(b,E,k){a(d,c(b),E,k)}),d}function qr(i,a,c){a=Rr(a,i),i=Zc(i,a);var d=i==null?i:i[Kn(sn(a))];return d==null?h:xn(d,i,c)}function mo(i){return xt(i)&&Gt(i)==We}function bo(i){return xt(i)&&Gt(i)==wt}function vs(i){return xt(i)&&Gt(i)==St}function ms(i,a,c,d,b){return i===a?!0:i==null||a==null||!xt(i)&&!xt(a)?i!==i&&a!==a:yo(i,a,c,d,ms,b)}function yo(i,a,c,d,b,E){var k=Ne(i),W=Ne(a),Z=k?je:Qt(i),ue=W?je:Qt(a);Z=Z==We?Ot:Z,ue=ue==We?Ot:ue;var ce=Z==Ot,fe=ue==Ot,be=Z==ue;if(be&&xr(i)){if(!xr(a))return!1;k=!0,ce=!1}if(be&&!ce)return E||(E=new $n),k||Yi(i)?kd(i,a,c,d,b,E):pr(i,a,Z,c,d,b,E);if(!(c&O)){var Ce=ce&&rt.call(i,"__wrapped__"),De=fe&&rt.call(a,"__wrapped__");if(Ce||De){var Ke=Ce?i.value():i,Le=De?a.value():a;return E||(E=new $n),b(Ke,Le,c,d,E)}}return be?(E||(E=new $n),pl(i,a,c,d,b,E)):!1}function wd(i){return xt(i)&&Qt(i)==Nn}function xo(i,a,c,d){var b=c.length,E=b,k=!d;if(i==null)return!E;for(i=ke(i);b--;){var W=c[b];if(k&&W[2]?W[1]!==i[W[0]]:!(W[0]in i))return!1}for(;++b<E;){W=c[b];var Z=W[0],ue=i[Z],ce=W[1];if(k&&W[2]){if(ue===h&&!(Z in i))return!1}else{var fe=new $n;if(d)var be=d(ue,ce,Z,i,a,fe);if(!(be===h?ms(ce,ue,O|X,d,fe):be))return!1}}return!0}function wo(i){if(!yt(i)||$d(i))return!1;var a=Xn(i)?cr:Qn;return a.test(ri(i))}function xv(i){return xt(i)&&Gt(i)==Ur}function wv(i){return xt(i)&&Qt(i)==Pn}function Sv(i){return xt(i)&&Gl(i.length)&&!!vt[Gt(i)]}function Sd(i){return typeof i=="function"?i:i==null?vn:typeof i=="object"?Ne(i)?Ed(i[0],i[1]):Ad(i):fu(i)}function xc(i){if(!ni(i))return cc(i);var a=[];for(var c in ke(i))rt.call(i,c)&&c!="constructor"&&a.push(c);return a}function _v(i){if(!yt(i))return ml(i);var a=ni(i),c=[];for(var d in i)d=="constructor"&&(a||!rt.call(i,d))||c.push(d);return c}function wc(i,a){return i<a}function _d(i,a){var c=-1,d=Vt(i)?re(i.length):[];return dn(i,function(b,E,k){d[++c]=a(b,E,k)}),d}function Ad(i){var a=Cs(i);return a.length==1&&a[0][2]?Yc(a[0][0],a[0][1]):function(c){return c===i||xo(c,i,a)}}function Ed(i,a){return Uo(i)&&Xc(a)?Yc(Kn(i),a):function(c){var d=Ql(c,i);return d===h&&d===a?Vl(c,i):ms(a,d,O|X)}}function rl(i,a,c,d,b){i!==a&&el(a,function(E,k){if(b||(b=new $n),yt(E))Sc(i,a,k,c,rl,d,b);else{var W=d?d(bl(i,k),E,k+"",i,a,b):h;W===h&&(W=E),uo(i,k,W)}},gn)}function Sc(i,a,c,d,b,E,k){var W=bl(i,c),Z=bl(a,c),ue=k.get(Z);if(ue){uo(i,c,ue);return}var ce=E?E(W,Z,c+"",i,a,k):h,fe=ce===h;if(fe){var be=Ne(Z),Ce=!be&&xr(Z),De=!be&&!Ce&&Yi(Z);ce=Z,be||Ce||De?Ne(W)?ce=W:Ct(W)?ce=pn(W):Ce?(fe=!1,ce=Dc(Z,!0)):De?(fe=!1,ce=hl(Z,!0)):ce=[]:Gi(Z)||yr(Z)?(ce=W,yr(W)?ce=Jl(W):(!yt(W)||Xn(W))&&(ce=Gc(Z))):fe=!1}fe&&(k.set(Z,ce),b(ce,Z,d,E,k),k.delete(Z)),uo(i,c,ce)}function bs(i,a){var c=i.length;if(!!c)return a+=a<0?c:0,mr(a,c)?i[a]:h}function So(i,a,c){a.length?a=mt(a,function(E){return Ne(E)?function(k){return Lr(k,E.length===1?E[0]:E)}:E}):a=[vn];var d=-1;a=mt(a,wn(Te()));var b=_d(i,function(E,k,W){var Z=mt(a,function(ue){return ue(E)});return{criteria:Z,index:++d,value:E}});return ed(b,function(E,k){return Od(E,k,c)})}function _c(i,a){return _o(i,a,function(c,d){return Vl(i,d)})}function _o(i,a,c){for(var d=-1,b=a.length,E={};++d<b;){var k=a[d],W=Lr(i,k);c(W,k)&&xs(E,Rr(k,i),W)}return E}function Ac(i){return function(a){return Lr(a,i)}}function nr(i,a,c,d){var b=d?Qs:wi,E=-1,k=a.length,W=i;for(i===a&&(a=pn(a)),c&&(W=mt(i,wn(c)));++E<k;)for(var Z=0,ue=a[E],ce=c?c(ue):ue;(Z=b(W,ce,Z,d))>-1;)W!==i&&tr.call(W,Z,1),tr.call(i,Z,1);return i}function Ec(i,a){for(var c=i?a.length:0,d=c-1;c--;){var b=a[c];if(c==d||b!==E){var E=b;mr(b)?tr.call(i,b,1):al(i,b)}}return i}function Ao(i,a){return i+hs(hc()*(a-i+1))}function Cd(i,a,c,d){for(var b=-1,E=Et(nn((a-i)/(c||1)),0),k=re(E);E--;)k[d?E:++b]=i,i+=c;return k}function ys(i,a){var c="";if(!i||a<1||a>Ee)return c;do a%2&&(c+=i),a=hs(a/2),a&&(i+=i);while(a);return c}function Ue(i,a){return yl(bt(i,a,vn),i+"")}function Cc(i){return Dr(Zi(i))}function Pd(i,a){var c=Zi(i);return Ts(c,Ri(a,0,c.length))}function xs(i,a,c,d){if(!yt(i))return i;a=Rr(a,i);for(var b=-1,E=a.length,k=E-1,W=i;W!=null&&++b<E;){var Z=Kn(a[b]),ue=c;if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return i;if(b!=k){var ce=W[Z];ue=d?d(ce,Z,W):h,ue===h&&(ue=yt(ce)?ce:mr(a[b+1])?[]:{})}fn(W,Z,ue),W=W[Z]}return i}var il=Bt?function(i,a){return Bt.set(i,a),i}:vn,sl=Ei?function(i,a){return Ei(i,"toString",{configurable:!0,enumerable:!1,value:cu(a),writable:!0})}:vn;function Id(i){return Ts(Zi(i))}function Jt(i,a,c){var d=-1,b=i.length;a<0&&(a=-a>b?0:b+a),c=c>b?b:c,c<0&&(c+=b),b=a>c?0:c-a>>>0,a>>>=0;for(var E=re(b);++d<b;)E[d]=i[d+a];return E}function Eo(i,a){var c;return dn(i,function(d,b,E){return c=a(d,b,E),!c}),!!c}function Co(i,a,c){var d=0,b=i==null?d:i.length;if(typeof a=="number"&&a===a&&b<=ge){for(;d<b;){var E=d+b>>>1,k=i[E];k!==null&&!on(k)&&(c?k<=a:k<a)?d=E+1:b=E}return b}return ol(i,a,vn,c)}function ol(i,a,c,d){var b=0,E=i==null?0:i.length;if(E===0)return 0;a=c(a);for(var k=a!==a,W=a===null,Z=on(a),ue=a===h;b<E;){var ce=hs((b+E)/2),fe=c(i[ce]),be=fe!==h,Ce=fe===null,De=fe===fe,Ke=on(fe);if(k)var Le=d||De;else ue?Le=De&&(d||be):W?Le=De&&be&&(d||!Ce):Z?Le=De&&be&&!Ce&&(d||!Ke):Ce||Ke?Le=!1:Le=d?fe<=a:fe<a;Le?b=ce+1:E=ce}return Wt(E,Fe)}function Pc(i,a){for(var c=-1,d=i.length,b=0,E=[];++c<d;){var k=i[c],W=a?a(k):k;if(!c||!Rn(W,Z)){var Z=W;E[b++]=k===0?0:k}}return E}function Ic(i){return typeof i=="number"?i:on(i)?Be:+i}function En(i){if(typeof i=="string")return i;if(Ne(i))return mt(i,En)+"";if(on(i))return io?io.call(i):"";var a=i+"";return a=="0"&&1/i==-Me?"-0":a}function fr(i,a,c){var d=-1,b=xi,E=i.length,k=!0,W=[],Z=W;if(c)k=!1,b=ns;else if(E>=g){var ue=a?null:Fd(i);if(ue)return eo(ue);k=!1,b=Si,Z=new Ir}else Z=a?[]:W;e:for(;++d<E;){var ce=i[d],fe=a?a(ce):ce;if(ce=c||ce!==0?ce:0,k&&fe===fe){for(var be=Z.length;be--;)if(Z[be]===fe)continue e;a&&Z.push(fe),W.push(ce)}else b(Z,fe,c)||(Z!==W&&Z.push(fe),W.push(ce))}return W}function al(i,a){return a=Rr(a,i),i=Zc(i,a),i==null||delete i[Kn(sn(a))]}function Tc(i,a,c,d){return xs(i,a,c(Lr(i,a)),d)}function Po(i,a,c,d){for(var b=i.length,E=d?b:-1;(d?E--:++E<b)&&a(i[E],E,i););return c?Jt(i,d?0:E,d?E+1:b):Jt(i,d?E+1:0,d?b:E)}function Oc(i,a){var c=i;return c instanceof Xe&&(c=c.value()),Js(a,function(d,b){return b.func.apply(b.thisArg,Cr([d],b.args))},c)}function Io(i,a,c){var d=i.length;if(d<2)return d?fr(i[0]):[];for(var b=-1,E=re(d);++b<d;)for(var k=i[b],W=-1;++W<d;)W!=b&&(E[b]=co(E[b]||k,i[W],a,c));return fr(jt(E,1),a,c)}function ll(i,a,c){for(var d=-1,b=i.length,E=a.length,k={};++d<b;){var W=d<E?a[d]:h;c(k,i[d],W)}return k}function ul(i){return Ct(i)?i:[]}function To(i){return typeof i=="function"?i:vn}function Rr(i,a){return Ne(i)?i:Uo(i,a)?[i]:Wo(ot(i))}var Td=Ue;function dr(i,a,c){var d=i.length;return c=c===h?d:c,!a&&c>=d?i:Jt(i,a,c)}var Oo=it||function(i){return Nt.clearTimeout(i)};function Dc(i,a){if(a)return i.slice();var c=i.length,d=oc?oc(c):new i.constructor(c);return i.copy(d),d}function Do(i){var a=new i.constructor(i.byteLength);return new cn(a).set(new cn(i)),a}function Lc(i,a){var c=a?Do(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function cl(i){var a=new i.constructor(i.source,ma.exec(i));return a.lastIndex=i.lastIndex,a}function Rc(i){return Ti?ke(Ti.call(i)):{}}function hl(i,a){var c=a?Do(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function Fc(i,a){if(i!==a){var c=i!==h,d=i===null,b=i===i,E=on(i),k=a!==h,W=a===null,Z=a===a,ue=on(a);if(!W&&!ue&&!E&&i>a||E&&k&&Z&&!W&&!ue||d&&k&&Z||!c&&Z||!b)return 1;if(!d&&!E&&!ue&&i<a||ue&&c&&b&&!d&&!E||W&&c&&b||!k&&b||!Z)return-1}return 0}function Od(i,a,c){for(var d=-1,b=i.criteria,E=a.criteria,k=b.length,W=c.length;++d<k;){var Z=Fc(b[d],E[d]);if(Z){if(d>=W)return Z;var ue=c[d];return Z*(ue=="desc"?-1:1)}}return i.index-a.index}function kc(i,a,c,d){for(var b=-1,E=i.length,k=c.length,W=-1,Z=a.length,ue=Et(E-k,0),ce=re(Z+ue),fe=!d;++W<Z;)ce[W]=a[W];for(;++b<k;)(fe||b<E)&&(ce[c[b]]=i[b]);for(;ue--;)ce[W++]=i[b++];return ce}function Mc(i,a,c,d){for(var b=-1,E=i.length,k=-1,W=c.length,Z=-1,ue=a.length,ce=Et(E-W,0),fe=re(ce+ue),be=!d;++b<ce;)fe[b]=i[b];for(var Ce=b;++Z<ue;)fe[Ce+Z]=a[Z];for(;++k<W;)(be||b<E)&&(fe[Ce+c[k]]=i[b++]);return fe}function pn(i,a){var c=-1,d=i.length;for(a||(a=re(d));++c<d;)a[c]=i[c];return a}function zn(i,a,c,d){var b=!c;c||(c={});for(var E=-1,k=a.length;++E<k;){var W=a[E],Z=d?d(c[W],i[W],W,c,i):h;Z===h&&(Z=i[W]),b?hr(c,W,Z):fn(c,W,Z)}return c}function Lo(i,a){return zn(i,gl(i),a)}function Dd(i,a){return zn(i,jc(i),a)}function ws(i,a){return function(c,d){var b=Ne(c)?Zu:Qa,E=a?a():{};return b(c,i,Te(d,2),E)}}function ki(i){return Ue(function(a,c){var d=-1,b=c.length,E=b>1?c[b-1]:h,k=b>2?c[2]:h;for(E=i.length>3&&typeof E=="function"?(b--,E):h,k&&rn(c[0],c[1],k)&&(E=b<3?h:E,b=1),a=ke(a);++d<b;){var W=c[d];W&&i(a,W,d,E)}return a})}function Nc(i,a){return function(c,d){if(c==null)return c;if(!Vt(c))return i(c,d);for(var b=c.length,E=a?b:-1,k=ke(c);(a?E--:++E<b)&&d(k[E],E,k)!==!1;);return c}}function Ro(i){return function(a,c,d){for(var b=-1,E=ke(a),k=d(a),W=k.length;W--;){var Z=k[i?W:++b];if(c(E[Z],Z,E)===!1)break}return a}}function Ld(i,a,c){var d=a&te,b=Ss(i);function E(){var k=this&&this!==Nt&&this instanceof E?b:i;return k.apply(d?c:this,arguments)}return E}function Fo(i){return function(a){a=ot(a);var c=_i(a)?Dt(a):h,d=c?c[0]:a.charAt(0),b=c?dr(c,1).join(""):a.slice(1);return d[i]()+b}}function Mi(i){return function(a){return Js(uf(sf(a).replace(Wf,"")),i,"")}}function Ss(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=Zr(i.prototype),d=i.apply(c,a);return yt(d)?d:c}}function Bc(i,a,c){var d=Ss(i);function b(){for(var E=arguments.length,k=re(E),W=E,Z=Bi(b);W--;)k[W]=arguments[W];var ue=E<3&&k[0]!==Z&&k[E-1]!==Z?[]:ur(k,Z);if(E-=ue.length,E<c)return $c(i,a,ko,b.placeholder,h,k,ue,h,h,c-E);var ce=this&&this!==Nt&&this instanceof b?d:i;return xn(ce,this,k)}return b}function Hc(i){return function(a,c,d){var b=ke(a);if(!Vt(a)){var E=Te(c,3);a=Ht(a),c=function(W){return E(b[W],W,b)}}var k=i(a,c,d);return k>-1?b[E?a[k]:k]:h}}function Ni(i){return Dn(function(a){var c=a.length,d=c,b=Zt.prototype.thru;for(i&&a.reverse();d--;){var E=a[d];if(typeof E!="function")throw new gt(L);if(b&&!k&&gr(E)=="wrapper")var k=new Zt([],!0)}for(d=k?d:c;++d<c;){E=a[d];var W=gr(E),Z=W=="wrapper"?Es(E):h;Z&&$o(Z[0])&&Z[1]==(T|N|G|R)&&!Z[4].length&&Z[9]==1?k=k[gr(Z[0])].apply(k,Z[3]):k=E.length==1&&$o(E)?k[W]():k.thru(E)}return function(){var ue=arguments,ce=ue[0];if(k&&ue.length==1&&Ne(ce))return k.plant(ce).value();for(var fe=0,be=c?a[fe].apply(this,ue):ce;++fe<c;)be=a[fe].call(this,be);return be}})}function ko(i,a,c,d,b,E,k,W,Z,ue){var ce=a&T,fe=a&te,be=a&ne,Ce=a&(N|$),De=a&H,Ke=be?h:Ss(i);function Le(){for(var Ze=arguments.length,Qe=re(Ze),qt=Ze;qt--;)Qe[qt]=arguments[qt];if(Ce)var en=Bi(Le),Cn=td(Qe,en);if(d&&(Qe=kc(Qe,d,b,Ce)),E&&(Qe=Mc(Qe,E,k,Ce)),Ze-=Cn,Ce&&Ze<ue){var Tt=ur(Qe,en);return $c(i,a,ko,Le.placeholder,c,Qe,Tt,W,Z,ue-Ze)}var kn=fe?c:this,Mr=be?kn[i]:i;return Ze=Qe.length,W?Qe=Kd(Qe,W):De&&Ze>1&&Qe.reverse(),ce&&Z<Ze&&(Qe.length=Z),this&&this!==Nt&&this instanceof Le&&(Mr=Ke||Ss(Mr)),Mr.apply(kn,Qe)}return Le}function Uc(i,a){return function(c,d){return nl(c,i,a(d),{})}}function Mo(i,a){return function(c,d){var b;if(c===h&&d===h)return a;if(c!==h&&(b=c),d!==h){if(b===h)return d;typeof c=="string"||typeof d=="string"?(c=En(c),d=En(d)):(c=Ic(c),d=Ic(d)),b=i(c,d)}return b}}function No(i){return Dn(function(a){return a=mt(a,wn(Te())),Ue(function(c){var d=this;return i(a,function(b){return xn(b,d,c)})})})}function Bo(i,a){a=a===h?" ":En(a);var c=a.length;if(c<2)return c?ys(a,i):a;var d=ys(a,nn(i/er(a)));return _i(a)?dr(Dt(d),0,i).join(""):d.slice(0,i)}function ei(i,a,c,d){var b=a&te,E=Ss(i);function k(){for(var W=-1,Z=arguments.length,ue=-1,ce=d.length,fe=re(ce+Z),be=this&&this!==Nt&&this instanceof k?E:i;++ue<ce;)fe[ue]=d[ue];for(;Z--;)fe[ue++]=arguments[++W];return xn(be,b?c:this,fe)}return k}function Rd(i){return function(a,c,d){return d&&typeof d!="number"&&rn(a,c,d)&&(c=d=h),a=Sr(a),c===h?(c=a,a=0):c=Sr(c),d=d===h?a<c?1:-1:Sr(d),Cd(a,c,d,i)}}function _s(i){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=Fn(a),c=Fn(c)),i(a,c)}}function $c(i,a,c,d,b,E,k,W,Z,ue){var ce=a&N,fe=ce?k:h,be=ce?h:k,Ce=ce?E:h,De=ce?h:E;a|=ce?G:S,a&=~(ce?S:G),a&z||(a&=~(te|ne));var Ke=[i,a,b,Ce,fe,De,be,W,Z,ue],Le=c.apply(h,Ke);return $o(i)&&Jc(Le,Ke),Le.placeholder=d,xl(Le,i,a)}function fl(i){var a=V[i];return function(c,d){if(c=Fn(c),d=d==null?0:Wt(Ge(d),292),d&&Wa(c)){var b=(ot(c)+"e").split("e"),E=a(b[0]+"e"+(+b[1]+d));return b=(ot(E)+"e").split("e"),+(b[0]+"e"+(+b[1]-d))}return a(c)}}var Fd=Ft&&1/eo(new Ft([,-0]))[1]==Me?function(i){return new Ft(i)}:oa;function Wc(i){return function(a){var c=Qt(a);return c==Nn?ss(a):c==Pn?ad(a):Vu(a,i(a))}}function rr(i,a,c,d,b,E,k,W){var Z=a&ne;if(!Z&&typeof i!="function")throw new gt(L);var ue=d?d.length:0;if(ue||(a&=~(G|S),d=b=h),k=k===h?k:Et(Ge(k),0),W=W===h?W:Ge(W),ue-=b?b.length:0,a&S){var ce=d,fe=b;d=b=h}var be=Z?h:Es(i),Ce=[i,a,c,d,b,ce,fe,E,k,W];if(be&&jd(Ce,be),i=Ce[0],a=Ce[1],c=Ce[2],d=Ce[3],b=Ce[4],W=Ce[9]=Ce[9]===h?Z?0:i.length:Et(Ce[9]-ue,0),!W&&a&(N|$)&&(a&=~(N|$)),!a||a==te)var De=Ld(i,a,c);else a==N||a==$?De=Bc(i,a,W):(a==G||a==(te|G))&&!b.length?De=ei(i,a,c,d):De=ko.apply(h,Ce);var Ke=be?il:Jc;return xl(Ke(De,Ce),i,a)}function Ho(i,a,c,d){return i===h||Rn(i,Lt[c])&&!rt.call(d,c)?a:i}function dl(i,a,c,d,b,E){return yt(i)&&yt(a)&&(E.set(a,i),rl(i,a,h,dl,E),E.delete(a)),i}function jn(i){return Gi(i)?h:i}function kd(i,a,c,d,b,E){var k=c&O,W=i.length,Z=a.length;if(W!=Z&&!(k&&Z>W))return!1;var ue=E.get(i),ce=E.get(a);if(ue&&ce)return ue==a&&ce==i;var fe=-1,be=!0,Ce=c&X?new Ir:h;for(E.set(i,a),E.set(a,i);++fe<W;){var De=i[fe],Ke=a[fe];if(d)var Le=k?d(Ke,De,fe,a,i,E):d(De,Ke,fe,i,a,E);if(Le!==h){if(Le)continue;be=!1;break}if(Ce){if(!Da(a,function(Ze,Qe){if(!Si(Ce,Qe)&&(De===Ze||b(De,Ze,c,d,E)))return Ce.push(Qe)})){be=!1;break}}else if(!(De===Ke||b(De,Ke,c,d,E))){be=!1;break}}return E.delete(i),E.delete(a),be}function pr(i,a,c,d,b,E,k){switch(c){case $r:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case wt:return!(i.byteLength!=a.byteLength||!E(new cn(i),new cn(a)));case nt:case St:case Jn:return Rn(+i,+a);case Zn:return i.name==a.name&&i.message==a.message;case Ur:case It:return i==a+"";case Nn:var W=ss;case Pn:var Z=d&O;if(W||(W=eo),i.size!=a.size&&!Z)return!1;var ue=k.get(i);if(ue)return ue==a;d|=X,k.set(i,a);var ce=kd(W(i),W(a),d,b,E,k);return k.delete(i),ce;case di:if(Ti)return Ti.call(i)==Ti.call(a)}return!1}function pl(i,a,c,d,b,E){var k=c&O,W=zc(i),Z=W.length,ue=zc(a),ce=ue.length;if(Z!=ce&&!k)return!1;for(var fe=Z;fe--;){var be=W[fe];if(!(k?be in a:rt.call(a,be)))return!1}var Ce=E.get(i),De=E.get(a);if(Ce&&De)return Ce==a&&De==i;var Ke=!0;E.set(i,a),E.set(a,i);for(var Le=k;++fe<Z;){be=W[fe];var Ze=i[be],Qe=a[be];if(d)var qt=k?d(Qe,Ze,be,a,i,E):d(Ze,Qe,be,i,a,E);if(!(qt===h?Ze===Qe||b(Ze,Qe,c,d,E):qt)){Ke=!1;break}Le||(Le=be=="constructor")}if(Ke&&!Le){var en=i.constructor,Cn=a.constructor;en!=Cn&&"constructor"in i&&"constructor"in a&&!(typeof en=="function"&&en instanceof en&&typeof Cn=="function"&&Cn instanceof Cn)&&(Ke=!1)}return E.delete(i),E.delete(a),Ke}function Dn(i){return yl(bt(i,h,nh),i+"")}function zc(i){return bc(i,Ht,gl)}function As(i){return bc(i,gn,jc)}var Es=Bt?function(i){return Bt.get(i)}:oa;function gr(i){for(var a=i.name+"",c=Sn[a],d=rt.call(Sn,a)?c.length:0;d--;){var b=c[d],E=b.func;if(E==null||E==i)return b.name}return a}function Bi(i){var a=rt.call(x,"placeholder")?x:i;return a.placeholder}function Te(){var i=x.iteratee||hu;return i=i===hu?Sd:i,arguments.length?i(arguments[0],arguments[1]):i}function Hi(i,a){var c=i.__data__;return Kc(a)?c[typeof a=="string"?"string":"hash"]:c.map}function Cs(i){for(var a=Ht(i),c=a.length;c--;){var d=a[c],b=i[d];a[c]=[d,b,Xc(b)]}return a}function ti(i,a){var c=sd(i,a);return wo(c)?c:h}function Md(i){var a=rt.call(i,Kr),c=i[Kr];try{i[Kr]=h;var d=!0}catch(E){}var b=Rt.call(i);return d&&(a?i[Kr]=c:delete i[Kr]),b}var gl=$a?function(i){return i==null?[]:(i=ke(i),ar($a(i),function(a){return ac.call(i,a)}))}:pu,jc=$a?function(i){for(var a=[];i;)Cr(a,gl(i)),i=tn(i);return a}:pu,Qt=Gt;(ja&&Qt(new ja(new ArrayBuffer(1)))!=$r||fs&&Qt(new fs)!=Nn||Ga&&Qt(Ga.resolve())!=Hr||Ft&&Qt(new Ft)!=Pn||Yr&&Qt(new Yr)!=Ut)&&(Qt=function(i){var a=Gt(i),c=a==Ot?i.constructor:h,d=c?ri(c):"";if(d)switch(d){case Ii:return $r;case Ka:return Nn;case hv:return Hr;case pd:return Pn;case fv:return Ut}return a});function Nd(i,a,c){for(var d=-1,b=c.length;++d<b;){var E=c[d],k=E.size;switch(E.type){case"drop":i+=k;break;case"dropRight":a-=k;break;case"take":a=Wt(a,i+k);break;case"takeRight":i=Et(i,a-k);break}}return{start:i,end:a}}function Gn(i){var a=i.match(vi);return a?a[1].split(Iu):[]}function vr(i,a,c){a=Rr(a,i);for(var d=-1,b=a.length,E=!1;++d<b;){var k=Kn(a[d]);if(!(E=i!=null&&c(i,k)))break;i=i[k]}return E||++d!=b?E:(b=i==null?0:i.length,!!b&&Gl(b)&&mr(k,b)&&(Ne(i)||yr(i)))}function vl(i){var a=i.length,c=new i.constructor(a);return a&&typeof i[0]=="string"&&rt.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Gc(i){return typeof i.constructor=="function"&&!ni(i)?Zr(tn(i)):{}}function Bd(i,a,c){var d=i.constructor;switch(a){case wt:return Do(i);case nt:case St:return new d(+i);case $r:return Lc(i,c);case pi:case Hs:case Us:case fa:case wu:case $s:case da:case Ws:case pa:return hl(i,c);case Nn:return new d;case Jn:case It:return new d(i);case Ur:return cl(i);case Pn:return new d;case di:return Rc(i)}}function Hd(i,a){var c=a.length;if(!c)return i;var d=c-1;return a[d]=(c>1?"& ":"")+a[d],a=a.join(c>2?", ":" "),i.replace(Pu,`{
/* [wrapped with `+a+`] */
`)}function Ud(i){return Ne(i)||yr(i)||!!(lc&&i&&i[lc])}function mr(i,a){var c=typeof i;return a=a==null?Ee:a,!!a&&(c=="number"||c!="symbol"&&Rf.test(i))&&i>-1&&i%1==0&&i<a}function rn(i,a,c){if(!yt(c))return!1;var d=typeof a;return(d=="number"?Vt(c)&&mr(a,c.length):d=="string"&&a in c)?Rn(c[a],i):!1}function Uo(i,a){if(Ne(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||on(i)?!0:Er.test(i)||!Pf.test(i)||a!=null&&i in ke(a)}function Kc(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function $o(i){var a=gr(i),c=x[a];if(typeof c!="function"||!(a in Xe.prototype))return!1;if(i===c)return!0;var d=Es(c);return!!d&&i===d[0]}function $d(i){return!!Ai&&Ai in i}var Wd=ls?Xn:Ms;function ni(i){var a=i&&i.constructor,c=typeof a=="function"&&a.prototype||Lt;return i===c}function Xc(i){return i===i&&!yt(i)}function Yc(i,a){return function(c){return c==null?!1:c[i]===a&&(a!==h||i in ke(c))}}function zd(i){var a=Yo(i,function(d){return c.size===K&&c.clear(),d}),c=a.cache;return a}function jd(i,a){var c=i[1],d=a[1],b=c|d,E=b<(te|ne|T),k=d==T&&c==N||d==T&&c==R&&i[7].length<=a[8]||d==(T|R)&&a[7].length<=a[8]&&c==N;if(!(E||k))return i;d&te&&(i[2]=a[2],b|=c&te?0:z);var W=a[3];if(W){var Z=i[3];i[3]=Z?kc(Z,W,a[4]):W,i[4]=Z?ur(i[3],B):a[4]}return W=a[5],W&&(Z=i[5],i[5]=Z?Mc(Z,W,a[6]):W,i[6]=Z?ur(i[5],B):a[6]),W=a[7],W&&(i[7]=W),d&T&&(i[8]=i[8]==null?a[8]:Wt(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=b,i}function ml(i){var a=[];if(i!=null)for(var c in ke(i))a.push(c);return a}function Gd(i){return Rt.call(i)}function bt(i,a,c){return a=Et(a===h?i.length-1:a,0),function(){for(var d=arguments,b=-1,E=Et(d.length-a,0),k=re(E);++b<E;)k[b]=d[a+b];b=-1;for(var W=re(a+1);++b<a;)W[b]=d[b];return W[a]=c(k),xn(i,this,W)}}function Zc(i,a){return a.length<2?i:Lr(i,Jt(a,0,-1))}function Kd(i,a){for(var c=i.length,d=Wt(a.length,c),b=pn(i);d--;){var E=a[d];i[d]=mr(E,c)?b[E]:h}return i}function bl(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var Jc=Is(il),Ps=Yt||function(i,a){return Nt.setTimeout(i,a)},yl=Is(sl);function xl(i,a,c){var d=a+"";return yl(i,Hd(d,Xd(Gn(d),c)))}function Is(i){var a=0,c=0;return function(){var d=zt(),b=ve-(d-c);if(c=d,b>0){if(++a>=ie)return arguments[0]}else a=0;return i.apply(h,arguments)}}function Ts(i,a){var c=-1,d=i.length,b=d-1;for(a=a===h?d:a;++c<a;){var E=Ao(c,b),k=i[E];i[E]=i[c],i[c]=k}return i.length=a,i}var Wo=zd(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(If,function(c,d,b,E){a.push(b?E.replace(Of,"$1"):d||c)}),a});function Kn(i){if(typeof i=="string"||on(i))return i;var a=i+"";return a=="0"&&1/i==-Me?"-0":a}function ri(i){if(i!=null){try{return us.call(i)}catch(a){}try{return i+""}catch(a){}}return""}function Xd(i,a){return Tn(Re,function(c){var d="_."+c[0];a&c[1]&&!xi(i,d)&&i.push(d)}),i.sort()}function Qc(i){if(i instanceof Xe)return i.clone();var a=new Zt(i.__wrapped__,i.__chain__);return a.__actions__=pn(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function Yd(i,a,c){(c?rn(i,a,c):a===h)?a=1:a=Et(Ge(a),0);var d=i==null?0:i.length;if(!d||a<1)return[];for(var b=0,E=0,k=re(nn(d/a));b<d;)k[E++]=Jt(i,b,b+=a);return k}function Zd(i){for(var a=-1,c=i==null?0:i.length,d=0,b=[];++a<c;){var E=i[a];E&&(b[d++]=E)}return b}function Vc(){var i=arguments.length;if(!i)return[];for(var a=re(i-1),c=arguments[0],d=i;d--;)a[d-1]=arguments[d];return Cr(Ne(c)?pn(c):[c],jt(a,1))}var qc=Ue(function(i,a){return Ct(i)?co(i,jt(a,1,Ct,!0)):[]}),Jd=Ue(function(i,a){var c=sn(a);return Ct(c)&&(c=h),Ct(i)?co(i,jt(a,1,Ct,!0),Te(c,2)):[]}),Qd=Ue(function(i,a){var c=sn(a);return Ct(c)&&(c=h),Ct(i)?co(i,jt(a,1,Ct,!0),h,c):[]});function Vd(i,a,c){var d=i==null?0:i.length;return d?(a=c||a===h?1:Ge(a),Jt(i,a<0?0:a,d)):[]}function wl(i,a,c){var d=i==null?0:i.length;return d?(a=c||a===h?1:Ge(a),a=d-a,Jt(i,0,a<0?0:a)):[]}function Sl(i,a){return i&&i.length?Po(i,Te(a,3),!0,!0):[]}function eh(i,a){return i&&i.length?Po(i,Te(a,3),!0):[]}function zo(i,a,c,d){var b=i==null?0:i.length;return b?(c&&typeof c!="number"&&rn(i,a,c)&&(c=0,d=b),yv(i,a,c,d)):[]}function th(i,a,c){var d=i==null?0:i.length;if(!d)return-1;var b=c==null?0:Ge(c);return b<0&&(b=Et(d+b,0)),is(i,Te(a,3),b)}function _l(i,a,c){var d=i==null?0:i.length;if(!d)return-1;var b=d-1;return c!==h&&(b=Ge(c),b=c<0?Et(d+b,0):Wt(b,d-1)),is(i,Te(a,3),b,!0)}function nh(i){var a=i==null?0:i.length;return a?jt(i,1):[]}function Al(i){var a=i==null?0:i.length;return a?jt(i,Me):[]}function El(i,a){var c=i==null?0:i.length;return c?(a=a===h?1:Ge(a),jt(i,a)):[]}function qd(i){for(var a=-1,c=i==null?0:i.length,d={};++a<c;){var b=i[a];d[b[0]]=b[1]}return d}function rh(i){return i&&i.length?i[0]:h}function ep(i,a,c){var d=i==null?0:i.length;if(!d)return-1;var b=c==null?0:Ge(c);return b<0&&(b=Et(d+b,0)),wi(i,a,b)}function tp(i){var a=i==null?0:i.length;return a?Jt(i,0,-1):[]}var Cl=Ue(function(i){var a=mt(i,ul);return a.length&&a[0]===i[0]?vo(a):[]}),np=Ue(function(i){var a=sn(i),c=mt(i,ul);return a===sn(c)?a=h:c.pop(),c.length&&c[0]===i[0]?vo(c,Te(a,2)):[]}),Pl=Ue(function(i){var a=sn(i),c=mt(i,ul);return a=typeof a=="function"?a:h,a&&c.pop(),c.length&&c[0]===i[0]?vo(c,h,a):[]});function ih(i,a){return i==null?"":ro.call(i,a)}function sn(i){var a=i==null?0:i.length;return a?i[a-1]:h}function rp(i,a,c){var d=i==null?0:i.length;if(!d)return-1;var b=d;return c!==h&&(b=Ge(c),b=b<0?Et(d+b,0):Wt(b,d-1)),a===a?to(i,a,b):is(i,Ra,b,!0)}function Il(i,a){return i&&i.length?bs(i,Ge(a)):h}var Tl=Ue(sh);function sh(i,a){return i&&i.length&&a&&a.length?nr(i,a):i}function ip(i,a,c){return i&&i.length&&a&&a.length?nr(i,a,Te(c,2)):i}function sp(i,a,c){return i&&i.length&&a&&a.length?nr(i,a,h,c):i}var op=Dn(function(i,a){var c=i==null?0:i.length,d=Va(i,a);return Ec(i,mt(a,function(b){return mr(b,c)?+b:b}).sort(Fc)),d});function ap(i,a){var c=[];if(!(i&&i.length))return c;var d=-1,b=[],E=i.length;for(a=Te(a,3);++d<E;){var k=i[d];a(k,d,i)&&(c.push(k),b.push(d))}return Ec(i,b),c}function Ol(i){return i==null?i:Ci.call(i)}function lp(i,a,c){var d=i==null?0:i.length;return d?(c&&typeof c!="number"&&rn(i,a,c)?(a=0,c=d):(a=a==null?0:Ge(a),c=c===h?d:Ge(c)),Jt(i,a,c)):[]}function up(i,a){return Co(i,a)}function cp(i,a,c){return ol(i,a,Te(c,2))}function hp(i,a){var c=i==null?0:i.length;if(c){var d=Co(i,a);if(d<c&&Rn(i[d],a))return d}return-1}function fp(i,a){return Co(i,a,!0)}function dp(i,a,c){return ol(i,a,Te(c,2),!0)}function pp(i,a){var c=i==null?0:i.length;if(c){var d=Co(i,a,!0)-1;if(Rn(i[d],a))return d}return-1}function gp(i){return i&&i.length?Pc(i):[]}function Ui(i,a){return i&&i.length?Pc(i,Te(a,2)):[]}function ii(i){var a=i==null?0:i.length;return a?Jt(i,1,a):[]}function Os(i,a,c){return i&&i.length?(a=c||a===h?1:Ge(a),Jt(i,0,a<0?0:a)):[]}function si(i,a,c){var d=i==null?0:i.length;return d?(a=c||a===h?1:Ge(a),a=d-a,Jt(i,a<0?0:a,d)):[]}function vp(i,a){return i&&i.length?Po(i,Te(a,3),!1,!0):[]}function mp(i,a){return i&&i.length?Po(i,Te(a,3)):[]}var bp=Ue(function(i){return fr(jt(i,1,Ct,!0))}),yp=Ue(function(i){var a=sn(i);return Ct(a)&&(a=h),fr(jt(i,1,Ct,!0),Te(a,2))}),Dl=Ue(function(i){var a=sn(i);return a=typeof a=="function"?a:h,fr(jt(i,1,Ct,!0),h,a)});function xp(i){return i&&i.length?fr(i):[]}function wp(i,a){return i&&i.length?fr(i,Te(a,2)):[]}function oh(i,a){return a=typeof a=="function"?a:h,i&&i.length?fr(i,h,a):[]}function Ll(i){if(!(i&&i.length))return[];var a=0;return i=ar(i,function(c){if(Ct(c))return a=Et(c.length,a),!0}),Vs(a,function(c){return mt(i,Fa(c))})}function $i(i,a){if(!(i&&i.length))return[];var c=Ll(i);return a==null?c:mt(c,function(d){return xn(a,h,d)})}var Sp=Ue(function(i,a){return Ct(i)?co(i,a):[]}),ah=Ue(function(i){return Io(ar(i,Ct))}),lh=Ue(function(i){var a=sn(i);return Ct(a)&&(a=h),Io(ar(i,Ct),Te(a,2))}),uh=Ue(function(i){var a=sn(i);return a=typeof a=="function"?a:h,Io(ar(i,Ct),h,a)}),_p=Ue(Ll);function ch(i,a){return ll(i||[],a||[],fn)}function Ap(i,a){return ll(i||[],a||[],xs)}var Ep=Ue(function(i){var a=i.length,c=a>1?i[a-1]:h;return c=typeof c=="function"?(i.pop(),c):h,$i(i,c)});function jo(i){var a=x(i);return a.__chain__=!0,a}function Cp(i,a){return a(i),i}function oi(i,a){return a(i)}var Ds=Dn(function(i){var a=i.length,c=a?i[0]:0,d=this.__wrapped__,b=function(E){return Va(E,i)};return a>1||this.__actions__.length||!(d instanceof Xe)||!mr(c)?this.thru(b):(d=d.slice(c,+c+(a?1:0)),d.__actions__.push({func:oi,args:[b],thisArg:h}),new Zt(d,this.__chain__).thru(function(E){return a&&!E.length&&E.push(h),E}))});function ai(){return jo(this)}function Rl(){return new Zt(this.value(),this.__chain__)}function Fl(){this.__values__===h&&(this.__values__=Uh(this.value()));var i=this.__index__>=this.__values__.length,a=i?h:this.__values__[this.__index__++];return{done:i,value:a}}function Pp(){return this}function kl(i){for(var a,c=this;c instanceof Jr;){var d=Qc(c);d.__index__=0,d.__values__=h,a?b.__wrapped__=d:a=d;var b=d;c=c.__wrapped__}return b.__wrapped__=i,a}function br(){var i=this.__wrapped__;if(i instanceof Xe){var a=i;return this.__actions__.length&&(a=new Xe(this)),a=a.reverse(),a.__actions__.push({func:oi,args:[Ol],thisArg:h}),new Zt(a,this.__chain__)}return this.thru(Ol)}function Ip(){return Oc(this.__wrapped__,this.__actions__)}var Ln=ws(function(i,a,c){rt.call(i,c)?++i[c]:hr(i,c,1)});function kt(i,a,c){var d=Ne(i)?Oa:qa;return c&&rn(i,a,c)&&(a=h),d(i,Te(a,3))}function hh(i,a){var c=Ne(i)?ar:mc;return c(i,Te(a,3))}var Ls=Hc(th),fh=Hc(_l);function Fr(i,a){return jt(zi(i,a),1)}function Ml(i,a){return jt(zi(i,a),Me)}function dh(i,a,c){return c=c===h?1:Ge(c),jt(zi(i,a),c)}function Wi(i,a){var c=Ne(i)?Tn:dn;return c(i,Te(a,3))}function ir(i,a){var c=Ne(i)?Qf:ho;return c(i,Te(a,3))}var Go=ws(function(i,a,c){rt.call(i,c)?i[c].push(a):hr(i,c,[a])});function Nl(i,a,c,d){i=Vt(i)?i:Zi(i),c=c&&!d?Ge(c):0;var b=i.length;return c<0&&(c=Et(b+c,0)),Xi(i)?c<=b&&i.indexOf(a,c)>-1:!!b&&wi(i,a,c)>-1}var Tp=Ue(function(i,a,c){var d=-1,b=typeof a=="function",E=Vt(i)?re(i.length):[];return dn(i,function(k){E[++d]=b?xn(a,k,c):qr(k,a,c)}),E}),Bl=ws(function(i,a,c){hr(i,c,a)});function zi(i,a){var c=Ne(i)?mt:_d;return c(i,Te(a,3))}function ph(i,a,c,d){return i==null?[]:(Ne(a)||(a=a==null?[]:[a]),c=d?h:c,Ne(c)||(c=c==null?[]:[c]),So(i,a,c))}var Op=ws(function(i,a,c){i[c?0:1].push(a)},function(){return[[],[]]});function gh(i,a,c){var d=Ne(i)?Js:Ma,b=arguments.length<3;return d(i,Te(a,4),c,b,dn)}function Dp(i,a,c){var d=Ne(i)?Vf:Ma,b=arguments.length<3;return d(i,Te(a,4),c,b,ho)}function Ko(i,a){var c=Ne(i)?ar:mc;return c(i,Zo(Te(a,3)))}function Hl(i){var a=Ne(i)?Dr:Cc;return a(i)}function Lp(i,a,c){(c?rn(i,a,c):a===h)?a=1:a=Ge(a);var d=Ne(i)?Ja:Pd;return d(i,a)}function Rp(i){var a=Ne(i)?dc:Id;return a(i)}function Fp(i){if(i==null)return 0;if(Vt(i))return Xi(i)?er(i):i.length;var a=Qt(i);return a==Nn||a==Pn?i.size:xc(i).length}function kp(i,a,c){var d=Ne(i)?Da:Eo;return c&&rn(i,a,c)&&(a=h),d(i,Te(a,3))}var Mp=Ue(function(i,a){if(i==null)return[];var c=a.length;return c>1&&rn(i,a[0],a[1])?a=[]:c>2&&rn(a[0],a[1],a[2])&&(a=[a[0]]),So(i,jt(a,1),[])}),Xo=uc||function(){return Nt.Date.now()};function Rs(i,a){if(typeof a!="function")throw new gt(L);return i=Ge(i),function(){if(--i<1)return a.apply(this,arguments)}}function vh(i,a,c){return a=c?h:a,a=i&&a==null?i.length:a,rr(i,T,h,h,h,h,a)}function mh(i,a){var c;if(typeof a!="function")throw new gt(L);return i=Ge(i),function(){return--i>0&&(c=a.apply(this,arguments)),i<=1&&(a=h),c}}var Ul=Ue(function(i,a,c){var d=te;if(c.length){var b=ur(c,Bi(Ul));d|=G}return rr(i,d,a,c,b)}),$l=Ue(function(i,a,c){var d=te|ne;if(c.length){var b=ur(c,Bi($l));d|=G}return rr(a,d,i,c,b)});function Wl(i,a,c){a=c?h:a;var d=rr(i,N,h,h,h,h,h,a);return d.placeholder=Wl.placeholder,d}function bh(i,a,c){a=c?h:a;var d=rr(i,$,h,h,h,h,h,a);return d.placeholder=bh.placeholder,d}function Fs(i,a,c){var d,b,E,k,W,Z,ue=0,ce=!1,fe=!1,be=!0;if(typeof i!="function")throw new gt(L);a=Fn(a)||0,yt(c)&&(ce=!!c.leading,fe="maxWait"in c,E=fe?Et(Fn(c.maxWait)||0,a):E,be="trailing"in c?!!c.trailing:be);function Ce(Tt){var kn=d,Mr=b;return d=b=h,ue=Tt,k=i.apply(Mr,kn),k}function De(Tt){return ue=Tt,W=Ps(Ze,a),ce?Ce(Tt):k}function Ke(Tt){var kn=Tt-Z,Mr=Tt-ue,vu=a-kn;return fe?Wt(vu,E-Mr):vu}function Le(Tt){var kn=Tt-Z,Mr=Tt-ue;return Z===h||kn>=a||kn<0||fe&&Mr>=E}function Ze(){var Tt=Xo();if(Le(Tt))return Qe(Tt);W=Ps(Ze,Ke(Tt))}function Qe(Tt){return W=h,be&&d?Ce(Tt):(d=b=h,k)}function qt(){W!==h&&Oo(W),ue=0,d=Z=b=W=h}function en(){return W===h?k:Qe(Xo())}function Cn(){var Tt=Xo(),kn=Le(Tt);if(d=arguments,b=this,Z=Tt,kn){if(W===h)return De(Z);if(fe)return Oo(W),W=Ps(Ze,a),Ce(Z)}return W===h&&(W=Ps(Ze,a)),k}return Cn.cancel=qt,Cn.flush=en,Cn}var yh=Ue(function(i,a){return vc(i,1,a)}),Np=Ue(function(i,a,c){return vc(i,Fn(a)||0,c)});function Bp(i){return rr(i,H)}function Yo(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new gt(L);var c=function(){var d=arguments,b=a?a.apply(this,d):d[0],E=c.cache;if(E.has(b))return E.get(b);var k=i.apply(this,d);return c.cache=E.set(b,k)||E,k};return c.cache=new(Yo.Cache||An),c}Yo.Cache=An;function Zo(i){if(typeof i!="function")throw new gt(L);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function xh(i){return mh(2,i)}var zl=Td(function(i,a){a=a.length==1&&Ne(a[0])?mt(a[0],wn(Te())):mt(jt(a,1),wn(Te()));var c=a.length;return Ue(function(d){for(var b=-1,E=Wt(d.length,c);++b<E;)d[b]=a[b].call(this,d[b]);return xn(i,this,d)})}),Jo=Ue(function(i,a){var c=ur(a,Bi(Jo));return rr(i,G,h,a,c)}),wh=Ue(function(i,a){var c=ur(a,Bi(wh));return rr(i,S,h,a,c)}),Hp=Dn(function(i,a){return rr(i,R,h,h,h,a)});function Sh(i,a){if(typeof i!="function")throw new gt(L);return a=a===h?a:Ge(a),Ue(i,a)}function _h(i,a){if(typeof i!="function")throw new gt(L);return a=a==null?0:Et(Ge(a),0),Ue(function(c){var d=c[a],b=dr(c,0,a);return d&&Cr(b,d),xn(i,this,b)})}function Ah(i,a,c){var d=!0,b=!0;if(typeof i!="function")throw new gt(L);return yt(c)&&(d="leading"in c?!!c.leading:d,b="trailing"in c?!!c.trailing:b),Fs(i,a,{leading:d,maxWait:a,trailing:b})}function Qo(i){return vh(i,1)}function Up(i,a){return Jo(To(a),i)}function Eh(){if(!arguments.length)return[];var i=arguments[0];return Ne(i)?i:[i]}function $p(i){return On(i,U)}function Ch(i,a){return a=typeof a=="function"?a:h,On(i,U,a)}function Ph(i){return On(i,I|U)}function Ih(i,a){return a=typeof a=="function"?a:h,On(i,I|U,a)}function Th(i,a){return a==null||gc(i,a,Ht(a))}function Rn(i,a){return i===a||i!==i&&a!==a}var Oh=_s(tl),ji=_s(function(i,a){return i>=a}),yr=mo(function(){return arguments}())?mo:function(i){return xt(i)&&rt.call(i,"callee")&&!ac.call(i,"callee")},Ne=re.isArray,Vo=Ta?wn(Ta):bo;function Vt(i){return i!=null&&Gl(i.length)&&!Xn(i)}function Ct(i){return xt(i)&&Vt(i)}function Dh(i){return i===!0||i===!1||xt(i)&&Gt(i)==nt}var xr=Xr||Ms,li=yn?wn(yn):vs;function wr(i){return xt(i)&&i.nodeType===1&&!Gi(i)}function Lh(i){if(i==null)return!0;if(Vt(i)&&(Ne(i)||typeof i=="string"||typeof i.splice=="function"||xr(i)||Yi(i)||yr(i)))return!i.length;var a=Qt(i);if(a==Nn||a==Pn)return!i.size;if(ni(i))return!xc(i).length;for(var c in i)if(rt.call(i,c))return!1;return!0}function Wp(i,a){return ms(i,a)}function Rh(i,a,c){c=typeof c=="function"?c:h;var d=c?c(i,a):h;return d===h?ms(i,a,h,c):!!d}function qo(i){if(!xt(i))return!1;var a=Gt(i);return a==Zn||a==Mt||typeof i.message=="string"&&typeof i.name=="string"&&!Gi(i)}function Fh(i){return typeof i=="number"&&Wa(i)}function Xn(i){if(!yt(i))return!1;var a=Gt(i);return a==ci||a==hi||a==ut||a==fi}function jl(i){return typeof i=="number"&&i==Ge(i)}function Gl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Ee}function yt(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function xt(i){return i!=null&&typeof i=="object"}var Kl=Ku?wn(Ku):wd;function zp(i,a){return i===a||xo(i,a,Cs(a))}function jp(i,a,c){return c=typeof c=="function"?c:h,xo(i,a,Cs(a),c)}function Gp(i){return Xl(i)&&i!=+i}function Kp(i){if(Wd(i))throw new Ie(D);return wo(i)}function kh(i){return i===null}function Mh(i){return i==null}function Xl(i){return typeof i=="number"||xt(i)&&Gt(i)==Jn}function Gi(i){if(!xt(i)||Gt(i)!=Ot)return!1;var a=tn(i);if(a===null)return!0;var c=rt.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&us.call(c)==sc}var Ki=Xu?wn(Xu):xv;function Xp(i){return jl(i)&&i>=-Ee&&i<=Ee}var Yl=Yu?wn(Yu):wv;function Xi(i){return typeof i=="string"||!Ne(i)&&xt(i)&&Gt(i)==It}function on(i){return typeof i=="symbol"||xt(i)&&Gt(i)==di}var Yi=Un?wn(Un):Sv;function Yp(i){return i===h}function Nh(i){return xt(i)&&Qt(i)==Ut}function Zl(i){return xt(i)&&Gt(i)==xu}var Bh=_s(wc),Hh=_s(function(i,a){return i<=a});function Uh(i){if(!i)return[];if(Vt(i))return Xi(i)?Dt(i):pn(i);if(cs&&i[cs])return lr(i[cs]());var a=Qt(i),c=a==Nn?ss:a==Pn?eo:Zi;return c(i)}function Sr(i){if(!i)return i===0?i:0;if(i=Fn(i),i===Me||i===-Me){var a=i<0?-1:1;return a*$e}return i===i?i:0}function Ge(i){var a=Sr(i),c=a%1;return a===a?c?a-c:a:0}function $h(i){return i?Ri(Ge(i),0,Pe):0}function Fn(i){if(typeof i=="number")return i;if(on(i))return Be;if(yt(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=yt(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=qu(i);var c=Lf.test(i);return c||mi.test(i)?Jf(i.slice(2),c?2:8):Ou.test(i)?Be:+i}function Jl(i){return zn(i,gn(i))}function Zp(i){return i?Ri(Ge(i),-Ee,Ee):i===0?i:0}function ot(i){return i==null?"":En(i)}var Jp=ki(function(i,a){if(ni(a)||Vt(a)){zn(a,Ht(a),i);return}for(var c in a)rt.call(a,c)&&fn(i,c,a[c])}),Wh=ki(function(i,a){zn(a,gn(a),i)}),ea=ki(function(i,a,c,d){zn(a,gn(a),i,d)}),Qp=ki(function(i,a,c,d){zn(a,Ht(a),i,d)}),zh=Dn(Va);function Vp(i,a){var c=Zr(i);return a==null?c:pc(c,a)}var qp=Ue(function(i,a){i=ke(i);var c=-1,d=a.length,b=d>2?a[2]:h;for(b&&rn(a[0],a[1],b)&&(d=1);++c<d;)for(var E=a[c],k=gn(E),W=-1,Z=k.length;++W<Z;){var ue=k[W],ce=i[ue];(ce===h||Rn(ce,Lt[ue])&&!rt.call(i,ue))&&(i[ue]=E[ue])}return i}),eg=Ue(function(i){return i.push(h,dl),xn(ql,h,i)});function tg(i,a){return rs(i,Te(a,3),Wn)}function ng(i,a){return rs(i,Te(a,3),po)}function rg(i,a){return i==null?i:el(i,Te(a,3),gn)}function ig(i,a){return i==null?i:gs(i,Te(a,3),gn)}function sg(i,a){return i&&Wn(i,Te(a,3))}function ta(i,a){return i&&po(i,Te(a,3))}function og(i){return i==null?[]:go(i,Ht(i))}function ag(i){return i==null?[]:go(i,gn(i))}function Ql(i,a,c){var d=i==null?h:Lr(i,a);return d===h?c:d}function lg(i,a){return i!=null&&vr(i,a,Vr)}function Vl(i,a){return i!=null&&vr(i,a,Fi)}var ug=Uc(function(i,a,c){a!=null&&typeof a.toString!="function"&&(a=Rt.call(a)),i[a]=c},cu(vn)),jh=Uc(function(i,a,c){a!=null&&typeof a.toString!="function"&&(a=Rt.call(a)),rt.call(i,a)?i[a].push(c):i[a]=[c]},Te),Gh=Ue(qr);function Ht(i){return Vt(i)?Or(i):xc(i)}function gn(i){return Vt(i)?Or(i,!0):_v(i)}function Kh(i,a){var c={};return a=Te(a,3),Wn(i,function(d,b,E){hr(c,a(d,b,E),d)}),c}function cg(i,a){var c={};return a=Te(a,3),Wn(i,function(d,b,E){hr(c,b,a(d,b,E))}),c}var Xh=ki(function(i,a,c){rl(i,a,c)}),ql=ki(function(i,a,c,d){rl(i,a,c,d)}),Yh=Dn(function(i,a){var c={};if(i==null)return c;var d=!1;a=mt(a,function(E){return E=Rr(E,i),d||(d=E.length>1),E}),zn(i,As(i),c),d&&(c=On(c,I|M|U,jn));for(var b=a.length;b--;)al(c,a[b]);return c});function Zh(i,a){return Jh(i,Zo(Te(a)))}var hg=Dn(function(i,a){return i==null?{}:_c(i,a)});function Jh(i,a){if(i==null)return{};var c=mt(As(i),function(d){return[d]});return a=Te(a),_o(i,c,function(d,b){return a(d,b[0])})}function fg(i,a,c){a=Rr(a,i);var d=-1,b=a.length;for(b||(b=1,i=h);++d<b;){var E=i==null?h:i[Kn(a[d])];E===h&&(d=b,E=c),i=Xn(E)?E.call(i):E}return i}function dg(i,a,c){return i==null?i:xs(i,a,c)}function Qh(i,a,c,d){return d=typeof d=="function"?d:h,i==null?i:xs(i,a,c,d)}var Vh=Wc(Ht),qh=Wc(gn);function eu(i,a,c){var d=Ne(i),b=d||xr(i)||Yi(i);if(a=Te(a,4),c==null){var E=i&&i.constructor;b?c=d?new E:[]:yt(i)?c=Xn(E)?Zr(tn(i)):{}:c={}}return(b?Tn:Wn)(i,function(k,W,Z){return a(c,k,W,Z)}),c}function na(i,a){return i==null?!0:al(i,a)}function pg(i,a,c){return i==null?i:Tc(i,a,To(c))}function ef(i,a,c,d){return d=typeof d=="function"?d:h,i==null?i:Tc(i,a,To(c),d)}function Zi(i){return i==null?[]:qn(i,Ht(i))}function ra(i){return i==null?[]:qn(i,gn(i))}function gg(i,a,c){return c===h&&(c=a,a=h),c!==h&&(c=Fn(c),c=c===c?c:0),a!==h&&(a=Fn(a),a=a===a?a:0),Ri(Fn(i),a,c)}function tf(i,a,c){return a=Sr(a),c===h?(c=a,a=0):c=Sr(c),i=Fn(i),yc(i,a,c)}function nf(i,a,c){if(c&&typeof c!="boolean"&&rn(i,a,c)&&(a=c=h),c===h&&(typeof a=="boolean"?(c=a,a=h):typeof i=="boolean"&&(c=i,i=h)),i===h&&a===h?(i=0,a=1):(i=Sr(i),a===h?(a=i,i=0):a=Sr(a)),i>a){var d=i;i=a,a=d}if(c||i%1||a%1){var b=hc();return Wt(i+b*(a-i+Gu("1e-"+((b+"").length-1))),a)}return Ao(i,a)}var tu=Mi(function(i,a,c){return a=a.toLowerCase(),i+(c?rf(a):a)});function rf(i){return lu(ot(i).toLowerCase())}function sf(i){return i=ot(i),i&&i.replace(ba,nd).replace(zf,"")}function Av(i,a,c){i=ot(i),a=En(a);var d=i.length;c=c===h?d:Ri(Ge(c),0,d);var b=c;return c-=a.length,c>=0&&i.slice(c,b)==a}function vg(i){return i=ot(i),i&&cv.test(i)?i.replace(Eu,rd):i}function ia(i){return i=ot(i),i&&Wr.test(i)?i.replace(ga,"\\$&"):i}var kr=Mi(function(i,a,c){return i+(c?"-":"")+a.toLowerCase()}),of=Mi(function(i,a,c){return i+(c?" ":"")+a.toLowerCase()}),nu=Fo("toLowerCase");function ru(i,a,c){i=ot(i),a=Ge(a);var d=a?er(i):0;if(!a||d>=a)return i;var b=(a-d)/2;return Bo(hs(b),c)+i+Bo(nn(b),c)}function iu(i,a,c){i=ot(i),a=Ge(a);var d=a?er(i):0;return a&&d<a?i+Bo(a-d,c):i}function su(i,a,c){i=ot(i),a=Ge(a);var d=a?er(i):0;return a&&d<a?Bo(a-d,c)+i:i}function ou(i,a,c){return c||a==null?a=0:a&&(a=+a),za(ot(i).replace(va,""),a||0)}function af(i,a,c){return(c?rn(i,a,c):a===h)?a=1:a=Ge(a),ys(ot(i),a)}function mg(){var i=arguments,a=ot(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var au=Mi(function(i,a,c){return i+(c?"_":"")+a.toLowerCase()});function bg(i,a,c){return c&&typeof c!="number"&&rn(i,a,c)&&(a=c=h),c=c===h?Pe:c>>>0,c?(i=ot(i),i&&(typeof a=="string"||a!=null&&!Ki(a))&&(a=En(a),!a&&_i(i))?dr(Dt(i),0,c):i.split(a,c)):[]}var yg=Mi(function(i,a,c){return i+(c?" ":"")+lu(a)});function xg(i,a,c){return i=ot(i),c=c==null?0:Ri(Ge(c),0,i.length),a=En(a),i.slice(c,c+a.length)==a}function sa(i,a,c){var d=x.templateSettings;c&&rn(i,a,c)&&(a=h),i=ot(i),a=ea({},a,d,Ho);var b=ea({},a.imports,d.imports,Ho),E=Ht(b),k=qn(b,E),W,Z,ue=0,ce=a.interpolate||js,fe="__p += '",be=Ha((a.escape||js).source+"|"+ce.source+"|"+(ce===ct?Df:js).source+"|"+(a.evaluate||js).source+"|$","g"),Ce="//# sourceURL="+(rt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kf+"]")+`
`;i.replace(be,function(Le,Ze,Qe,qt,en,Cn){return Qe||(Qe=qt),fe+=i.slice(ue,Cn).replace(Ff,id),Ze&&(W=!0,fe+=`' +
__e(`+Ze+`) +
'`),en&&(Z=!0,fe+=`';
`+en+`;
__p += '`),Qe&&(fe+=`' +
((__t = (`+Qe+`)) == null ? '' : __t) +
'`),ue=Cn+Le.length,Le}),fe+=`';
`;var De=rt.call(a,"variable")&&a.variable;if(!De)fe=`with (obj) {
`+fe+`
}
`;else if(Tu.test(De))throw new Ie(A);fe=(Z?fe.replace(Ef,""):fe).replace(Su,"$1").replace(_u,"$1;"),fe="function("+(De||"obj")+`) {
`+(De?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(Z?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fe+`return __p
}`;var Ke=uu(function(){return me(E,Ce+"return "+fe).apply(h,k)});if(Ke.source=fe,qo(Ke))throw Ke;return Ke}function wg(i){return ot(i).toLowerCase()}function Sg(i){return ot(i).toUpperCase()}function lf(i,a,c){if(i=ot(i),i&&(c||a===h))return qu(i);if(!i||!(a=En(a)))return i;var d=Dt(i),b=Dt(a),E=Ba(d,b),k=qs(d,b)+1;return dr(d,E,k).join("")}function _g(i,a,c){if(i=ot(i),i&&(c||a===h))return i.slice(0,nc(i)+1);if(!i||!(a=En(a)))return i;var d=Dt(i),b=qs(d,Dt(a))+1;return dr(d,0,b).join("")}function Ag(i,a,c){if(i=ot(i),i&&(c||a===h))return i.replace(va,"");if(!i||!(a=En(a)))return i;var d=Dt(i),b=Ba(d,Dt(a));return dr(d,b).join("")}function Eg(i,a){var c=se,d=q;if(yt(a)){var b="separator"in a?a.separator:b;c="length"in a?Ge(a.length):c,d="omission"in a?En(a.omission):d}i=ot(i);var E=i.length;if(_i(i)){var k=Dt(i);E=k.length}if(c>=E)return i;var W=c-er(d);if(W<1)return d;var Z=k?dr(k,0,W).join(""):i.slice(0,W);if(b===h)return Z+d;if(k&&(W+=Z.length-W),Ki(b)){if(i.slice(W).search(b)){var ue,ce=Z;for(b.global||(b=Ha(b.source,ot(ma.exec(b))+"g")),b.lastIndex=0;ue=b.exec(ce);)var fe=ue.index;Z=Z.slice(0,fe===h?W:fe)}}else if(i.indexOf(En(b),W)!=W){var be=Z.lastIndexOf(b);be>-1&&(Z=Z.slice(0,be))}return Z+d}function Cg(i){return i=ot(i),i&&gi.test(i)?i.replace(Au,ld):i}var Ji=Mi(function(i,a,c){return i+(c?" ":"")+a.toUpperCase()}),lu=Fo("toUpperCase");function uf(i,a,c){return i=ot(i),a=c?h:a,a===h?od(i)?cd(i):qf(i):i.match(a)||[]}var uu=Ue(function(i,a){try{return xn(i,h,a)}catch(c){return qo(c)?c:new Ie(c)}}),Pg=Dn(function(i,a){return Tn(a,function(c){c=Kn(c),hr(i,c,Ul(i[c],i))}),i});function Ig(i){var a=i==null?0:i.length,c=Te();return i=a?mt(i,function(d){if(typeof d[1]!="function")throw new gt(L);return[c(d[0]),d[1]]}):[],Ue(function(d){for(var b=-1;++b<a;){var E=i[b];if(xn(E[0],this,d))return xn(E[1],this,d)}})}function Tg(i){return xd(On(i,I))}function cu(i){return function(){return i}}function Og(i,a){return i==null||i!==i?a:i}var Dg=Ni(),Lg=Ni(!0);function vn(i){return i}function hu(i){return Sd(typeof i=="function"?i:On(i,I))}function Rg(i){return Ad(On(i,I))}function Fg(i,a){return Ed(i,On(a,I))}var Ev=Ue(function(i,a){return function(c){return qr(c,i,a)}}),kg=Ue(function(i,a){return function(c){return qr(i,c,a)}});function ks(i,a,c){var d=Ht(a),b=go(a,d);c==null&&!(yt(a)&&(b.length||!d.length))&&(c=a,a=i,i=this,b=go(a,Ht(a)));var E=!(yt(c)&&"chain"in c)||!!c.chain,k=Xn(i);return Tn(b,function(W){var Z=a[W];i[W]=Z,k&&(i.prototype[W]=function(){var ue=this.__chain__;if(E||ue){var ce=i(this.__wrapped__),fe=ce.__actions__=pn(this.__actions__);return fe.push({func:Z,args:arguments,thisArg:i}),ce.__chain__=ue,ce}return Z.apply(i,Cr([this.value()],arguments))})}),i}function Mg(){return Nt._===this&&(Nt._=dd),this}function oa(){}function Ng(i){return i=Ge(i),Ue(function(a){return bs(a,i)})}var Bg=No(mt),Hg=No(Oa),Ug=No(Da);function fu(i){return Uo(i)?Fa(Kn(i)):Ac(i)}function du(i){return function(a){return i==null?h:Lr(i,a)}}var $g=Rd(),Wg=Rd(!0);function pu(){return[]}function Ms(){return!1}function gu(){return{}}function zg(){return""}function jg(){return!0}function Gg(i,a){if(i=Ge(i),i<1||i>Ee)return[];var c=Pe,d=Wt(i,Pe);a=Te(a),i-=Pe;for(var b=Vs(d,a);++c<i;)a(c);return b}function Kg(i){return Ne(i)?mt(i,Kn):on(i)?[i]:pn(Wo(ot(i)))}function cf(i){var a=++fd;return ot(i)+a}var hf=Mo(function(i,a){return i+a},0),Xg=fl("ceil"),_r=Mo(function(i,a){return i/a},1),ff=fl("floor");function df(i){return i&&i.length?fo(i,vn,tl):h}function pf(i,a){return i&&i.length?fo(i,Te(a,2),tl):h}function Yg(i){return Qu(i,vn)}function Zg(i,a){return Qu(i,Te(a,2))}function Jg(i){return i&&i.length?fo(i,vn,wc):h}function Qg(i,a){return i&&i.length?fo(i,Te(a,2),wc):h}var Vg=Mo(function(i,a){return i*a},1),qg=fl("round"),gf=Mo(function(i,a){return i-a},0);function Ar(i){return i&&i.length?Na(i,vn):0}function vf(i,a){return i&&i.length?Na(i,Te(a,2)):0}return x.after=Rs,x.ary=vh,x.assign=Jp,x.assignIn=Wh,x.assignInWith=ea,x.assignWith=Qp,x.at=zh,x.before=mh,x.bind=Ul,x.bindAll=Pg,x.bindKey=$l,x.castArray=Eh,x.chain=jo,x.chunk=Yd,x.compact=Zd,x.concat=Vc,x.cond=Ig,x.conforms=Tg,x.constant=cu,x.countBy=Ln,x.create=Vp,x.curry=Wl,x.curryRight=bh,x.debounce=Fs,x.defaults=qp,x.defaultsDeep=eg,x.defer=yh,x.delay=Np,x.difference=qc,x.differenceBy=Jd,x.differenceWith=Qd,x.drop=Vd,x.dropRight=wl,x.dropRightWhile=Sl,x.dropWhile=eh,x.fill=zo,x.filter=hh,x.flatMap=Fr,x.flatMapDeep=Ml,x.flatMapDepth=dh,x.flatten=nh,x.flattenDeep=Al,x.flattenDepth=El,x.flip=Bp,x.flow=Dg,x.flowRight=Lg,x.fromPairs=qd,x.functions=og,x.functionsIn=ag,x.groupBy=Go,x.initial=tp,x.intersection=Cl,x.intersectionBy=np,x.intersectionWith=Pl,x.invert=ug,x.invertBy=jh,x.invokeMap=Tp,x.iteratee=hu,x.keyBy=Bl,x.keys=Ht,x.keysIn=gn,x.map=zi,x.mapKeys=Kh,x.mapValues=cg,x.matches=Rg,x.matchesProperty=Fg,x.memoize=Yo,x.merge=Xh,x.mergeWith=ql,x.method=Ev,x.methodOf=kg,x.mixin=ks,x.negate=Zo,x.nthArg=Ng,x.omit=Yh,x.omitBy=Zh,x.once=xh,x.orderBy=ph,x.over=Bg,x.overArgs=zl,x.overEvery=Hg,x.overSome=Ug,x.partial=Jo,x.partialRight=wh,x.partition=Op,x.pick=hg,x.pickBy=Jh,x.property=fu,x.propertyOf=du,x.pull=Tl,x.pullAll=sh,x.pullAllBy=ip,x.pullAllWith=sp,x.pullAt=op,x.range=$g,x.rangeRight=Wg,x.rearg=Hp,x.reject=Ko,x.remove=ap,x.rest=Sh,x.reverse=Ol,x.sampleSize=Lp,x.set=dg,x.setWith=Qh,x.shuffle=Rp,x.slice=lp,x.sortBy=Mp,x.sortedUniq=gp,x.sortedUniqBy=Ui,x.split=bg,x.spread=_h,x.tail=ii,x.take=Os,x.takeRight=si,x.takeRightWhile=vp,x.takeWhile=mp,x.tap=Cp,x.throttle=Ah,x.thru=oi,x.toArray=Uh,x.toPairs=Vh,x.toPairsIn=qh,x.toPath=Kg,x.toPlainObject=Jl,x.transform=eu,x.unary=Qo,x.union=bp,x.unionBy=yp,x.unionWith=Dl,x.uniq=xp,x.uniqBy=wp,x.uniqWith=oh,x.unset=na,x.unzip=Ll,x.unzipWith=$i,x.update=pg,x.updateWith=ef,x.values=Zi,x.valuesIn=ra,x.without=Sp,x.words=uf,x.wrap=Up,x.xor=ah,x.xorBy=lh,x.xorWith=uh,x.zip=_p,x.zipObject=ch,x.zipObjectDeep=Ap,x.zipWith=Ep,x.entries=Vh,x.entriesIn=qh,x.extend=Wh,x.extendWith=ea,ks(x,x),x.add=hf,x.attempt=uu,x.camelCase=tu,x.capitalize=rf,x.ceil=Xg,x.clamp=gg,x.clone=$p,x.cloneDeep=Ph,x.cloneDeepWith=Ih,x.cloneWith=Ch,x.conformsTo=Th,x.deburr=sf,x.defaultTo=Og,x.divide=_r,x.endsWith=Av,x.eq=Rn,x.escape=vg,x.escapeRegExp=ia,x.every=kt,x.find=Ls,x.findIndex=th,x.findKey=tg,x.findLast=fh,x.findLastIndex=_l,x.findLastKey=ng,x.floor=ff,x.forEach=Wi,x.forEachRight=ir,x.forIn=rg,x.forInRight=ig,x.forOwn=sg,x.forOwnRight=ta,x.get=Ql,x.gt=Oh,x.gte=ji,x.has=lg,x.hasIn=Vl,x.head=rh,x.identity=vn,x.includes=Nl,x.indexOf=ep,x.inRange=tf,x.invoke=Gh,x.isArguments=yr,x.isArray=Ne,x.isArrayBuffer=Vo,x.isArrayLike=Vt,x.isArrayLikeObject=Ct,x.isBoolean=Dh,x.isBuffer=xr,x.isDate=li,x.isElement=wr,x.isEmpty=Lh,x.isEqual=Wp,x.isEqualWith=Rh,x.isError=qo,x.isFinite=Fh,x.isFunction=Xn,x.isInteger=jl,x.isLength=Gl,x.isMap=Kl,x.isMatch=zp,x.isMatchWith=jp,x.isNaN=Gp,x.isNative=Kp,x.isNil=Mh,x.isNull=kh,x.isNumber=Xl,x.isObject=yt,x.isObjectLike=xt,x.isPlainObject=Gi,x.isRegExp=Ki,x.isSafeInteger=Xp,x.isSet=Yl,x.isString=Xi,x.isSymbol=on,x.isTypedArray=Yi,x.isUndefined=Yp,x.isWeakMap=Nh,x.isWeakSet=Zl,x.join=ih,x.kebabCase=kr,x.last=sn,x.lastIndexOf=rp,x.lowerCase=of,x.lowerFirst=nu,x.lt=Bh,x.lte=Hh,x.max=df,x.maxBy=pf,x.mean=Yg,x.meanBy=Zg,x.min=Jg,x.minBy=Qg,x.stubArray=pu,x.stubFalse=Ms,x.stubObject=gu,x.stubString=zg,x.stubTrue=jg,x.multiply=Vg,x.nth=Il,x.noConflict=Mg,x.noop=oa,x.now=Xo,x.pad=ru,x.padEnd=iu,x.padStart=su,x.parseInt=ou,x.random=nf,x.reduce=gh,x.reduceRight=Dp,x.repeat=af,x.replace=mg,x.result=fg,x.round=qg,x.runInContext=Y,x.sample=Hl,x.size=Fp,x.snakeCase=au,x.some=kp,x.sortedIndex=up,x.sortedIndexBy=cp,x.sortedIndexOf=hp,x.sortedLastIndex=fp,x.sortedLastIndexBy=dp,x.sortedLastIndexOf=pp,x.startCase=yg,x.startsWith=xg,x.subtract=gf,x.sum=Ar,x.sumBy=vf,x.template=sa,x.times=Gg,x.toFinite=Sr,x.toInteger=Ge,x.toLength=$h,x.toLower=wg,x.toNumber=Fn,x.toSafeInteger=Zp,x.toString=ot,x.toUpper=Sg,x.trim=lf,x.trimEnd=_g,x.trimStart=Ag,x.truncate=Eg,x.unescape=Cg,x.uniqueId=cf,x.upperCase=Ji,x.upperFirst=lu,x.each=Wi,x.eachRight=ir,x.first=rh,ks(x,function(){var i={};return Wn(x,function(a,c){rt.call(x.prototype,c)||(i[c]=a)}),i}(),{chain:!1}),x.VERSION=p,Tn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){x[i].placeholder=x}),Tn(["drop","take"],function(i,a){Xe.prototype[i]=function(c){c=c===h?1:Et(Ge(c),0);var d=this.__filtered__&&!a?new Xe(this):this.clone();return d.__filtered__?d.__takeCount__=Wt(c,d.__takeCount__):d.__views__.push({size:Wt(c,Pe),type:i+(d.__dir__<0?"Right":"")}),d},Xe.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),Tn(["filter","map","takeWhile"],function(i,a){var c=a+1,d=c==ae||c==Ae;Xe.prototype[i]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:Te(b,3),type:c}),E.__filtered__=E.__filtered__||d,E}}),Tn(["head","last"],function(i,a){var c="take"+(a?"Right":"");Xe.prototype[i]=function(){return this[c](1).value()[0]}}),Tn(["initial","tail"],function(i,a){var c="drop"+(a?"":"Right");Xe.prototype[i]=function(){return this.__filtered__?new Xe(this):this[c](1)}}),Xe.prototype.compact=function(){return this.filter(vn)},Xe.prototype.find=function(i){return this.filter(i).head()},Xe.prototype.findLast=function(i){return this.reverse().find(i)},Xe.prototype.invokeMap=Ue(function(i,a){return typeof i=="function"?new Xe(this):this.map(function(c){return qr(c,i,a)})}),Xe.prototype.reject=function(i){return this.filter(Zo(Te(i)))},Xe.prototype.slice=function(i,a){i=Ge(i);var c=this;return c.__filtered__&&(i>0||a<0)?new Xe(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),a!==h&&(a=Ge(a),c=a<0?c.dropRight(-a):c.take(a-i)),c)},Xe.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Xe.prototype.toArray=function(){return this.take(Pe)},Wn(Xe.prototype,function(i,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),d=/^(?:head|last)$/.test(a),b=x[d?"take"+(a=="last"?"Right":""):a],E=d||/^find/.test(a);!b||(x.prototype[a]=function(){var k=this.__wrapped__,W=d?[1]:arguments,Z=k instanceof Xe,ue=W[0],ce=Z||Ne(k),fe=function(Ze){var Qe=b.apply(x,Cr([Ze],W));return d&&be?Qe[0]:Qe};ce&&c&&typeof ue=="function"&&ue.length!=1&&(Z=ce=!1);var be=this.__chain__,Ce=!!this.__actions__.length,De=E&&!be,Ke=Z&&!Ce;if(!E&&ce){k=Ke?k:new Xe(this);var Le=i.apply(k,W);return Le.__actions__.push({func:oi,args:[fe],thisArg:h}),new Zt(Le,be)}return De&&Ke?i.apply(this,W):(Le=this.thru(fe),De?d?Le.value()[0]:Le.value():Le)})}),Tn(["pop","push","shift","sort","splice","unshift"],function(i){var a=Gr[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",d=/^(?:pop|shift)$/.test(i);x.prototype[i]=function(){var b=arguments;if(d&&!this.__chain__){var E=this.value();return a.apply(Ne(E)?E:[],b)}return this[c](function(k){return a.apply(Ne(k)?k:[],b)})}}),Wn(Xe.prototype,function(i,a){var c=x[a];if(c){var d=c.name+"";rt.call(Sn,d)||(Sn[d]=[]),Sn[d].push({name:a,func:c})}}),Sn[ko(h,ne).name]=[{name:"wrapper",func:h}],Xe.prototype.clone=Oi,Xe.prototype.reverse=so,Xe.prototype.value=ds,x.prototype.at=Ds,x.prototype.chain=ai,x.prototype.commit=Rl,x.prototype.next=Fl,x.prototype.plant=kl,x.prototype.reverse=br,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=Ip,x.prototype.first=x.prototype.head,cs&&(x.prototype[cs]=Pp),x},os=hd();Nt._=os,w=function(){return os}.call(y,v,y,C),w!==h&&(C.exports=w)}).call(this)},7771:function(C,y,v){var w=v(5639),h=function(){return w.Date.now()};C.exports=h},3880:function(C,y,v){var w=v(9833);function h(){var p=arguments,g=w(p[0]);return p.length<3?g:g.replace(p[1],p[2])}C.exports=h},479:function(C){function y(){return[]}C.exports=y},5062:function(C){function y(){return!1}C.exports=y},3493:function(C,y,v){var w=v(3279),h=v(3218),p="Expected a function";function g(D,L,A){var F=!0,K=!0;if(typeof D!="function")throw new TypeError(p);return h(A)&&(F="leading"in A?!!A.leading:F,K="trailing"in A?!!A.trailing:K),w(D,L,{leading:F,maxWait:L,trailing:K})}C.exports=g},1581:function(C,y,v){var w=v(2705),h=v(278),p=v(4160),g=v(8612),D=v(7037),L=v(59),A=v(8776),F=v(1814),K=v(3140),B=v(2628),I="[object Map]",M="[object Set]",U=w?w.iterator:void 0;function O(X){if(!X)return[];if(g(X))return D(X)?K(X):h(X);if(U&&X[U])return L(X[U]());var te=p(X),ne=te==I?A:te==M?F:B;return ne(X)}C.exports=O},4841:function(C,y,v){var w=v(7561),h=v(3218),p=v(3448),g=0/0,D=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,A=/^0o[0-7]+$/i,F=parseInt;function K(B){if(typeof B=="number")return B;if(p(B))return g;if(h(B)){var I=typeof B.valueOf=="function"?B.valueOf():B;B=h(I)?I+"":I}if(typeof B!="string")return B===0?B:+B;B=w(B);var M=L.test(B);return M||A.test(B)?F(B.slice(2),M?2:8):D.test(B)?g:+B}C.exports=K},9833:function(C,y,v){var w=v(531);function h(p){return p==null?"":w(p)}C.exports=h},5659:function(C,y,v){var w=v(531),h=v(180),p=v(9817),g=v(3140),D=v(9833),L=/^\s+/;function A(F,K,B){if(F=D(F),F&&(B||K===void 0))return F.replace(L,"");if(!F||!(K=w(K)))return F;var I=g(F),M=p(I,g(K));return h(I,M).join("")}C.exports=A},2628:function(C,y,v){var w=v(7415),h=v(3674);function p(g){return g==null?[]:w(g,h(g))}C.exports=p},5660:function(C,y,v){var w=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var h=function(p){var g=/\blang(?:uage)?-([\w-]+)\b/i,D=0,L={},A={manual:p.Prism&&p.Prism.manual,disableWorkerMessageHandler:p.Prism&&p.Prism.disableWorkerMessageHandler,util:{encode:function z(N){return N instanceof F?new F(N.type,z(N.content),N.alias):Array.isArray(N)?N.map(z):N.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(z){return Object.prototype.toString.call(z).slice(8,-1)},objId:function(z){return z.__id||Object.defineProperty(z,"__id",{value:++D}),z.__id},clone:function z(N,$){$=$||{};var G,S;switch(A.util.type(N)){case"Object":if(S=A.util.objId(N),$[S])return $[S];G={},$[S]=G;for(var T in N)N.hasOwnProperty(T)&&(G[T]=z(N[T],$));return G;case"Array":return S=A.util.objId(N),$[S]?$[S]:(G=[],$[S]=G,N.forEach(function(R,H){G[H]=z(R,$)}),G);default:return N}},getLanguage:function(z){for(;z&&!g.test(z.className);)z=z.parentElement;return z?(z.className.match(g)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(G){var z=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(G.stack)||[])[1];if(z){var N=document.getElementsByTagName("script");for(var $ in N)if(N[$].src==z)return N[$]}return null}},isActive:function(z,N,$){for(var G="no-"+N;z;){var S=z.classList;if(S.contains(N))return!0;if(S.contains(G))return!1;z=z.parentElement}return!!$}},languages:{plain:L,plaintext:L,text:L,txt:L,extend:function(z,N){var $=A.util.clone(A.languages[z]);for(var G in N)$[G]=N[G];return $},insertBefore:function(z,N,$,G){G=G||A.languages;var S=G[z],T={};for(var R in S)if(S.hasOwnProperty(R)){if(R==N)for(var H in $)$.hasOwnProperty(H)&&(T[H]=$[H]);$.hasOwnProperty(R)||(T[R]=S[R])}var se=G[z];return G[z]=T,A.languages.DFS(A.languages,function(q,ie){ie===se&&q!=z&&(this[q]=T)}),T},DFS:function z(N,$,G,S){S=S||{};var T=A.util.objId;for(var R in N)if(N.hasOwnProperty(R)){$.call(N,R,N[R],G||R);var H=N[R],se=A.util.type(H);se==="Object"&&!S[T(H)]?(S[T(H)]=!0,z(H,$,null,S)):se==="Array"&&!S[T(H)]&&(S[T(H)]=!0,z(H,$,R,S))}}},plugins:{},highlightAll:function(z,N){A.highlightAllUnder(document,z,N)},highlightAllUnder:function(z,N,$){var G={callback:$,container:z,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};A.hooks.run("before-highlightall",G),G.elements=Array.prototype.slice.apply(G.container.querySelectorAll(G.selector)),A.hooks.run("before-all-elements-highlight",G);for(var S=0,T;T=G.elements[S++];)A.highlightElement(T,N===!0,G.callback)},highlightElement:function(z,N,$){var G=A.util.getLanguage(z),S=A.languages[G];z.className=z.className.replace(g,"").replace(/\s+/g," ")+" language-"+G;var T=z.parentElement;T&&T.nodeName.toLowerCase()==="pre"&&(T.className=T.className.replace(g,"").replace(/\s+/g," ")+" language-"+G);var R=z.textContent,H={element:z,language:G,grammar:S,code:R};function se(ie){H.highlightedCode=ie,A.hooks.run("before-insert",H),H.element.innerHTML=H.highlightedCode,A.hooks.run("after-highlight",H),A.hooks.run("complete",H),$&&$.call(H.element)}if(A.hooks.run("before-sanity-check",H),T=H.element.parentElement,T&&T.nodeName.toLowerCase()==="pre"&&!T.hasAttribute("tabindex")&&T.setAttribute("tabindex","0"),!H.code){A.hooks.run("complete",H),$&&$.call(H.element);return}if(A.hooks.run("before-highlight",H),!H.grammar){se(A.util.encode(H.code));return}if(N&&p.Worker){var q=new Worker(A.filename);q.onmessage=function(ie){se(ie.data)},q.postMessage(JSON.stringify({language:H.language,code:H.code,immediateClose:!0}))}else se(A.highlight(H.code,H.grammar,H.language))},highlight:function(z,N,$){var G={code:z,grammar:N,language:$};return A.hooks.run("before-tokenize",G),G.tokens=A.tokenize(G.code,G.grammar),A.hooks.run("after-tokenize",G),F.stringify(A.util.encode(G.tokens),G.language)},tokenize:function(z,N){var $=N.rest;if($){for(var G in $)N[G]=$[G];delete N.rest}var S=new I;return M(S,S.head,z),B(z,S,N,S.head,0),O(S)},hooks:{all:{},add:function(z,N){var $=A.hooks.all;$[z]=$[z]||[],$[z].push(N)},run:function(z,N){var $=A.hooks.all[z];if(!(!$||!$.length))for(var G=0,S;S=$[G++];)S(N)}},Token:F};p.Prism=A;function F(z,N,$,G){this.type=z,this.content=N,this.alias=$,this.length=(G||"").length|0}F.stringify=function z(N,$){if(typeof N=="string")return N;if(Array.isArray(N)){var G="";return N.forEach(function(se){G+=z(se,$)}),G}var S={type:N.type,content:z(N.content,$),tag:"span",classes:["token",N.type],attributes:{},language:$},T=N.alias;T&&(Array.isArray(T)?Array.prototype.push.apply(S.classes,T):S.classes.push(T)),A.hooks.run("wrap",S);var R="";for(var H in S.attributes)R+=" "+H+'="'+(S.attributes[H]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+R+">"+S.content+"</"+S.tag+">"};function K(z,N,$,G){z.lastIndex=N;var S=z.exec($);if(S&&G&&S[1]){var T=S[1].length;S.index+=T,S[0]=S[0].slice(T)}return S}function B(z,N,$,G,S,T){for(var R in $)if(!(!$.hasOwnProperty(R)||!$[R])){var H=$[R];H=Array.isArray(H)?H:[H];for(var se=0;se<H.length;++se){if(T&&T.cause==R+","+se)return;var q=H[se],ie=q.inside,ve=!!q.lookbehind,ae=!!q.greedy,ye=q.alias;if(ae&&!q.pattern.global){var Ae=q.pattern.toString().match(/[imsuy]*$/)[0];q.pattern=RegExp(q.pattern.source,Ae+"g")}for(var Me=q.pattern||q,Ee=G.next,$e=S;Ee!==N.tail&&!(T&&$e>=T.reach);$e+=Ee.value.length,Ee=Ee.next){var Be=Ee.value;if(N.length>z.length)return;if(!(Be instanceof F)){var Pe=1,Fe;if(ae){if(Fe=K(Me,$e,z,ve),!Fe)break;var je=Fe.index,ge=Fe.index+Fe[0].length,Re=$e;for(Re+=Ee.value.length;je>=Re;)Ee=Ee.next,Re+=Ee.value.length;if(Re-=Ee.value.length,$e=Re,Ee.value instanceof F)continue;for(var We=Ee;We!==N.tail&&(Re<ge||typeof We.value=="string");We=We.next)Pe++,Re+=We.value.length;Pe--,Be=z.slice($e,Re),Fe.index-=$e}else if(Fe=K(Me,0,Be,ve),!Fe)continue;var je=Fe.index,ut=Fe[0],nt=Be.slice(0,je),St=Be.slice(je+ut.length),Mt=$e+Be.length;T&&Mt>T.reach&&(T.reach=Mt);var Zn=Ee.prev;nt&&(Zn=M(N,Zn,nt),$e+=nt.length),U(N,Zn,Pe);var ci=new F(R,ie?A.tokenize(ut,ie):ut,ye,ut);if(Ee=M(N,Zn,ci),St&&M(N,Ee,St),Pe>1){var hi={cause:R+","+se,reach:Mt};B(z,N,$,Ee.prev,$e,hi),T&&hi.reach>T.reach&&(T.reach=hi.reach)}}}}}}function I(){var z={value:null,prev:null,next:null},N={value:null,prev:z,next:null};z.next=N,this.head=z,this.tail=N,this.length=0}function M(z,N,$){var G=N.next,S={value:$,prev:N,next:G};return N.next=S,G.prev=S,z.length++,S}function U(z,N,$){for(var G=N.next,S=0;S<$&&G!==z.tail;S++)G=G.next;N.next=G,G.prev=N,z.length-=S}function O(z){for(var N=[],$=z.head.next;$!==z.tail;)N.push($.value),$=$.next;return N}if(!p.document)return p.addEventListener&&(A.disableWorkerMessageHandler||p.addEventListener("message",function(z){var N=JSON.parse(z.data),$=N.language,G=N.code,S=N.immediateClose;p.postMessage(A.highlight(G,A.languages[$],$)),S&&p.close()},!1)),A;var X=A.util.currentScript();X&&(A.filename=X.src,X.hasAttribute("data-manual")&&(A.manual=!0));function te(){A.manual||A.highlightAll()}if(!A.manual){var ne=document.readyState;ne==="loading"||ne==="interactive"&&X&&X.defer?document.addEventListener("DOMContentLoaded",te):window.requestAnimationFrame?window.requestAnimationFrame(te):window.setTimeout(te,16)}return A}(w);C.exports&&(C.exports=h),typeof v.g!="undefined"&&(v.g.Prism=h),h.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},h.languages.markup.tag.inside["attr-value"].inside.entity=h.languages.markup.entity,h.languages.markup.doctype.inside["internal-subset"].inside=h.languages.markup,h.hooks.add("wrap",function(p){p.type==="entity"&&(p.attributes.title=p.content.replace(/&amp;/,"&"))}),Object.defineProperty(h.languages.markup.tag,"addInlined",{value:function(g,D){var L={};L["language-"+D]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:h.languages[D]},L.cdata=/^<!\[CDATA\[|\]\]>$/i;var A={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:L}};A["language-"+D]={pattern:/[\s\S]+/,inside:h.languages[D]};var F={};F[g]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return g}),"i"),lookbehind:!0,greedy:!0,inside:A},h.languages.insertBefore("markup","cdata",F)}}),Object.defineProperty(h.languages.markup.tag,"addAttribute",{value:function(p,g){h.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+p+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[g,"language-"+g],inside:h.languages[g]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),h.languages.html=h.languages.markup,h.languages.mathml=h.languages.markup,h.languages.svg=h.languages.markup,h.languages.xml=h.languages.extend("markup",{}),h.languages.ssml=h.languages.xml,h.languages.atom=h.languages.xml,h.languages.rss=h.languages.xml,function(p){var g=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;p.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+g.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+g.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+g.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:g,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},p.languages.css.atrule.inside.rest=p.languages.css;var D=p.languages.markup;D&&(D.tag.addInlined("style","css"),D.tag.addAttribute("style","css"))}(h),h.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},h.languages.javascript=h.languages.extend("clike",{"class-name":[h.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),h.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,h.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:h.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:h.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:h.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:h.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:h.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),h.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:h.languages.javascript}},string:/[\s\S]+/}}}),h.languages.markup&&(h.languages.markup.tag.addInlined("script","javascript"),h.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),h.languages.js=h.languages.javascript,function(){if(typeof h=="undefined"||typeof document=="undefined")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var p="Loading\u2026",g=function(X,te){return"\u2716 Error "+X+" while fetching file: "+te},D="\u2716 Error: File does not exist or is empty",L={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},A="data-src-status",F="loading",K="loaded",B="failed",I="pre[data-src]:not(["+A+'="'+K+'"]):not(['+A+'="'+F+'"])',M=/\blang(?:uage)?-([\w-]+)\b/i;function U(X,te){var ne=X.className;ne=ne.replace(M," ")+" language-"+te,X.className=ne.replace(/\s+/g," ").trim()}h.hooks.add("before-highlightall",function(X){X.selector+=", "+I}),h.hooks.add("before-sanity-check",function(X){var te=X.element;if(te.matches(I)){X.code="",te.setAttribute(A,F);var ne=te.appendChild(document.createElement("CODE"));ne.textContent=p;var z=te.getAttribute("data-src"),N=X.language;if(N==="none"){var $=(/\.(\w+)$/.exec(z)||[,"none"])[1];N=L[$]||$}U(ne,N),U(te,N);var G=h.plugins.autoloader;G&&G.loadLanguages(N);var S=new XMLHttpRequest;S.open("GET",z,!0),S.onreadystatechange=function(){S.readyState==4&&(S.status<400&&S.responseText?(te.setAttribute(A,K),ne.textContent=S.responseText,h.highlightElement(ne)):(te.setAttribute(A,B),S.status>=400?ne.textContent=g(S.status,S.statusText):ne.textContent=D))},S.send(null)}}),h.plugins.fileHighlight={highlight:function(te){for(var ne=(te||document).querySelectorAll(I),z=0,N;N=ne[z++];)h.highlightElement(N)}};var O=!1;h.fileHighlight=function(){O||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),O=!0),h.plugins.fileHighlight.highlight.apply(this,arguments)}}()},8393:function(C,y,v){"use strict";var w=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(y,"__esModule",{value:!0});var h=w(v(4063)),p=w(v(4470)),g;(function(D){function L(B,I,M){B===void 0&&(B={}),I===void 0&&(I={}),typeof B!="object"&&(B={}),typeof I!="object"&&(I={});var U=p.default(!0,{},I);M||(U=Object.keys(U).reduce(function(X,te){return U[te]!=null&&(X[te]=U[te]),X},{}));for(var O in B)B[O]!==void 0&&I[O]===void 0&&(U[O]=B[O]);return Object.keys(U).length>0?U:void 0}D.compose=L;function A(B,I){B===void 0&&(B={}),I===void 0&&(I={}),typeof B!="object"&&(B={}),typeof I!="object"&&(I={});var M=Object.keys(B).concat(Object.keys(I)).reduce(function(U,O){return h.default(B[O],I[O])||(U[O]=I[O]===void 0?null:I[O]),U},{});return Object.keys(M).length>0?M:void 0}D.diff=A;function F(B,I){B===void 0&&(B={}),I===void 0&&(I={}),B=B||{};var M=Object.keys(I).reduce(function(U,O){return I[O]!==B[O]&&B[O]!==void 0&&(U[O]=I[O]),U},{});return Object.keys(B).reduce(function(U,O){return B[O]!==I[O]&&I[O]===void 0&&(U[O]=null),U},M)}D.invert=F;function K(B,I,M){if(M===void 0&&(M=!1),typeof B!="object")return I;if(typeof I=="object"){if(!M)return I;var U=Object.keys(I).reduce(function(O,X){return B[X]===void 0&&(O[X]=I[X]),O},{});return Object.keys(U).length>0?U:void 0}}D.transform=K})(g||(g={})),y.default=g},5943:function(C,y,v){"use strict";var w=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}},h=w(v(4063)),p=w(v(4470)),g=v(9258),D=w(v(8393)),L=w(v(9175)),A=w(v(1581)),F=String.fromCharCode(0),K=function(){function B(I){var M;Array.isArray(I)?M=I:I!=null&&Array.isArray(I.ops)?M=I.ops:M=[];for(var U=0;U<M.length;U++){var O=M[U];typeof O.insert=="object"&&Array.isArray(O.insert.ops)?O.insert=new B(O.insert.ops):typeof O.retain=="object"&&Array.isArray(O.retain.ops)&&(O.retain=new B(O.retain.ops))}this.ops=M}return B.stringify=function(I,M){M===void 0&&(M=!0);var U;M?U="":U=[];for(var O=0;O<I.ops.length;O++){var X=I.ops[O],te=[];X.insert!==void 0?(X.insert instanceof B?te.push(B.stringify(X.insert,!1)):te.push(X.insert),X.attributes!==void 0&&te.push(X.attributes)):X.retain!==void 0?(X.retain instanceof B?te.push(B.stringify(X.retain,!1)):te.push(X.retain),X.attributes!==void 0&&te.push(X.attributes),te.push(2)):X.delete!==void 0&&(te.push(X.delete),te.push(3)),M?U+=JSON.stringify(te)+`
`:U.push(te)}return U},B.parse=function(I){var M=I.split(`
`);if(M.length>0&&(M.pop(),M.length>0)){for(var U=Array(M.length),O=0;O<M.length;O++){var X=JSON.parse(M[O]);U[O]=B.parseOp(X)}return new B({ops:U})}return null},B.parseOp=function(I){if(I[1]===void 0)return{insert:B.tryParseEmbedDelta(I[0])};if(typeof I[1]=="number"){if(I[1]===2)return{retain:B.tryParseEmbedDelta(I[0])};if(I[1]===3)return{delete:I[0]};throw new Error("unknown op type")}else if(typeof I[1]=="object"){if(I[2]===void 0)return{insert:B.tryParseEmbedDelta(I[0]),attributes:I[1]};if(I[2]===2)return{retain:B.tryParseEmbedDelta(I[0]),attributes:I[1]};throw new Error("unknown op type")}else throw new Error("wrong data type")},B.tryParseEmbedDelta=function(I){if(typeof I=="number"||typeof I=="string")return I;if(Array.isArray(I)){for(var M=Array(I.length),U=0;U<I.length;U++){var O=I[U];M[U]=B.parseOp(O)}return new B({ops:M})}throw new Error("unknown embed delta format")},B.prototype.insert=function(I,M,U){var O={};return typeof I=="string"&&I.length===0?this:(O.insert=I,M!=null&&typeof M=="object"&&Object.keys(M).length>0&&(O.attributes=M),typeof U=="number"&&(O.key=U),this.push(O))},B.prototype.delete=function(I){return I<=0?this:this.push({delete:I})},B.prototype.retain=function(I,M){if(typeof I=="number"&&I<=0)return this;var U={retain:I};return M!=null&&typeof M=="object"&&Object.keys(M).length>0&&(U.attributes=M),this.push(U)},B.prototype.push=function(I){var M=this.ops.length,U=this.ops[M-1];if(I=p.default(!0,{},I),typeof U=="object"){if(typeof I.delete=="number"&&typeof U.delete=="number")return U.delete+=I.delete,this;if(typeof U.delete=="number"&&I.insert!=null&&(M-=1,U=this.ops[M-1],typeof U!="object"))return this.ops.unshift(I),this;if(h.default(I.attributes,U.attributes)){if(typeof I.insert=="string"&&typeof U.insert=="string")return this.ops[M-1]={insert:U.insert+I.insert},typeof I.attributes=="object"&&(this.ops[M-1].attributes=I.attributes),this;if(typeof I.insert=="number"&&typeof U.insert=="number")return U.insert+=I.insert,this;if(typeof I.retain=="number"&&typeof U.retain=="number")return this.ops[M-1]={retain:U.retain+I.retain},typeof I.attributes=="object"&&(this.ops[M-1].attributes=I.attributes),this}}return M===this.ops.length?this.ops.push(I):this.ops.splice(M,0,I),this},B.prototype.chop=function(){var I=this.ops[this.ops.length-1];return I&&I.retain&&typeof I.retain=="number"&&!I.attributes&&this.ops.pop(),this},B.prototype.filter=function(I){return this.ops.filter(I)},B.prototype.forEach=function(I){this.ops.forEach(I)},B.prototype.map=function(I){return this.ops.map(I)},B.prototype.partition=function(I){var M=[],U=[];return this.forEach(function(O){var X=I(O)?M:U;X.push(O)}),[M,U]},B.prototype.reduce=function(I,M){return this.ops.reduce(I,M)},B.prototype.changeLength=function(){return this.reduce(function(I,M){return M.insert?I+L.default.length(M):M.delete?I-M.delete:I},0)},B.prototype.length=function(){return this.reduce(function(I,M){return I+L.default.length(M)},0)},B.prototype.slice=function(I,M){I===void 0&&(I=0),M===void 0&&(M=1/0);var U=this.sliceOps(I,M);return new B(U)},B.prototype.sliceOps=function(I,M){I===void 0&&(I=0),M===void 0&&(M=1/0);for(var U=[],O=L.default.iterator(this.ops),X=0;X<M&&O.hasNext();){var te=void 0;X<I?te=O.next(I-X):(te=O.next(M-X),U.push(te)),X+=L.default.length(te)}return U},B.prototype.compose=function(I){var M=L.default.iterator(this.ops),U=L.default.iterator(I.ops),O=[],X=U.peek();if(X!=null&&typeof X.retain=="number"&&X.attributes==null){for(var te=X.retain;M.peekType()==="insert"&&M.peekLength()<=te;)te-=M.peekLength(),O.push(M.next());X.retain-te>0&&U.next(X.retain-te)}for(var ne=new B(O);M.hasNext()||U.hasNext();)if(U.peekType()==="insert")ne.push(U.next());else if(M.peekType()==="delete")ne.push(M.next());else{var z=Math.min(M.peekLength(),U.peekLength()),N=M.next(z),$=U.next(z);if(typeof $.retain=="number"){var G={};typeof N.retain=="number"?G.retain=z:G.insert=N.insert;var S=D.default.compose(N.attributes,$.attributes,typeof N.retain=="number");if(S&&(G.attributes=S),ne.push(G),!U.hasNext()&&h.default(ne.ops[ne.ops.length-1],G)){var T=new B(M.rest());return ne.concat(T).chop()}}else if(typeof $.retain=="object")if(typeof N.retain=="number"){var G={retain:$.retain},S=D.default.compose(N.attributes,$.attributes,!0);S&&(G.attributes=S),ne.push(G)}else if(typeof N.retain=="object"){var R=N.retain.compose($.retain);R.length()===0&&(R=1);var G={retain:R},S=D.default.compose(N.attributes,$.attributes,!1);S&&(G.attributes=S),ne.push(G)}else if(typeof N.insert=="object"){var R=N.insert.compose($.retain);R.length()===0&&(R=1);var G={insert:R},S=D.default.compose(N.attributes,$.attributes,!1);S&&(G.attributes=S),ne.push(G)}else if(typeof N.insert=="number"){var G={insert:$.retain},S=D.default.compose(N.attributes,$.attributes,!0);S&&(G.attributes=S),ne.push(G)}else console.trace("error compose");else typeof $.delete=="number"&&typeof N.retain=="number"&&ne.push($)}return ne.chop()},B.prototype.concat=function(I){var M=new B(this.ops.slice());return I.ops.length>0&&(M.push(I.ops[0]),M.ops=M.ops.concat(I.ops.slice(1))),M},B.prototype.diff=function(I,M){if(this.ops===I.ops)return new B;var U=[this,I].map(function(z){var N=[];return z.forEach(function($){if($.insert!=null)if(typeof $.insert=="string")for(var G=A.default($.insert),S=0;S<G.length;S++)N.push(G[S]);else if(typeof $.insert=="number")if($.insert===1)typeof $.key=="number"?N.push($.key):N.push(F);else for(var S=0;S<$.insert;S++)N.push(F);else typeof $.key=="number"?N.push($.key):N.push(F);else{var T=z===I?"on":"with";throw new Error("diff() called "+T+" non-document")}}),N}),O=new B,X=g.diffSequence(U[0],U[1],M),te=L.default.iterator(this.ops),ne=L.default.iterator(I.ops);return X.forEach(function(z){for(var N=z[1].reduce(function(T,R){var H=typeof R=="number"?1:R.length;return T+H},0);N>0;){var $=0;switch(z[0]){case g.DiffOp.DIFF_INSERT:$=Math.min(ne.peekLength(),N),O.push(ne.next($));break;case g.DiffOp.DIFF_DELETE:$=Math.min(N,te.peekLength()),te.next($),O.delete($);break;case g.DiffOp.DIFF_EQUAL:$=Math.min(te.peekLength(),ne.peekLength(),N);var G=te.next($),S=ne.next($);h.default(G.insert,S.insert)?O.retain($,D.default.diff(G.attributes,S.attributes)):typeof G.insert=="object"&&typeof S.insert=="object"?O.retain(G.insert.diff(S.insert),D.default.diff(G.attributes,S.attributes)):O.push(S).delete($);break}N-=$}}),O.chop()},B.prototype.invert=function(I){for(var M=new B,U=0,O=function(ne){var z=X.ops[ne];if(z.insert)M.delete(L.default.length(z));else if(z.retain&&z.attributes==null&&typeof z.retain=="number")M.retain(z.retain),U+=z.retain;else if(z.delete||typeof z.retain=="number"&&z.attributes){var N=z.delete||z.retain,$=I.sliceOps(U,U+N);$.forEach(function(T){z.delete?M.push(T):z.retain&&z.attributes&&M.retain(L.default.length(T),D.default.invert(z.attributes,T.attributes))}),U+=N}else if(typeof z.retain=="object"){var G=z.retain,S=1,$=I.sliceOps(U,U+S);$.forEach(function(R){var H=z.attributes?D.default.invert(z.attributes,R.attributes):null;if(typeof R.insert=="number"){var se={retain:new B().delete(G.length())};H&&(se.attributes=H),M=M.concat(new B([se]))}else if(typeof R.insert=="object"){var se={retain:G.invert(R.insert)};H&&(se.attributes=H),M=M.concat(new B([se]))}else console.trace("can not invert retain",R,z)}),U+=S}},X=this,te=0;te<this.ops.length;te++)O(te);return M.chop()},B.prototype.transform=function(I,M,U){M===void 0&&(M=!1),U===void 0&&(U=!0);var O;if(M=!!M,typeof I=="number")return this.transformPosition(I,M);for(var X=I,te=L.default.iterator(this.ops),ne=L.default.iterator(X.ops),z=new B;ne.hasNext();)if(te.peekType()==="insert"&&(M||ne.peekType()!=="insert"))z.retain(L.default.length(te.next()));else if(ne.peekType()==="insert")z.push(ne.next());else{var N=Math.min(te.peekLength(),ne.peekLength()),$=te.next(N),G=ne.next(N);if($.delete)continue;if(G.delete)z.push(G);else{var S=D.default.transform($.attributes,G.attributes,M);if(typeof $.retain=="number"||typeof G.insert=="number"||typeof G.retain=="number"){var T=N;typeof G.retain=="object"&&(T=G.retain),z.retain(T,S)}else{var R=(O=G.insert)!==null&&O!==void 0?O:G.retain;z.retain($.retain.transform(R,M),S)}}}return U?z.chop():z},B.prototype.transformPosition=function(I,M){M===void 0&&(M=!1),M=!!M;for(var U=L.default.iterator(this.ops),O=0;U.hasNext()&&O<=I;){var X=U.peekLength(),te=U.peekType();if(U.next(),te==="delete"){I-=Math.min(X,I-O);continue}else te==="insert"&&(O<I||!M)&&(I+=X);O+=X}return I},B.Op=L.default,B.AttributeMap=D.default,B}();C.exports=K},6570:function(C,y,v){"use strict";var w=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(y,"__esModule",{value:!0});var h=w(v(9175)),p=function(){function g(D){this.ops=D,this.index=0,this.offset=0}return g.prototype.hasNext=function(){return this.peekLength()<1/0},g.prototype.next=function(D){D||(D=1/0);var L=this.ops[this.index];if(L){var A=this.offset,F=h.default.length(L);if(D>=F-A?(D=F-A,this.index+=1,this.offset=0):this.offset+=D,typeof L.delete=="number")return{delete:D};var K={};return L.attributes&&(K.attributes=L.attributes),typeof L.retain=="number"?K.retain=D:typeof L.retain=="object"?K.retain=L.retain:typeof L.insert=="string"?K.insert=L.insert.substr(A,D):typeof L.insert=="number"?K.insert=D:K.insert=L.insert,K}else return{retain:1/0}},g.prototype.peek=function(){return this.ops[this.index]},g.prototype.peekLength=function(){return this.ops[this.index]?h.default.length(this.ops[this.index])-this.offset:1/0},g.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"||typeof this.ops[this.index].retain=="object"?"retain":"insert":"retain"},g.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var D=this.offset,L=this.index,A=this.next(),F=this.ops.slice(this.index);return this.offset=D,this.index=L,[A].concat(F)}else return[]},g}();y.default=p},9175:function(C,y,v){"use strict";var w=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(y,"__esModule",{value:!0});var h=w(v(6570)),p;(function(g){function D(A){return new h.default(A)}g.iterator=D;function L(A){return typeof A.delete=="number"?A.delete:typeof A.retain=="number"?A.retain:typeof A.retain=="object"?1:typeof A.insert=="string"?A.insert.length:typeof A.insert=="number"?A.insert:1}g.length=L})(p||(p={})),y.default=p},9258:function(C,y,v){"use strict";var w=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(y,"__esModule",{value:!0});var h=w(v(1581)),p;(function(S){S[S.DIFF_DELETE=-1]="DIFF_DELETE",S[S.DIFF_INSERT=1]="DIFF_INSERT",S[S.DIFF_EQUAL=0]="DIFF_EQUAL"})(p=y.DiffOp||(y.DiffOp={}));function g(S,T,R,H){if(H===void 0&&(H=!1),N(S,T))return S.length>0?[[p.DIFF_EQUAL,S]]:[];if(R!=null){var se=z(S,T,R);if(se&&se.length>0)return se}var q=F(S,T),ie=S.slice(0,q);S=S.slice(q),T=T.slice(q),q=K(S,T);var ve=S.slice(S.length-q);S=S.slice(0,S.length-q),T=T.slice(0,T.length-q);var ae=D(S,T);return ie.length>0&&ae.unshift([p.DIFF_EQUAL,ie]),ve.length>0&&ae.push([p.DIFF_EQUAL,ve]),I(ae,H),ae}function D(S,T){var R;if(S.length===0)return[[p.DIFF_INSERT,T]];if(T.length===0)return[[p.DIFF_DELETE,S]];var H=S.length>T.length?S:T,se=S.length>T.length?T:S,q=$(H,se);if(q!==-1)return R=[[p.DIFF_INSERT,H.slice(0,q)],[p.DIFF_EQUAL,se],[p.DIFF_INSERT,H.slice(q+se.length)]],S.length>T.length&&(R[0][0]=R[2][0]=p.DIFF_DELETE),R;if(se.length===1)return[[p.DIFF_DELETE,S],[p.DIFF_INSERT,T]];var ie=B(S,T);if(ie&&ie.length>0){var ve=ie[0],ae=ie[1],ye=ie[2],Ae=ie[3],Me=ie[4],Ee=g(ve,ye),$e=g(ae,Ae);return Ee.concat([[p.DIFF_EQUAL,Me]],$e)}return L(S,T)}function L(S,T){for(var R=S.length,H=T.length,se=Math.ceil((R+H)/2),q=se,ie=2*se,ve=new Array(ie),ae=new Array(ie),ye=0;ye<ie;ye++)ve[ye]=-1,ae[ye]=-1;ve[q+1]=0,ae[q+1]=0;for(var Ae=R-H,Me=Ae%2!=0,Ee=0,$e=0,Be=0,Pe=0,Fe=0;Fe<se;Fe++){for(var ge=-Fe+Ee;ge<=Fe-$e;ge+=2){var Re=q+ge,We;ge===-Fe||ge!==Fe&&ve[Re-1]<ve[Re+1]?We=ve[Re+1]:We=ve[Re-1]+1;for(var je=We-ge;We<R&&je<H&&S[We]===T[je];)We++,je++;if(ve[Re]=We,We>R)$e+=2;else if(je>H)Ee+=2;else if(Me){var ut=q+Ae-ge;if(ut>=0&&ut<ie&&ae[ut]!==-1){var nt=R-ae[ut];if(We>=nt)return A(S,T,We,je)}}}for(var St=-Fe+Be;St<=Fe-Pe;St+=2){var ut=q+St,nt;St===-Fe||St!==Fe&&ae[ut-1]<ae[ut+1]?nt=ae[ut+1]:nt=ae[ut-1]+1;for(var Mt=nt-St;nt<R&&Mt<H&&S[R-nt-1]===T[H-Mt-1];)nt++,Mt++;if(ae[ut]=nt,nt>R)Pe+=2;else if(Mt>H)Be+=2;else if(!Me){var Re=q+Ae-St;if(Re>=0&&Re<ie&&ve[Re]!==-1){var We=ve[Re],je=q+We-Re;if(nt=R-nt,We>=nt)return A(S,T,We,je)}}}}return[[p.DIFF_DELETE,S],[p.DIFF_INSERT,T]]}function A(S,T,R,H){var se=S.slice(0,R),q=T.slice(0,H),ie=S.slice(R),ve=T.slice(H),ae=g(se,q),ye=g(ie,ve);return ae.concat(ye)}function F(S,T){if(S.length===0||T.length===0||S[0]!==T[0])return 0;for(var R=0,H=Math.min(S.length,T.length),se=H,q=0;R<se;)N(S.slice(q,se),T.slice(q,se))?(R=se,q=R):H=se,se=Math.floor((H-R)/2+R);var ie=S[se-1];return typeof ie=="string"&&M(G(ie,0))&&se--,se}function K(S,T){if(S.length===0||T.length===0||!N(S.slice(-1),T.slice(-1)))return 0;for(var R=0,H=Math.min(S.length,T.length),se=H,q=0;R<se;)N(S.slice(S.length-se,S.length-q),T.slice(T.length-se,T.length-q))?(R=se,q=R):H=se,se=Math.floor((H-R)/2+R);var ie=S[S.length-se];return typeof ie=="string"&&U(G(ie,0))&&se--,se}function B(S,T){var R=S.length>T.length?S:T,H=S.length>T.length?T:S;if(R.length<4||H.length*2<R.length)return null;function se($e,Be,Pe){for(var Fe=$e.slice(Pe,Pe+Math.floor($e.length/4)),ge=-1,Re=[],We=[],je=[],ut=[],nt=[];(ge=$(Be,Fe,ge+1))!==-1;){var St=F($e.slice(Pe),Be.slice(ge)),Mt=K($e.slice(0,Pe),Be.slice(0,ge));Re.length<Mt+St&&(Re=Be.slice(ge-Mt,ge).concat(Be.slice(ge,ge+St)),We=$e.slice(0,Pe-Mt),je=$e.slice(Pe+St),ut=Be.slice(0,ge-Mt),nt=Be.slice(ge+St))}return Re.length*2>=$e.length?[We,je,ut,nt,Re]:null}var q=se(R,H,Math.ceil(R.length/4)),ie=se(R,H,Math.ceil(R.length/2)),ve;if(!q&&!ie)return null;ie?q?ve=q[4].length>ie[4].length?q:ie:ve=ie:ve=q;var ae,ye,Ae,Me;S.length>T.length?(ae=ve[0],ye=ve[1],Ae=ve[2],Me=ve[3]):(Ae=ve[0],Me=ve[1],ae=ve[2],ye=ve[3]);var Ee=ve[4];return[ae,ye,Ae,Me,Ee]}function I(S,T){S.push([p.DIFF_EQUAL,[]]);for(var R=0,H=0,se=0,q=[],ie=[],ve;R<S.length;){if(R<S.length-1&&!S[R][1]){S.splice(R,1);continue}switch(S[R][0]){case p.DIFF_INSERT:se++,ie=ie.concat(S[R][1]),R++;break;case p.DIFF_DELETE:H++,q=q.concat(S[R][1]),R++;break;case p.DIFF_EQUAL:var ae=R-se-H-1;if(T){if(ae>=0&&X(S[ae][1])){var ye=S[ae][1].slice(-1);if(S[ae][1]=S[ae][1].slice(0,-1),q=ye.concat(q),ie=ye.concat(ie),S[ae][1].length>0){S.splice(ae,1),R--;var Ae=ae-1;S[Ae]&&S[Ae][0]===p.DIFF_INSERT&&(se++,ie=S[Ae][1].concat(ie),Ae--),S[Ae]&&S[Ae][0]===p.DIFF_DELETE&&(H++,q=S[Ae][1].concat(q),Ae--),ae=Ae}}if(O(S[R][1])){var Me=S[R][1][0];S[R][1]=S[R][1].slice(1),q.push(Me),ie.push(Me)}}if(R<S.length-1&&!S[R][1]){S.splice(R,1);break}if(q.length>0||ie.length>0){q.length>0&&ie.length>0&&(ve=F(ie,q),ve!==0&&(ae>=0?S[ae][1]=S[ae][1].concat(ie.slice(0,ve)):(S.splice(0,0,[p.DIFF_EQUAL,ie.slice(0,ve)]),R++),ie=ie.slice(ve),q=q.slice(ve)),ve=K(ie,q),ve!==0&&(S[R][1]=ie.slice(ie.length-ve).concat(S[R][1]),ie=ie.slice(0,ie.length-ve),q=q.slice(0,q.length-ve)));var Ee=se+H;q.length===0&&ie.length===0?(S.splice(R-Ee,Ee),R=R-Ee):q.length===0?(S.splice(R-Ee,Ee,[p.DIFF_INSERT,ie]),R=R-Ee+1):ie.length===0?(S.splice(R-Ee,Ee,[p.DIFF_DELETE,q]),R=R-Ee+1):(S.splice(R-Ee,Ee,[p.DIFF_DELETE,q],[p.DIFF_INSERT,ie]),R=R-Ee+2)}R!==0&&S[R-1][0]===p.DIFF_EQUAL?(S[R-1][1]=S[R-1][1].concat(S[R][1]),S.splice(R,1)):R++,se=0,H=0,q=[],ie=[];break}}S[S.length-1][1].length===0&&S.pop();var $e=!1;for(R=1;R<S.length-1;)S[R-1][0]===p.DIFF_EQUAL&&S[R+1][0]===p.DIFF_EQUAL&&(N(S[R][1].slice(S[R][1].length-S[R-1][1].length),S[R-1][1])?(S[R][1]=S[R-1][1].concat(S[R][1].slice(0,S[R][1].length-S[R-1][1].length)),S[R+1][1]=S[R-1][1].concat(S[R+1][1]),S.splice(R-1,1),$e=!0):N(S[R][1].slice(0,S[R+1][1].length),S[R+1][1])&&(S[R-1][1]=S[R-1][1].concat(S[R+1][1]),S[R][1]=S[R][1].slice(S[R+1][1].length).concat(S[R+1][1]),S.splice(R+1,1),$e=!0)),R++;$e&&I(S,T)}function M(S){return S>=55296&&S<=56319}function U(S){return S>=56320&&S<=57343}function O(S){var T=S[0];return typeof T=="string"&&U(G(T,0))}function X(S){var T=S[S.length-1];return typeof T=="string"&&M(G(T,0))}function te(S){for(var T=[],R=0;R<S.length;R++)S[R][1].length>0&&T.push(S[R]);return T}function ne(S,T,R,H){return X(S)||O(H)?null:te([[p.DIFF_EQUAL,S],[p.DIFF_DELETE,T],[p.DIFF_INSERT,R],[p.DIFF_EQUAL,H]])}function z(S,T,R){var H=typeof R=="number"?{index:R,length:0}:R.oldRange,se=typeof R=="number"?null:R.newRange,q=S.length,ie=T.length;if(H.length===0&&(se===null||se.length===0)){var ve=H.index,ae=S.slice(0,ve),ye=S.slice(ve),Ae=se?se.index:null;e:{var Me=ve+ie-q;if(Ae!==null&&Ae!==Me||Me<0||Me>ie)break e;var Ee=T.slice(0,Me),$e=T.slice(Me);if(!N($e,ye))break e;var Be=Math.min(ve,Me),Pe=ae.slice(0,Be),Fe=Ee.slice(0,Be);if(!N(Pe,Fe))break e;var ge=ae.slice(Be),Re=Ee.slice(Be);return ne(Pe,ge,Re,ye)}e:{if(Ae!==null&&Ae!==ve)break e;var We=ve,Ee=T.slice(0,We),$e=T.slice(We);if(!N(Ee,ae))break e;var je=Math.min(q-We,ie-We),ut=ye.slice(ye.length-je),nt=$e.slice($e.length-je);if(!N(ut,nt))break e;var ge=ye.slice(0,ye.length-je),Re=$e.slice(0,$e.length-je);return ne(ae,ge,Re,ut)}}if(H.length>0&&se&&se.length===0){e:{var Pe=S.slice(0,H.index),ut=S.slice(H.index+H.length),Be=Pe.length,je=ut.length;if(ie<Be+je)break e;var Fe=T.slice(0,Be),nt=T.slice(ie-je);if(!N(Pe,Fe)||!N(ut,nt))break e;var ge=S.slice(Be,q-je),Re=T.slice(Be,ie-je);return ne(Pe,ge,Re,ut)}}return null}function N(S,T){var R=S.length===T.length;if(R)for(var H=0;H<S.length&&(R=S[H]===T[H],!!R);H++);return R}function $(S,T,R){R===void 0&&(R=0);for(var H=-1,se=R,q=S.length;se<q;se++){for(var ie=!0,ve=0,ae=T.length;ve<ae;ve++){var ye=S[se+ve],Ae=T[ve];if(ye!==Ae){ie=!1;break}}if(ie){H=se;break}}return H}function G(S,T){var R=S.length,H=T?Number(T):0;if(H!=H&&(H=0),H<0||H>=R)throw new Error("out of string size");var se=S.charCodeAt(H),q;return se>=55296&&se<=56319&&R>H+1&&(q=S.charCodeAt(H+1),q>=56320&&q<=57343)?(se-55296)*1024+q-56320+65536:se}y.diff=function(S,T,R){for(var H=h.default(S),se=h.default(T),q=y.diffSequence(H,se,R),ie=new Array(q.length),ve=0;ve<q.length;ve++){var ae=q[ve];ie[ve]=[ae[0],ae[1].join("")]}return ie},y.diffSequence=function(S,T,R){var H=g(S,T,R,!0);return H}},311:function(C){var y=0,v=-3;function w(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function h(T,R){this.source=T,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=R,this.destLen=0,this.ltree=new w,this.dtree=new w}var p=new w,g=new w,D=new Uint8Array(30),L=new Uint16Array(30),A=new Uint8Array(30),F=new Uint16Array(30),K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B=new w,I=new Uint8Array(288+32);function M(T,R,H,se){var q,ie;for(q=0;q<H;++q)T[q]=0;for(q=0;q<30-H;++q)T[q+H]=q/H|0;for(ie=se,q=0;q<30;++q)R[q]=ie,ie+=1<<T[q]}function U(T,R){var H;for(H=0;H<7;++H)T.table[H]=0;for(T.table[7]=24,T.table[8]=152,T.table[9]=112,H=0;H<24;++H)T.trans[H]=256+H;for(H=0;H<144;++H)T.trans[24+H]=H;for(H=0;H<8;++H)T.trans[24+144+H]=280+H;for(H=0;H<112;++H)T.trans[24+144+8+H]=144+H;for(H=0;H<5;++H)R.table[H]=0;for(R.table[5]=32,H=0;H<32;++H)R.trans[H]=H}var O=new Uint16Array(16);function X(T,R,H,se){var q,ie;for(q=0;q<16;++q)T.table[q]=0;for(q=0;q<se;++q)T.table[R[H+q]]++;for(T.table[0]=0,ie=0,q=0;q<16;++q)O[q]=ie,ie+=T.table[q];for(q=0;q<se;++q)R[H+q]&&(T.trans[O[R[H+q]]++]=q)}function te(T){T.bitcount--||(T.tag=T.source[T.sourceIndex++],T.bitcount=7);var R=T.tag&1;return T.tag>>>=1,R}function ne(T,R,H){if(!R)return H;for(;T.bitcount<24;)T.tag|=T.source[T.sourceIndex++]<<T.bitcount,T.bitcount+=8;var se=T.tag&65535>>>16-R;return T.tag>>>=R,T.bitcount-=R,se+H}function z(T,R){for(;T.bitcount<24;)T.tag|=T.source[T.sourceIndex++]<<T.bitcount,T.bitcount+=8;var H=0,se=0,q=0,ie=T.tag;do se=2*se+(ie&1),ie>>>=1,++q,H+=R.table[q],se-=R.table[q];while(se>=0);return T.tag=ie,T.bitcount-=q,R.trans[H+se]}function N(T,R,H){var se,q,ie,ve,ae,ye;for(se=ne(T,5,257),q=ne(T,5,1),ie=ne(T,4,4),ve=0;ve<19;++ve)I[ve]=0;for(ve=0;ve<ie;++ve){var Ae=ne(T,3,0);I[K[ve]]=Ae}for(X(B,I,0,19),ae=0;ae<se+q;){var Me=z(T,B);switch(Me){case 16:var Ee=I[ae-1];for(ye=ne(T,2,3);ye;--ye)I[ae++]=Ee;break;case 17:for(ye=ne(T,3,3);ye;--ye)I[ae++]=0;break;case 18:for(ye=ne(T,7,11);ye;--ye)I[ae++]=0;break;default:I[ae++]=Me;break}}X(R,I,0,se),X(H,I,se,q)}function $(T,R,H){for(;;){var se=z(T,R);if(se===256)return y;if(se<256)T.dest[T.destLen++]=se;else{var q,ie,ve,ae;for(se-=257,q=ne(T,D[se],L[se]),ie=z(T,H),ve=T.destLen-ne(T,A[ie],F[ie]),ae=ve;ae<ve+q;++ae)T.dest[T.destLen++]=T.dest[ae]}}}function G(T){for(var R,H,se;T.bitcount>8;)T.sourceIndex--,T.bitcount-=8;if(R=T.source[T.sourceIndex+1],R=256*R+T.source[T.sourceIndex],H=T.source[T.sourceIndex+3],H=256*H+T.source[T.sourceIndex+2],R!==(~H&65535))return v;for(T.sourceIndex+=4,se=R;se;--se)T.dest[T.destLen++]=T.source[T.sourceIndex++];return T.bitcount=0,y}function S(T,R){var H=new h(T,R),se,q,ie;do{switch(se=te(H),q=ne(H,2,0),q){case 0:ie=G(H);break;case 1:ie=$(H,p,g);break;case 2:N(H,H.ltree,H.dtree),ie=$(H,H.ltree,H.dtree);break;default:ie=v}if(ie!==y)throw new Error("Data error")}while(!se);return H.destLen<H.dest.length?typeof H.dest.slice=="function"?H.dest.slice(0,H.destLen):H.dest.subarray(0,H.destLen):H.dest}U(p,g),M(D,L,4,3),M(A,F,2,1),D[28]=0,L[28]=258,C.exports=S},7055:function(C,y,v){const w=v(311),h=6+5,p=5,g=h-p,D=65536>>h,A=(1<<g)-1,F=2,B=(1<<p)-1,I=65536>>p,M=1024>>p,O=I+M,X=2048>>6,te=O+X,ne=1<<F;class z{constructor($){const G=typeof $.readUInt32BE=="function"&&typeof $.slice=="function";if(G||$ instanceof Uint8Array){let S;if(G)this.highStart=$.readUInt32BE(0),this.errorValue=$.readUInt32BE(4),S=$.readUInt32BE(8),$=$.slice(12);else{const T=new DataView($.buffer);this.highStart=T.getUint32(0),this.errorValue=T.getUint32(4),S=T.getUint32(8),$=$.subarray(12)}$=w($,new Uint8Array(S)),$=w($,new Uint8Array(S)),this.data=new Uint32Array($.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=$)}get($){let G;return $<0||$>1114111?this.errorValue:$<55296||$>56319&&$<=65535?(G=(this.data[$>>p]<<F)+($&B),this.data[G]):$<=65535?(G=(this.data[I+($-55296>>p)]<<F)+($&B),this.data[G]):$<this.highStart?(G=this.data[te-D+($>>h)],G=this.data[G+($>>p&A)],G=(G<<F)+($&B),this.data[G]):this.data[this.data.length-ne]}}C.exports=z},8967:function(C,y){(function(){var v,w,h,p,g,D,L,A,F,K,B,I,M,U,O,X,te,ne,z,N,$,G,S,T,R,H,se,q,ie,ve,ae,ye,Ae,Me,Ee,$e,Be,Pe,Fe,ge;y.OP=ie=0,y.CL=F=1,y.CP=B=2,y.QU=ye=3,y.GL=U=4,y.NS=se=5,y.EX=M=6,y.SY=Be=7,y.IS=$=8,y.PR=ae=9,y.PO=ve=10,y.NU=q=11,y.AL=w=12,y.HL=te=13,y.ID=z=14,y.IN=N=15,y.HY=ne=16,y.BA=p=17,y.BB=g=18,y.B2=h=19,y.ZW=ge=20,y.CM=K=21,y.WJ=Pe=22,y.H2=O=23,y.H3=X=24,y.JL=G=25,y.JV=T=26,y.JT=S=27,y.RI=Ae=28,y.AI=v=29,y.BK=D=30,y.CB=L=31,y.CJ=A=32,y.CR=I=33,y.LF=R=34,y.NL=H=35,y.SA=Me=36,y.SG=Ee=37,y.SP=$e=38,y.XX=Fe=39}).call(this)},971:function(C,y,v){let w,h,p,g,D,L,A,F,K,B,I,M,U,O,X,te,ne,z,N,$,G,S,T,R,H,se,q,ie,ve,ae,ye;G=v(7055),R=v(9742),ae=v(8967),g=ae.BK,K=ae.CR,U=ae.LF,X=ae.NL,D=ae.CB,p=ae.BA,$=ae.SP,S=ae.WJ,$=ae.SP,g=ae.BK,U=ae.LF,X=ae.NL,w=ae.AI,h=ae.AL,z=ae.SA,N=ae.SG,T=ae.XX,A=ae.CJ,I=ae.ID,te=ae.NS,H=ae.characterClasses,ye=v(4657),B=ye.DI_BRK,M=ye.IN_BRK,L=ye.CI_BRK,F=ye.CP_BRK,ne=ye.PR_BRK,ve=ye.pairTable,q=R.toByteArray("AA4IAAAAAAAAAhqg5VV7NJtZvz7fTC8zU5deplUlMrQoWqmqahD5So0aipYWrUhVFSVBQ10iSTtUtW6nKDVF6k7d75eQfEUbFcQ9KiFS90tQEolcP23nrLPmO+esr/+f39rr/a293t/e7/P8nmfvlz0O6RvrBJADtbBNaD88IOKTOmOrCqhu9zE770vc1pBV/xL5dxj2V7Zj4FGSomFKStCWNlV7hG1VabZfZ1LaHbFrRwzzLjzPoi1UHDnlV/lWbhgIIJvLBp/pu7AHEdRnIY+ROdXxg4fNpMdTxVnnm08OjozejAVsBqwqz8kddGRlRxsd8c55dNZoPuex6a7Dt6L0NNb03sqgTlR2/OT7eTt0Y0WnpUXxLsp5SMANc4DsmX4zJUBQvznwexm9tsMH+C9uRYMPOd96ZHB29NZjCIM2nfO7tsmQveX3l2r7ft0N4/SRJ7kO6Y8ZCaeuUQ4gMTZ67cp7TgxvlNDsPgOBdZi2YTam5Q7m3+00l+XG7PrDe6YoPmHgK+yLih7fAR16ZFCeD9WvOVt+gfNW/KT5/M6rb/9KERt+N1lad5RneVjzxXHsLofuU+TvrEsr3+26sVz5WJh6L/svoPK3qepFH9bysDljWtD1F7KrxzW1i9r+e/NLxV/acts7zuo304J9+t3Pd6Y6u8f3EAqxNRgv5DZjaI3unyvkvHPya/v3mWVYOC38qBq11+yHZ2bAyP1HbkV92vdno7r2lxz9UwCdCJVfd14NLcpO2CadHS/XPJ9doXgz5vLv/1OBVS3gX0D9n6LiNIDfpilO9RsLgZ2W/wIy8W/Rh93jfoz4qmRV2xElv6p2lRXQdO6/Cv8f5nGn3u0wLXjhnvClabL1o+7yvIpvLfT/xsKG30y/sTvq30ia9Czxp9dr9v/e7Yn/O0QJXxxBOJmceP/DBFa1q1v6oudn/e6qc/37dUoNvnYL4plQ9OoneYOh/r8fOFm7yl7FETHY9dXd5K2n/qEc53dOEe1TTJcvCfp1dpTC334l0vyaFL6mttNEbFjzO+ZV2mLk0qc3BrxJ4d9gweMmjRorxb7vic0rSq6D4wzAyFWas1TqPE0sLI8XLAryC8tPChaN3ALEZSWmtB34SyZcxXYn/E4Tg0LeMIPhgPKD9zyHGMxxhxnDDih7eI86xECTM8zodUCdgffUmRh4rQ8zyA6ow/Aei+01a8OMfziQQ+GAEkhwN/cqUFYAVzA9ex4n6jgtsiMvXf5BtXxEU4hSphvx3v8+9au8eEekEEpkrkne/zB1M+HAPuXIz3paxKlfe8aDMfGWAX6Md6PuuAdKHFVH++Ed5LEji94Z5zeiJIxbmWeN7rr1/ZcaBl5/nimdHsHgIH/ssyLUXZ4fDQ46HnBb+hQqG8yNiKRrXL/b1IPYDUsu3dFKtRMcjqlRvONd4xBvOufx2cUHuk8pmG1D7PyOQmUmluisVFS9OWS8fPIe8LiCtjwJKnEC9hrS9uKmISI3Wa5+vdXUG9dtyfr7g/oJv2wbzeZU838G6mEvntUb3SVV/fBZ6H/sL+lElzeRrHy2Xbe7UWX1q5sgOQ81rv+2baej4fP4m5Mf/GkoxfDtT3++KP7do9Jn26aa6xAhCf5L9RZVfkWKCcjI1eYbm2plvTEqkDxKC402bGzXCYaGnuALHabBT1dFLuOSB7RorOPEhZah1NjZIgR/UFGfK3p1ElYnevOMBDLURdpIjrI+qZk4sffGbRFiXuEmdFjiAODlQCJvIaB1rW61Ljg3y4eS4LAcSgDxxZQs0DYa15wA032Z+lGUfpoyOrFo3mg1sRQtN/fHHCx3TrM8eTrldMbYisDLXbUDoXMLejSq0fUNuO1muX0gEa8vgyegkqiqqbC3W0S4cC9Kmt8MuS/hFO7Xei3f8rSvIjeveMM7kxjUixOrl6gJshe4JU7PhOHpfrRYvu7yoAZKa3Buyk2J+K5W+nNTz1nhJDhRUfDJLiUXxjxXCJeeaOe/r7HlBP/uURc/5efaZEPxr55Qj39rfTLkugUGyMrwo7HAglfEjDriehF1jXtwJkPoiYkYQ5aoXSA7qbCBGKq5hwtu2VkpI9xVDop/1xrC52eiIvCoPWx4lLl40jm9upvycVPfpaH9/o2D4xKXpeNjE2HPQRS+3RFaYTc4Txw7Dvq5X6JBRwzs9mvoB49BK6b+XgsZVJYiInTlSXZ+62FT18mkFVcPKCJsoF5ahb19WheZLUYsSwdrrVM3aQ2XE6SzU2xHDS6iWkodk5AF6F8WUNmmushi8aVpMPwiIfEiQWo3CApONDRjrhDiVnkaFsaP5rjIJkmsN6V26li5LNM3JxGSyKgomknTyyrhcnwv9Qcqaq5utAh44W30SWo8Q0XHKR0glPF4fWst1FUCnk2woFq3iy9fAbzcjJ8fvSjgKVOfn14RDqyQuIgaGJZuswTywdCFSa89SakMf6fe+9KaQMYQlKxiJBczuPSho4wmBjdA+ag6QUOr2GdpcbSl51Ay6khhBt5UXdrnxc7ZGMxCvz96A4oLocxh2+px+1zkyLacCGrxnPzTRSgrLKpStFpH5ppKWm7PgMKZtwgytKLOjbGCOQLTm+KOowqa1sdut9raj1CZFkZD0jbaKNLpJUarSH5Qknx1YiOxdA5L6d5sfI/unmkSF65Ic/AvtXt98Pnrdwl5vgppQ3dYzWFwknZsy6xh2llmLxpegF8ayLwniknlXRHiF4hzzrgB8jQ4wdIqcaHCEAxyJwCeGkXPBZYSrrGa4vMwZvNN9aK0F4JBOK9mQ8g8EjEbIQVwvfS2D8GuCYsdqwqSWbQrfWdTRUJMqmpnWPax4Z7E137I6brHbvjpPlfNZpF1d7PP7HB/MPHcHVKTMhLO4f3CZcaccZEOiS2DpKiQB5KXDJ+Ospcz4qTRCRxgrKEQIgUkKLTKKwskdx2DWo3bg3PEoB5h2nA24olwfKSR+QR6TAvEDi/0czhUT59RZmO1MGeKGeEfuOSPWfL+XKmhqpZmOVR9mJVNDPKOS49Lq+Um10YsBybzDMtemlPCOJEtE8zaXhsaqEs9bngSJGhlOTTMlCXly9Qv5cRN3PVLK7zoMptutf7ihutrQ/Xj7VqeCdUwleTTKklOI8Wep9h7fCY0kVtDtIWKnubWAvbNZtsRRqOYl802vebPEkZRSZc6wXOfPtpPtN5HI63EUFfsy7U/TLr8NkIzaY3vx4A28x765XZMzRZTpMk81YIMuwJ5+/zoCuZj1wGnaHObxa5rpKZj4WhT670maRw04w0e3cZW74Z0aZe2n05hjZaxm6urenz8Ef5O6Yu1J2aqYAlqsCXs5ZB5o1JJ5l3xkTVr8rJQ09NLsBqRRDT2IIjOPmcJa6xQ1R5yGP9jAsj23xYDTezdyqG8YWZ7vJBIWK56K+iDgcHimiQOTIasNSua1fOBxsKMMEKd15jxTl+3CyvGCR+UyRwuSI2XuwRIPoNNclPihfJhaq2mKkNijwYLY6feqohktukmI3KDvOpN7ItCqHHhNuKlxMfBAEO5LjW2RKh6lE5Hd1dtAOopac/Z4FdsNsjMhXz/ug8JGmbVJTA+VOBJXdrYyJcIn5+OEeoK8kWEWF+wdG8ZtZHKSquWDtDVyhFPkRVqguKFkLkKCz46hcU1SUY9oJ2Sk+dmq0kglqk4kqKT1CV9JDELPjK1WsWGkEXF87g9P98e5ff0mIupm/w6vc3kCeq04X5bgJQlcMFRjlFWmSk+kssXCAVikfeAlMuzpUvCSdXiG+dc6KrIiLxxhbEVuKf7vW7KmDQI95bZe3H9mN3/77F6fZ2Yx/F9yClllj8gXpLWLpd5+v90iOaFa9sd7Pvx0lNa1o1+bkiZ69wCiC2x9UIb6/boBCuNMB/HYR0RC6+FD9Oe5qrgQl6JbXtkaYn0wkdNhROLqyhv6cKvyMj1Fvs2o3OOKoMYTubGENLfY5F6H9d8wX1cnINsvz+wZFQu3zhWVlwJvwBEp69Dqu/ZnkBf3nIfbx4TK7zOVJH5sGJX+IMwkn1vVBn38GbpTg9bJnMcTOb5F6Ci5gOn9Fcy6Qzcu+FL6mYJJ+f2ZZJGda1VqruZ0JRXItp8X0aTjIcJgzdaXlha7q7kV4ebrMsunfsRyRa9qYuryBHA0hc1KVsKdE+oI0ljLmSAyMze8lWmc5/lQ18slyTVC/vADTc+SNM5++gztTBLz4m0aVUKcfgOEExuKVomJ7XQDZuziMDjG6JP9tgR7JXZTeo9RGetW/Xm9/TgPJpTgHACPOGvmy2mDm9fl09WeMm9sQUAXP3Su2uApeCwJVT5iWCXDgmcuTsFgU9Nm6/PusJzSbDQIMfl6INY/OAEvZRN54BSSXUClM51im6Wn9VhVamKJmzOaFJErgJcs0etFZ40LIF3EPkjFTjGmAhsd174NnOwJW8TdJ1Dja+E6Wa6FVS22Haj1DDA474EesoMP5nbspAPJLWJ8rYcP1DwCslhnn+gTFm+sS9wY+U6SogAa9tiwpoxuaFeqm2OK+uozR6SfiLCOPz36LiDlzXr6UWd7BpY6mlrNANkTOeme5EgnnAkQRTGo9T6iYxbUKfGJcI9B+ub2PcyUOgpwXbOf3bHFWtygD7FYbRhb+vkzi87dB0JeXl/vBpBUz93VtqZi7AL7C1VowTF+tGmyurw7DBcktc+UMY0E10Jw4URojf8NdaNpN6E1q4+Oz+4YePtMLy8FPRP"),se=new G(q);const Ae=function(){let Me,Ee,$e;function Be(Pe){this.string=Pe,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null}return Be.prototype.nextCodePoint=function(){let Pe,Fe;return Pe=this.string.charCodeAt(this.pos++),Fe=this.string.charCodeAt(this.pos),55296<=Pe&&Pe<=56319&&56320<=Fe&&Fe<=57343?(this.pos++,(Pe-55296)*1024+(Fe-56320)+65536):Pe},Ee=function(Pe){switch(Pe){case w:return h;case z:case N:case T:return h;case A:return te;default:return Pe}},$e=function(Pe){switch(Pe){case U:case X:return g;case D:return p;case $:return S;default:return Pe}},Be.prototype.nextCharClass=function(Pe){return Pe==null&&(Pe=!1),Ee(se.get(this.nextCodePoint()))},Me=function(){function Pe(Fe,ge){this.position=Fe,this.required=ge!=null?ge:!1}return Pe}(),Be.prototype.nextBreak=function(){let Pe,Fe,ge;for(this.curClass==null&&(this.curClass=$e(this.nextCharClass()));this.pos<this.string.length;){if(this.lastPos=this.pos,Fe=this.nextClass,this.nextClass=this.nextCharClass(),this.curClass===g||this.curClass===K&&this.nextClass!==U)return this.curClass=$e(Ee(this.nextClass)),new Me(this.lastPos,!0);if(Pe=function(){switch(this.nextClass){case $:return this.curClass;case g:case U:case X:return g;case K:return K;case D:return p}}.call(this),Pe!=null){if(this.curClass=Pe,this.nextClass===D)return new Me(this.lastPos);continue}switch(ge=!1,ve[this.curClass][this.nextClass]){case B:ge=!0;break;case M:ge=Fe===$;break;case L:if(ge=Fe===$,!ge)continue;break;case F:if(Fe!==$)continue}if(this.curClass=this.nextClass,ge)return new Me(this.lastPos)}if(this.pos>=this.string.length)return this.lastPos<this.string.length?(this.lastPos=this.string.length,new Me(this.string.length)):null},Be}();C.exports=Ae},4657:function(C,y){(function(){var v,w,h,p,g;y.DI_BRK=h=0,y.IN_BRK=p=1,y.CI_BRK=v=2,y.CP_BRK=w=3,y.PR_BRK=g=4,y.pairTable=[[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,w,g,g,g,g,g,g,g],[h,g,g,p,p,g,g,g,g,p,p,h,h,h,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,p,g,g,g,g,p,p,p,p,p,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[g,g,g,p,p,p,g,g,g,p,p,p,p,p,p,p,p,p,p,p,g,v,g,p,p,p,p,p,p],[p,g,g,p,p,p,g,g,g,p,p,p,p,p,p,p,p,p,p,p,g,v,g,p,p,p,p,p,p],[h,g,g,p,p,p,g,g,g,h,h,h,h,h,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,p,p,g,g,g,h,h,h,h,h,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,p,p,g,g,g,h,h,p,h,h,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,p,p,g,g,g,h,h,p,p,p,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[p,g,g,p,p,p,g,g,g,h,h,p,p,p,p,h,p,p,h,h,g,v,g,p,p,p,p,p,h],[p,g,g,p,p,p,g,g,g,h,h,p,p,p,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[p,g,g,p,p,p,g,g,g,p,p,p,p,p,h,p,p,p,h,h,g,v,g,h,h,h,h,h,h],[p,g,g,p,p,p,g,g,g,h,h,p,p,p,h,p,p,p,h,h,g,v,g,h,h,h,h,h,h],[p,g,g,p,p,p,g,g,g,h,h,p,p,p,h,p,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,p,p,g,g,g,h,p,h,h,h,h,p,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,p,p,g,g,g,h,h,h,h,h,h,p,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,h,p,g,g,g,h,h,p,h,h,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[h,g,g,p,h,p,g,g,g,h,h,h,h,h,h,h,p,p,h,h,g,v,g,h,h,h,h,h,h],[p,g,g,p,p,p,g,g,g,p,p,p,p,p,p,p,p,p,p,p,g,v,g,p,p,p,p,p,p],[h,g,g,p,p,p,g,g,g,h,h,h,h,h,h,h,p,p,h,g,g,v,g,h,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,g,h,h,h,h,h,h,h,h],[p,g,g,p,p,p,g,g,g,h,h,p,p,p,h,p,p,p,h,h,g,v,g,h,h,h,h,h,h],[p,g,g,p,p,p,g,g,g,p,p,p,p,p,p,p,p,p,p,p,g,v,g,p,p,p,p,p,p],[h,g,g,p,p,p,g,g,g,h,p,h,h,h,h,p,p,p,h,h,g,v,g,h,h,h,p,p,h],[h,g,g,p,p,p,g,g,g,h,p,h,h,h,h,p,p,p,h,h,g,v,g,h,h,h,h,p,h],[h,g,g,p,p,p,g,g,g,h,p,h,h,h,h,p,p,p,h,h,g,v,g,p,p,p,p,h,h],[h,g,g,p,p,p,g,g,g,h,p,h,h,h,h,p,p,p,h,h,g,v,g,h,h,h,p,p,h],[h,g,g,p,p,p,g,g,g,h,p,h,h,h,h,p,p,p,h,h,g,v,g,h,h,h,h,p,h],[h,g,g,p,p,p,g,g,g,h,h,h,h,h,h,h,p,p,h,h,g,v,g,h,h,h,h,h,p]]}).call(this)}},yu={};function Ye(C){var y=yu[C];if(y!==void 0)return y.exports;var v=yu[C]={id:C,loaded:!1,exports:{}};return uv[C].call(v.exports,v,v.exports,Ye),v.loaded=!0,v.exports}(function(){Ye.n=function(C){var y=C&&C.__esModule?function(){return C.default}:function(){return C};return Ye.d(y,{a:y}),y}})(),function(){Ye.d=function(C,y){for(var v in y)Ye.o(y,v)&&!Ye.o(C,v)&&Object.defineProperty(C,v,{enumerable:!0,get:y[v]})}}(),function(){Ye.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(C){if(typeof window=="object")return window}}()}(),function(){Ye.o=function(C,y){return Object.prototype.hasOwnProperty.call(C,y)}}(),function(){Ye.r=function(C){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})}}(),function(){Ye.nmd=function(C){return C.paths=[],C.children||(C.children=[]),C}}();var ha={};return function(){"use strict";Ye.r(ha);var C=Ye(5943),y=Ye.n(C),v=Ye(6729),w=Ye.n(v),h=Ye(3493),p=Ye.n(h),g;(function(e){e.EDITOR_CHANGE_SIZE="EDITOR_CHANGE_SIZE",e.EDITOR_CHANGE_FORMAT="EDITOR_CHANGE_FORMAT",e.EDITOR_COMPOSITION_START="EDITOR_COMPOSITION_START",e.EDITOR_COMPOSITION_UPDATE="EDITOR_COMPOSITION_UPDATE",e.EDITOR_COMPOSITION_END="EDITOR_COMPOSITION_END",e.EDITOR_CHANGE_SEARCH_RESULT="EDITOR_CHANGE_SEARCH_RESULT",e.EDITOR_CHANGE_HISTORY_STACK="EDITOR_CHANGE_HISTORY_STACK",e.EDITOR_CHANGE_CONTENT="EDITOR_CHANGE_CONTENT",e.CHANGE_SELECTION="CHANGE_SELECTION",e.DOCUMENT_CHANGE_SIZE="DOCUMENT_CHANGE_SIZE",e.DOCUMENT_CHANGE_CONTENT="DOCUMENT_CHANGE_CONTENT",e.DOCUMENT_CHANGE_FORMAT="DOCUMENT_CHANGE_FORMAT",e.DOCUMENT_CHANGE_SEARCH_RESULT="DOCUMENT_CHANGE_SEARCH_RESULT",e.DOCUMENT_NEED_LAYOUT="DOCUMENT_NEED_LAYOUT",e.DOCUMENT_NEED_DRAW="DOCUMENT_NEED_DRAW",e.DOCUMENT_AFTER_LAYOUT="DOCUMENT_AFTER_LAYOUT",e.DOCUMENT_AFTER_DRAW="DOCUMENT_AFTER_DRAW",e.DOCUMENT_AFTER_IDLE_LAYOUT="DOCUMENT_AFTER_IDLE_LAYOUT",e.DOCUMENT_LAYOUT_FINISH="DOCUMENT_LAYOUT_FINISH",e.SEARCH_NEED_DRAW="SEARCH_NEED_DRAW",e.SEARCH_RESULT_CHANGE="SEARCH_RESULT_CHANGE",e.HISTORY_STACK_CHANGE="HISTORY_STACK_CHANGE"})(g||(g={}));var D=Ye(3076),L=Ye.n(D),A;(function(e){e[e.ol1=0]="ol1",e[e.ol2=1]="ol2",e[e.ol3=2]="ol3",e[e.ul1=3]="ul1",e[e.ul2=4]="ul2",e[e.ul3=5]="ul3"})(A||(A={}));var F=Ye(9175),K=Ye.n(F);const B=e=>{if(e.ops.length===1){if(typeof e.ops[0].retain=="number")return{index:e.ops[0].retain,inner:null};{const t=B(e.ops[0].retain);return t!==null?{index:0,inner:t}:null}}else if(e.ops.length===2){const t=e.ops[0].retain,n=typeof e.ops[1].retain=="object"?B(e.ops[1].retain):null;return typeof t=="number"&&n!==null?{index:t,inner:n}:null}else return null},I=e=>{const t={ops:[]};return e.index>0&&t.ops.push({retain:e.index}),e.inner!==null&&t.ops.push({retain:I(e.inner)}),t.ops.length>0?t:null},M=(e,t)=>e.inner===null?{index:e.index+t,inner:null}:{index:e.index,inner:M(e.inner,t)};function U(e){return e!==null?{index:e.index,inner:e.inner===null?null:U(e.inner)}:null}const O=(e,t)=>{if(t.index>=e){const{inner:n}=t,r=U(n);return{index:t.index-e,inner:r}}else return{index:0,inner:null}},X=(e,t)=>e.index>t.index?1:e.index<t.index||e.inner===null&&t.inner!==null?-1:e.inner!==null&&t.inner===null?1:e.inner!==null&&t.inner!==null?X(e.inner,t.inner):0,te=(e,t)=>e.inner===null?{index:e.index+t,inner:null}:{index:e.index,inner:te(e.inner,t)},ne=(e,t)=>{const n=U(e);let r=0;const s=K().iterator(t.ops);for(;s.hasNext();)if(s.peekType()==="insert"){const o=s.peekLength();n.index+=o,r+=o,s.next()}else if(s.peekType()==="delete"){const o=s.peekLength();if(o>n.index-r)return n.index=r,n.inner=null,n;n.index-=o,s.next()}else{const o=s.peekLength(),l=s.next();if(o===1&&l.retain instanceof y()&&r===n.index&&n.inner!==null)return{index:n.index,inner:ne(n.inner,l.retain)};if(o>n.index-r)return n;r+=o}return n},z=(()=>{let e=0;return()=>e++})(),N=e=>{const t=e.charCodeAt(0);return 19968<=t&&t<=40869||40870<=t&&t<=40943||13312<=t&&t<=19893||131072<=t&&t<=173782||173824<=t&&t<=177972||177984<=t&&t<=178205||178208<=t&&t<=183969||183984<=t&&t<=191456||12032<=t&&t<=12245||11904<=t&&t<=12019||63744<=t&&t<=64217||194560<=t&&t<=195101||59413<=t&&t<=59503||58368<=t&&t<=58856||58880<=t&&t<=59087||12736<=t&&t<=12771||12272<=t&&t<=12283||12549<=t&&t<=12591||12704<=t&&t<=12730||65281<=t&&t<=65374||12295<=t&&t<=12305||t===8211||t===8212||t===8230||t===12288||t===12289||t===12290||t===12308||t===12309},$=e=>{switch(e){case"decimal":return A.ol1;case"ckj-decimal":return A.ol2;case"upper-decimal":return A.ol3;case"circle":return A.ul1;case"ring":return A.ul2;case"arrow":return A.ul3;default:throw new Error("unknown list type")}},G=(e,t=!1)=>{const n=t?64:96;let r="",s=e;for(;s>0;){let o=s%26;o===0&&(o=26),r=String.fromCharCode(o+n)+r,s=(s-o)/26}return r},S=(()=>{const e=["\u96F6","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D"],t=["","\u4E07","\u4EBF","\u4E07\u4EBF","\u4EBF\u4EBF"],n=["","\u5341","\u767E","\u5343"],r=s=>{let o="",l="",u=0,f=!0,m=s;for(;m>0;){const _=m%10;_===0?f||(f=!0,l=e[_]+l):(f=!1,o=e[_],o=o+n[u],l=o+l),u++,m=Math.floor(m/10)}return l};return s=>{let o=0,l="",u="",f=!1;if(s===0)return e[0];let m=s;for(;m>0;){const _=m%1e4;f&&(u=e[0]+u),l=r(_),l+=_!==0?t[o]:t[0],u=l+u,f=_<1e3&&_>0,m=Math.floor(m/1e4),o++}return u}})(),T=(()=>{const e=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],t=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],n=["m","cm","d","cd","c","xc","l","xl","x","ix","v","iv","i"];return(r,s=!1)=>{const o=s?t:n;let l="",u=r;for(let f=0;f<e.length;f++)for(;u>=e[f];)l+=o[f],u-=e[f];return l}})(),R=(e,t)=>{const n=t+1;switch(e%3){case 0:return`${n}.`;case 1:return`${G(n)}.`;case 2:return`${T(n)}.`;default:return""}},H=(e,t)=>{if(e===0)return`${S(t+1)}\u3001`;switch(e%3){case 1:return`${G(t+1)})`;case 2:return`${T(t+1)}.`;case 0:return`${t+1}.`;default:return""}},se=(e,t)=>`${t+(e+1)}.`,q=e=>{if(e===0)return"\u2022";switch(e%3){case 1:return"\u25E6";case 2:return"\u25AA";case 0:return"\u25AB";default:return""}},ie=e=>{if(e===0)return"\u2192";switch(e%3){case 1:return"\u25B4";case 2:return"\u25AA";case 0:return"\u2022";default:return""}},ve=(e,t,n,r)=>{switch(e){case A.ol1:return R(t,n);case A.ol2:return H(t,n);case A.ol3:return se(n,r);case A.ul1:return q(t);case A.ul2:return"\u29BF";case A.ul3:return ie(t)}};var ae;(function(e){e[e.both=3]="both",e[e.leftFirst=5]="leftFirst",e[e.rightFirst=6]="rightFirst"})(ae||(ae={}));const ye=(e,t,n,r)=>r-n===0?e<=n&&n<=t||e<=r&&r<=t||n<e&&t<=r:e<=n&&n<t||e<r&&r<=t||n<=e&&t<=r,Ae=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=n[r];t[s]===void 0&&(t[s]=new Set),e[s]instanceof Set?e[s].forEach(l=>{t[s].add(l)}):t[s].add(e[s])}},Me=(e,t,n,r=3)=>{let s=0,o=e.length-1,l=Math.floor((s+o)/2);for(;o>s+1;){const f=e[l].start;if(f<t)s=l;else if(f>t)o=l;else if(f===t)break;l=Math.floor((s+o)/2)}for(e[o].start<=t&&(l=o);l>=0&&!(e[l].start<=t);l--);l=Math.max(l,0);const u=[];if(n>0)for(u.push(e[l]),l++;l<e.length&&e[l].start<t+n;l++)u.push(e[l]);else if(e[l].start===t&&l>0&&u.push(e[l-1]),u.push(e[l]),r!==3&&u.length>1){const f=r===6?0:1;u.splice(f,1)}return u},Ee=e=>{var t,n;const r={};typeof e.background=="string"&&(r["background-color"]=e.background),typeof e.color=="string"&&(r.color=e.color),e.strike&&(r["text-decoration"]=`${(t=r["text-decoration"])!=null?t:""} line-through`),e.underline&&(r["text-decoration"]=`${(n=r["text-decoration"])!=null?n:""} underline`),typeof e.font=="string"&&(r["font-family"]=e.font),typeof e.size=="number"&&(r["font-size"]=`${e.size}pt`),e.bold&&(r["font-weight"]="bold"),e.italic&&(r["font-style"]="italic"),typeof e.width=="number"&&(r.width=e.width),typeof e.height=="number"&&(r.height=e.height);let s="";const o=Object.keys(r);for(let l=0;l<o.length;l++)s+=`${o[l]}:${r[o[l]]};`;return s},$e=(e,t,n=!1)=>{const r=e.length;if(r===0)return[];let s=0;const o=[];let l=t,u=e;n||(l=t.toLowerCase(),u=e.toLowerCase());let f=l.indexOf(u,s);for(;f>-1;)o.push(f),s=f+r,f=l.indexOf(u,s);return o},Be=(e,t,n)=>n.x<=e&&e<=n.x+n.width&&n.y<=t&&t<=n.y+n.height,Pe=(e,t,n,r=!0)=>{let s;const o={x:0,y:0,width:0,height:0};if(r?(o.y=t,s=L().le(n,o,(l,u)=>l.y-u.y)):(o.x=e,s=L().le(n,o,(l,u)=>l.x-u.x)),s>=0){const l=n[s];return r?l.x<=e&&l.x+l.width>=e&&l.y+l.height>=t?l:null:l.y<=t&&l.y+l.height>=t&&l.x+l.width>=e?l:null}else return null},Fe=(e,t,n=!0)=>{const r={x:0,y:0,width:0,height:0};if(r.y=e,n){const s=L().le(t,r,(o,l)=>o.y-l.y);return s>=0?t[s]:null}else{let s=null;if(t.length===0||t[0].y>r.y)return s;for(let o=0;o<t.length&&t[o].y<=r.y;o++)s=t[o];return s}},ge=(e,t,n=!0)=>{const r=Re(e,t,n);return r>=0?t[r]:null},Re=(e,t,n=!0)=>{const r={start:0};if(r.start=e,n){const s=L().le(t,r,(o,l)=>o.start-l.start);return s>=0?s:-1}else{let s=-1;if(t.length===0||t[0].start>r.start)return s;for(let o=0;o<t.length&&t[o].start<=r.start;o++)s=o;return s}},We=(e,t)=>(Math.floor(e)*2+t)/2,je=(e,t,n="right")=>{var r;const s={};if(t)for(let o=0;o<t.length;o++){const l=t[o];if(X(l.start,l.end)===0){let u=ge(l.start.index,e.children,!0);(u==null?void 0:u.start)===l.start.index&&l.start.inner===null&&n==="left"&&u.prevSibling!==null&&(u=u.prevSibling),u&&Ae(u.getFormat({start:O(u.start,l.start),end:O(u.start,l.end)}),s)}else{const u=ge(l.start.index,e.children,!0);let f=ge(l.end.index,e.children,!0);if(!u||!f)continue;if(l.end.index===f.start&&l.end.inner===null&&(f=(r=f.prevSibling)!=null?r:f),u===f)Ae(u.getFormat({start:O(u.start,l.start),end:O(u.start,l.end)}),s);else{let m=f;for(;m&&(Ae(m===f||m===u?m.getFormat({start:O(m.start,l.start),end:O(m.start,l.end)}):m.getFormat(),s),m!==u);)m=m.prevSibling}}}else for(let o=0;o<e.children.length;o++)Ae(e.children[o].getFormat(),s);return s},ut=(e,t,n)=>{let r=null,s=null;if(n){const o=ge(n.start.index,e.children,!0);let l=ge(n.end.index,e.children,!0);if(!o||!l)return null;if(o!==l&&l.prevSibling&&l.start===n.end.index&&n.end.inner===null&&(l=l.prevSibling),r=o.prevSibling||e.head,s=l.nextSibling||e.tail,o===l)o.format(t,{start:O(o.start,n.start),end:O(l.start,n.end)});else{let u=l;for(;u;){if(u===o){u.start===n.start.index&&n.start.inner===null?u.format(t):u.format(t,{start:{index:n.start.index-u.start,inner:n.start.inner},end:{index:u.start+u.length,inner:null}});break}else u===l?u.start+u.length===n.end.index&&n.end.inner===null?u.format(t):u.format(t,{start:{index:0,inner:null},end:{index:n.end.index-u.start,inner:n.end.inner}}):u.format(t);u=u.prevSibling}}}else{r=e.head,s=e.tail;for(let o=0;o<e.children.length;o++)e.children[o].format(t)}return r&&s?{start:r,end:s}:null},nt=(e,t)=>{let n=null,r=null;if(t){const s=ge(t.start.index,e.children,!0),o=ge(t.end.index,e.children,!0);if(!s||!o)return null;if(n=s.prevSibling||e.head,r=o.nextSibling||e.tail,s===o)s.clearFormat({start:O(s.start,t.start),end:O(o.start,t.end)});else{let l=o;for(;l;){if(l===s){l.start===t.start.index&&t.start.inner===null?l.clearFormat():l.clearFormat({start:{index:t.start.index-l.start,inner:t.start.inner},end:{index:l.start+l.length,inner:null}});break}else l===o?l.start+l.length===t.end.index&&t.end.inner===null?l.clearFormat():l.clearFormat({start:{index:0,inner:null},end:{index:t.end.index-l.start,inner:t.end.inner}}):l.clearFormat();l=l.prevSibling}}}else{n=e.head,r=e.tail;for(let s=0;s<e.children.length;s++)e.children[s].clearFormat()}return n&&r?{start:n,end:r}:null},St=(e,t,n)=>{const r=t.start,s=t.end;if(X(r,s)===0){const o=ge(r.index,e.children,!0);if(!o)return;if(n){let l=null;if(o.start<r.index)l=o;else if(o.prevSibling)l=o.prevSibling;else return;if(r.inner===null&&l.length===1)e.remove(l);else{const u=O(l.start,t.start);l.delete({start:u,end:u},!0)}}else if(o.length===1)e.remove(o);else{const l=O(o.start,t.start);o.delete({start:l,end:l},!1)}}else{const o=ge(r.index,e.children,!0),l=ge(s.index,e.children,!0);if(!o||!l)return;if(o===l)o.start===r.index&&r.inner===null&&o.start+o.length===s.index&&s.inner===null?e.remove(o):o.delete({start:O(o.start,t.start),end:O(o.start,t.end)},n);else{let u=l;for(;u;){const f=u.prevSibling;if(u===o){u.start===r.index&&r.inner===null?e.remove(u):u.delete({start:O(u.start,t.start),end:{index:u.start+u.length,inner:null}},n);break}else u===l?u.start+u.length===s.index&&s.inner===null?e.remove(u):u.delete({start:{index:0,inner:null},end:O(u.start,t.end)},n):e.remove(u);u=f}}}},Mt=(e,t)=>{if(t){const n=ge(t.start.index,e.children,!0);let r=ge(t.end.index,e.children,!0);if(!n||!r)return"";if(n!==r&&r.prevSibling&&r.start===t.end.index&&t.end.inner===null&&(r=r.prevSibling),n===r)return n.toHtml({start:O(n.start,t.start),end:O(r.start,t.end)});{let s="",o=n;for(;o;){if(o===n){o.start===t.start.index&&t.start.inner===null?s+=o.toHtml():s+=o.toHtml({start:{index:t.start.index-o.start,inner:t.start.inner},end:{index:o.start+o.length,inner:null}});break}else o===r?o.start+o.length===t.end.index&&t.end.inner===null?s+=o.toHtml():s+=o.toHtml({start:{index:0,inner:null},end:{index:t.end.index-o.start,inner:t.end.inner}}):s+=o.toHtml();o=o.nextSibling}return s}}else return e.children.map(n=>n.toHtml()).join("")},Zn=(e,t)=>{if(t){const n=ge(t.start.index,e.children,!0);let r=ge(t.end.index,e.children,!0);if(!n||!r)return"";if(n!==r&&r.prevSibling&&r.start===t.end.index&&t.end.inner===null&&(r=r.prevSibling),n===r)return n.toText({start:O(n.start,t.start),end:O(r.start,t.end)});{let s="",o=n;for(;o;){if(o===n){o.start===t.start.index&&t.start.inner===null?s+=o.toText():s+=o.toText({start:{index:t.start.index-o.start,inner:t.start.inner},end:{index:o.start+o.length,inner:null}});break}else o===r?o.start+o.length===t.end.index&&t.end.inner===null?s+=o.toText():s+=o.toText({start:{index:0,inner:null},end:{index:t.end.index-o.start,inner:t.end.inner}}):s+=o.toText();o=o.nextSibling}return s}}else return e.children.map(n=>n.toText()).join("")},ci=(e,t,n)=>{const r=[];r.push([t]);const s=ge(e.start.index,n,!0),o=ge(e.end.index,n,!0);if(s&&o)if(s===o)r.push(...s.getSelectedElement({start:O(s.start,e.start),end:O(s.start,e.end)}));else{const l=[];let u=s;for(;u;)l.push(u),u=u.nextSibling;r.push([l])}return r};var hi=Ye(3880),Nn=Ye.n(hi);function Jn(e){return class extends e{constructor(){super(...arguments);this.children=[],this.head=null,this.tail=null}addLast(t){this.beforeAdd&&this.beforeAdd([t],this.children.length,this.tail,null,this.children),this.tail===null?this.head=t:this.tail.nextSibling=t,t.prevSibling=this.tail,this.tail=t,this.children.push(t),this.afterAdd&&this.afterAdd([t],this.children.length-1,this.tail,null,this.children)}addAfter(t,n){const r=this.findIndex(n);if(r>-1)this.beforeAdd&&this.beforeAdd([t],r+1,n,n.nextSibling,this.children),this.children.splice(r+1,0,t),n.nextSibling!==null?(n.nextSibling.prevSibling=t,t.nextSibling=n.nextSibling):this.tail=t,t.prevSibling=n,n.nextSibling=t,this.afterAdd&&this.afterAdd([t],r+1,n,n.nextSibling,this.children);else throw new Error("target not exist in this list")}addBefore(t,n){const r=this.findIndex(n);if(r>-1)this.beforeAdd&&this.beforeAdd([t],r,n.prevSibling,n,this.children),this.children.splice(r,0,t),n.prevSibling!==null?(n.prevSibling.nextSibling=t,t.prevSibling=n.prevSibling):this.head=t,t.nextSibling=n,n.prevSibling=t,this.afterAdd&&this.afterAdd([t],r,t.prevSibling,n,this.children);else throw new Error("target not exist in this list")}addAtIndex(t,n){if(n>this.children.length||n<0)throw new Error("invalid insert position");if(this.children.length===n)this.beforeAdd&&this.beforeAdd([t],n,this.tail,null,this.children),this.tail===null?this.head=t:this.tail.nextSibling=t,t.prevSibling=this.tail,this.tail=t,this.children.push(t);else{const r=this.children[n];this.beforeAdd&&this.beforeAdd([t],n,r.prevSibling,r,this.children),this.children.splice(n,0,t),r.prevSibling!==null?(r.prevSibling.nextSibling=t,t.prevSibling=r.prevSibling):this.head=t,t.nextSibling=r,r.prevSibling=t}this.afterAdd&&this.afterAdd([t],n,t.prevSibling,t.nextSibling,this.children)}addAll(t){if(t.length!==0){this.beforeAdd&&this.beforeAdd(t,this.children.length,this.tail,null,this.children);for(let n=0,r=t.length;n<r;n++){const s=t[n];n>0&&(s.prevSibling=t[n-1],t[n-1].nextSibling=s)}if(this.children.length>0){const n=this.children[this.children.length-1];n.nextSibling=t[0],t[0].prevSibling=n}else this.head=t[0];if(this.tail=t[t.length-1],t.length<=65535)this.children.push(...t);else{let n=0;for(;n<t.length;)this.children.push(...t.slice(n,n+65535)),n+=65535}this.afterAdd&&this.afterAdd(t,this.children.length,t[0].prevSibling,null,this.children)}}removeAll(){this.beforeRemove&&this.beforeRemove(this.children,0,null,null,this.children);for(let n=this.children.length-1;n>=0;n--)this.children[n].destroy(),this.children[n].prevSibling=null,this.children[n].nextSibling=null;this.head=null,this.tail=null;const t=[...this.children];return this.children.length=0,this.afterRemove&&this.afterRemove(t,0,null,null,t),t}remove(t){const n=this.findIndex(t);if(n>-1){const r=t.prevSibling,s=t.nextSibling;this.beforeRemove&&this.beforeRemove([t],n,r,s,this.children),this.children.splice(n,1),t===this.tail&&(this.tail=t.prevSibling),t===this.head&&(this.head=t.nextSibling),t.nextSibling!==null&&(t.nextSibling.prevSibling=t.prevSibling),t.prevSibling!==null&&(t.prevSibling.nextSibling=t.nextSibling),t.nextSibling=null,t.prevSibling=null,this.afterRemove&&this.afterRemove([t],n,r,s,this.children)}else throw new Error("can not remove node which is not in children list")}removeAllFrom(t){const n=this.findIndex(t);if(n>-1){const r=t.prevSibling;this.beforeRemove&&this.beforeRemove(this.children.slice(n),n,r,null,this.children);const s=this.children.splice(n);if(t===this.head?(this.head=null,this.tail=null):(this.tail=t.prevSibling,this.tail.nextSibling=null,t.prevSibling=null),s.length>0)for(let o=0;o<s.length;o++){const l=s[o];l.nextSibling=null,l.prevSibling=null}return this.afterRemove&&this.afterRemove(s,n,r,null,this.children),s}else throw new Error("can not remove node which is not in children list")}splice(t,n,r=[]){var s,o,l,u,f,m,_,P,j,Q,oe,de,pe,we,Oe,Ve;const qe=n>0?this.children.slice(t,t+n):[];if(n>0&&this.beforeRemove&&this.beforeRemove(qe,t,(o=(s=this.children[t])==null?void 0:s.prevSibling)!=null?o:null,(u=(l=this.children[t+n-1])==null?void 0:l.nextSibling)!=null?u:null,this.children),r.length>0&&this.beforeAdd&&this.beforeAdd(r,t,(m=(f=this.children[t])==null?void 0:f.prevSibling)!=null?m:null,(P=(_=this.children[t+n-1])==null?void 0:_.nextSibling)!=null?P:null,this.children),n>0)for(let _e=0;_e<qe.length;_e++){const ze=qe[_e];_e===0&&ze.prevSibling!==null&&(ze.prevSibling.nextSibling=null),_e===qe.length-1&&ze.nextSibling!==null&&(ze.nextSibling.prevSibling=null),ze.nextSibling=null,ze.prevSibling=null}if(r.length>0){for(let _e=0;_e<r.length-1;_e++){const ze=r[_e],Nr=r[_e+1];ze.nextSibling=Nr,Nr.prevSibling=ze}r[0].prevSibling=null,r[r.length-1].nextSibling=null}const st=Math.min(t,this.children.length-1);if(this.children.splice(st,n,...r),r.length>0&&(st>0&&(this.children[st-1].nextSibling=r[0],r[0].prevSibling=this.children[st-1]),st+r.length<this.children.length)){const _e=st+r.length-1;this.children[_e].nextSibling=this.children[_e+1],this.children[_e+1].prevSibling=this.children[_e]}return this.children.length>0?(this.head=this.children[0],this.tail=this.children[this.children.length-1]):(this.head=null,this.tail=null),n>0&&this.afterRemove&&this.afterRemove(qe,t,(Q=(j=this.children[t])==null?void 0:j.prevSibling)!=null?Q:null,(de=(oe=this.children[t+n-1])==null?void 0:oe.nextSibling)!=null?de:null,this.children),r.length>0&&this.afterAdd&&this.afterAdd(r,t,(we=(pe=this.children[t])==null?void 0:pe.prevSibling)!=null?we:null,(Ve=(Oe=this.children[t+n-1])==null?void 0:Oe.nextSibling)!=null?Ve:null,this.children),qe}findIndex(t){let n=-1;for(let r=this.children.length-1;r>=0;r--)this.children[r]===t&&(n=r);return n}}}var Bn;(function(e){e.Default="default",e.Help="help",e.Pointer="pointer",e.Wait="wait",e.Text="text",e.ColResize="col-resize",e.RowResize="row-resize"})(Bn||(Bn={}));function Ot(e){return class extends e{constructor(){super(...arguments);this.bubbleHandler=null}bubbleUp(t,n,r){if(typeof this.bubbleHandler=="function"){let s;Array.isArray(r)?r.push(this):s=[this],this.bubbleHandler(t,n,s!=null?s:r)}}setBubbleHandler(t){typeof t=="function"?this.bubbleHandler=t:this.bubbleHandler=null}}}function Hr(e){return class extends e{constructor(){super(...arguments);this.currentHoverElement=null}onPointerEnter(t,n,r,s){if(this.currentHoverElement)console.trace("strange");else{const o=r[s+1];o&&(o.onPointerEnter(t-o.x,n-o.y,r,s+1),this.currentHoverElement=o)}}onPointerLeave(){this.currentHoverElement&&(this.currentHoverElement.onPointerLeave(),this.currentHoverElement=null)}onPointerMove(t,n,r,s){if(this.currentHoverElement)if(this.currentHoverElement===r[s+1]){this.currentHoverElement.onPointerMove(t-this.currentHoverElement.x,n-this.currentHoverElement.y,r,s+1);return}else this.currentHoverElement.onPointerLeave(),this.currentHoverElement=null;const o=r[s+1];o&&(o.onPointerEnter(t-o.x,n-o.y,r,s+1),this.currentHoverElement=o)}onPointerDown(t,n){this.currentHoverElement&&this.currentHoverElement.onPointerDown(t-this.currentHoverElement.x,n-this.currentHoverElement.y)}onPointerUp(t,n){this.currentHoverElement&&this.currentHoverElement.onPointerUp(t-this.currentHoverElement.x,n-this.currentHoverElement.y)}onPointerTap(t,n){this.currentHoverElement&&this.currentHoverElement.onPointerTap(t-this.currentHoverElement.x,n-this.currentHoverElement.y)}}}var fi=Ye(6486);function Ur(e){return class extends e{firstPos(){if(!this.head)throw new Error("layout frame should not be empty while getting firstPos");return{index:0,inner:null}}lastPos(){if(!this.tail)throw new Error("layout frame should not be empty while getting lastPos");const t=this.tail.lastPos();return{index:t.index+this.tail.start,inner:t.inner}}nextPos(t){const n=ge(t.index,this.children);let r=null;return n&&(r=n.nextPos(O(n.start,t)),r?r={index:r.index+n.start,inner:r.inner}:n.nextSibling&&(r=n.nextSibling.firstPos(),r={index:r.index+n.nextSibling.start,inner:r.inner})),r}prevPos(t){const n=ge(t.index,this.children);let r=null;return n&&(r=n.prevPos(O(n.start,t)),r?r={index:r.index+n.start,inner:r.inner}:n.prevSibling&&(r=n.prevSibling.lastPos(),r={index:r.index+n.prevSibling.start,inner:r.inner})),r}}}function Pn(e){return class extends e{firstLinePos(t){var n,r;return(r=(n=this.head)==null?void 0:n.firstLinePos(t))!=null?r:null}lastLinePos(t){const n=this.children[this.children.length-1],r=n.lastLinePos(t);return r?{index:r.index+n.start,inner:r.inner}:null}nextLinePos(t,n){const r=ge(t.index,this.children);let s=null;return r&&(s=r.nextLinePos(O(r.start,t),n-r.x),s?s={index:s.index+r.start,inner:s.inner}:r.nextSibling&&(s=r.nextSibling.firstLinePos(n),s&&(s={index:s.index+r.nextSibling.start,inner:s.inner}))),s}prevLinePos(t,n){const r=ge(t.index,this.children);let s=null;return r&&(s=r.prevLinePos(O(r.start,t),n-r.x),s?s={index:s.index+r.start,inner:s.inner}:r.prevSibling&&(s=r.prevSibling.lastLinePos(n),s&&(s={index:s.index+r.prevSibling.start,inner:s.inner}))),s}lineStartPos(t,n){const r=ge(t.index,this.children);let s=null;return r&&(s=r.lineStartPos(O(r.start,t),n-r.y),s&&(s={index:s.index+r.start,inner:s.inner})),s}lineEndPos(t,n){const r=ge(t.index,this.children);let s=null;return r&&(s=r.lineEndPos(O(r.start,t),n-r.y),s&&(s={index:s.index+r.start,inner:s.inner})),s}}}var It;(function(e){e.OPEN_LINK="OPEN_LINK",e.LINE_CHANGE_SIZE="LINE_CHANGE_SIZE",e.NEED_DRAW="NEED_DRAW",e.NEED_LAYOUT="NEED_LAYOUT",e.CONTENT_CHANGE="CONTENT_CHANGE",e.NEED_LAYOUT_LISTITEM="NEED_LAYOUT_LISTITEM",e.UPDATE_CONTENT_HEIGHT="UPDATE_CONTENT_HEIGHT",e.UPDATE_CONTENT_LENGTH="UPDATE_CONTENT_LENGTH"})(It||(It={}));function di(e){return class extends e{getSelectedElement(t){return ci(t,this,this.children)}}}const qi=new Map,Ut=(e,t)=>{if(qi.has(e))throw new Error(`can not bind twice: ${e}`);qi.set(e,t)},xu=e=>{if(!qi.has(e))throw new Error(`can not find constructor: ${e}`);return qi.get(e)},wt=(e,...t)=>{const n=qi.get(e);if(n)return new n(...t);throw new Error(`can not find constructor: ${e}`)},$r=new Map,pi=(e,t)=>{$r.set(e,t)},Hs=e=>{const t=e.typeName,n=$r.get(t);if(n)return wt(n,e);throw new Error(`can not find run constructor: ${e}`)};let Us=new(y())([{insert:1,attributes:{frag:"end",block:"para"}}]);const fa=()=>Us,wu=e=>{Us=e};var $s=Object.defineProperty,da=Object.getOwnPropertyDescriptor,Ws=Object.getOwnPropertySymbols,pa=Object.prototype.hasOwnProperty,Ef=Object.prototype.propertyIsEnumerable,Su=(e,t,n)=>t in e?$s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_u=(e,t)=>{for(var n in t||(t={}))pa.call(t,n)&&Su(e,n,t[n]);if(Ws)for(var n of Ws(t))Ef.call(t,n)&&Su(e,n,t[n]);return e},Au=(e,t,n,r)=>{for(var s=r>1?void 0:r?da(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&$s(t,n,s),s};function Eu(e){return class extends e{bubbleUp(t,n,r){t===It.UPDATE_CONTENT_HEIGHT?this.tail?this.setContentHeight(this.tail.y+this.tail.height):this.setContentHeight(0):t===It.UPDATE_CONTENT_LENGTH?this.tail?this.length=this.tail.start+this.tail.length:this.length=0:super.bubbleUp(t,n,r)}}}let gi=class{constructor(){this.id=z(),this.head=null,this.tail=null,this.needLayout=!0,this.em=new(w()),this.x=0,this.y=0,this.width=0,this.height=0,this.contentHeight=0,this.paddingTop=0,this.paddingBottom=0,this.paddingLeft=0,this.paddingRight=0,this.length=0,this.children=[]}static createDefaultEmptyDocContent(){const e=new gi;return e.readFromChanges(fa()),e}readFromChanges(e){this.clear();const t=this.readDeltaToBlocks(e);this.addAll(t),this.head!==null&&this.head.setStart(0,!0,!0)}clear(){for(let e=0,t=this.children.length;e<t;e++)this.children[e].destroy();this.removeAll()}draw(e,t,n,r){for(let s=0;s<this.children.length;s++){const o=this.children[s];o.y+n+o.height>0&&o.y<r&&o.draw(e,this.x+t,this.y+n,r-o.y)}}getLength(){return this.children.reduce((e,t)=>e+t.length,0)}destroy(){console.log("todo destroy document")}setHeight(e){const t=Math.ceil(e);t>=this.contentHeight&&t!==this.height&&(this.height=t)}setContentHeight(e){const t=Math.ceil(e);this.contentHeight!==t&&(this.contentHeight=t+this.paddingBottom,this.setHeight(t+this.paddingBottom))}setWidth(e){if(e!==this.width){this.width=e;for(let t=0;t<this.children.length;t++){const n=this.children[t];n.needLayout=!0}}}getChildrenStackByPos(e,t){const n=Pe(e,t,this.children);let r;return n?(r=n.getChildrenStackByPos(e-n.x,t-n.y),r.unshift(this)):r=[this],r}toDelta(e=!1){const t=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];t.push(...r.toOp(e))}return new(y())(t)}toHtml(e){return Mt(this,e)}search(e){const t=[];for(let n=0;n<this.children.length;n++){const s=this.children[n].search(e);s.length>0&&t.push(...s)}return t}replace(e,t,n){let r=new(y());for(let s=e.length-1;s>=0;s--){const o=e[s],l=ge(o.pos.index,this.children,!0);if(l===null)continue;const u=l.start>0?{retain:l.start}:null,f=l.toOp(!0);l.delete({start:O(l.start,o.pos),end:O(l.start,te(o.pos,t))},!1);const m=U(o.pos);l.insertText(n,{index:m.index-l.start,inner:m.inner});const _=l.toOp(!0),P=u?new(y())([u]):new(y()),j=new(y())(f).diff(new(y())(_)),Q=P.concat(j);r=r.compose(Q)}return this.em.emit(g.DOCUMENT_CHANGE_CONTENT),r}format(e,t){const n=(0,fi.isArray)(t)?t:t?[t]:[{start:{index:0,inner:null},end:{index:this.length,inner:null}}];let r=new(y());for(let s=0;s<n.length;s++){let o=new(y());const l=n[s],u=ge(l.start.index,this.children,!0);let f=ge(l.end.index,this.children,!0);if(!u||!f)continue;f.start===l.end.index&&l.end.inner===null&&f.start!==0&&(f=f.prevSibling);const m=this.getOpFromLinkedBlocks(u,f);if(u===f)u.format(e,{start:O(u.start,l.start),end:O(f.start,l.end)});else{let j=f;for(;j;){const Q=j.prevSibling;if(j===u){j.start===l.start.index&&l.start.inner===null?j.format(e):j.format(e,{start:O(u.start,l.start),end:{index:j.length,inner:null}});break}else j===f?j.start+j.length===l.end.index&&l.end.inner===null?j.format(e):j.format(e,{start:{index:0,inner:null},end:O(f.start,l.end)}):j.format(e);j=Q}}const _=this.getOpFromLinkedBlocks(u,f),P=new(y())(m).diff(new(y())(_));u.start>0&&o.retain(u.start),o=o.concat(P),r=r.compose(o)}return this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0,r}clearFormat(e){const t=(0,fi.isArray)(e)?e:e?[e]:[{start:{index:0,inner:null},end:{index:this.length,inner:null}}];let n=new(y());for(let r=0;r<t.length;r++){let s=new(y());const o=t[r],l=ge(o.start.index,this.children,!0);let u=ge(o.end.index,this.children,!0);if(!l||!u)continue;u.start===o.end.index&&o.end.inner===null&&(u=u.prevSibling);const f=this.getOpFromLinkedBlocks(l,u);if(l===u)l.clearFormat({start:O(l.start,o.start),end:O(u.start,o.end)});else{let P=u;for(;P;){const j=P.prevSibling;if(P===l){P.start===o.start.index&&o.start.inner===null?P.clearFormat():P.clearFormat({start:o.start,end:{index:P.start+P.length,inner:null}});break}else P===u?P.start+P.length===o.end.index&&o.end.inner===null?P.clearFormat():P.clearFormat({start:{index:P.start,inner:null},end:o.end}):P.clearFormat();P=j}}const m=this.getOpFromLinkedBlocks(l,u),_=new(y())(f).diff(new(y())(m));l.start>0&&s.retain(l.start),s=s.concat(_),n=n.compose(s)}return this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0,n}getFormat(e){return(0,fi.isArray)(e)?je(this,e):e===void 0?je(this):je(this,[e])}delete(e,t=!0){var n,r;let s=new(y());for(let o=0;o<e.length;o++){const l=e[o];if(X(l.start,l.end)===0){if(l.start.index===0&&t)continue;const u=ge(l.start.index,this.children,!0);if(!u)continue;const f=t&&u.start===l.start.index&&l.start.inner===null?u.prevSibling:u,m=u;if(f===null||m===null)continue;const _=(f==null?void 0:f.start)||0,P=this.getOpFromLinkedBlocks(f,m);if(t)if(u.start<l.start.index||l.start.inner!==null)u.delete({start:O(u.start,l.start),end:O(u.start,l.end)},!0);else if(u.prevSibling)u.prevSibling.delete({start:O(u.prevSibling.start,l.start),end:O(u.prevSibling.start,l.end)},!0);else continue;else u.delete({start:O(u.start,l.start),end:O(u.start,l.end)},!1);this.tryEat(f,m);const j=this.getOpFromLinkedBlocks(f,m),Q=new(y())(P).diff(new(y())(j));s=s.compose(new(y())().retain(_).concat(Q))}else{const u=ge(l.start.index,this.children,!0),f=ge(l.end.index,this.children,!0);if(!u||!f)continue;const m=u.start===l.start.index&&l.start.inner===null?u.prevSibling:u,_=f.nextSibling,P=(m==null?void 0:m.start)||0;let j=m===u;const Q=this.getOpFromLinkedBlocks(m,_);if(u===f)u.start===l.start.index&&l.start.inner===null&&u.start+u.length===l.end.index&&l.end.inner===null?this.remove(u):u.delete({start:O(u.start,l.start),end:O(u.start,l.end)},t),j=!0;else{let pe=f,we=null;for(;pe;){const Oe=pe.prevSibling;if(pe===u){pe.start===l.start.index&&l.start.inner===null?this.remove(pe):pe.delete({start:O(pe.start,l.start),end:O(pe.start,{index:pe.start+pe.length,inner:null})},t);break}else pe===f?pe.start+pe.length===l.end.index&&l.end.inner===null?(this.remove(pe),we=_):l.end.index===pe.start&&l.end.inner===null?we=pe:(pe.delete({start:{index:0,inner:null},end:O(pe.start,l.end)},t),we=f):this.remove(pe);pe=Oe}j&&u.eat(we)&&this.remove(we)}const oe=this.getOpFromLinkedBlocks(m,_),de=new(y())(Q).diff(new(y())(oe));s=s.compose(new(y())().retain(P).concat(de)),m?(m.setStart(m.start,!0,!0),m.setPositionY(m.y,!0,!0)):((n=this.head)==null||n.setStart(0,!0,!0),(r=this.head)==null||r.setPositionY(0,!0,!0))}}return this.needLayout=!0,this.em.emit(g.DOCUMENT_CHANGE_CONTENT),s}clearContent(){const e=this.toDelta(!0),t=gi.createDefaultEmptyDocContent().toDelta();return this.removeAll(),this.readFromChanges(t),this.needLayout=!0,e.diff(t)}getCursorType(){return Bn.Default}onPointerEnter(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}insertText(e,t,n){let r=new(y());const s=ge(t.index,this.children,!0);if(!s||s.start+s.length<t.index)return r;const o=new(y())(s.toOp(!0));let{index:l}=t;const u=Nn()(e,/\r/g,"").split(`
`);for(let j=0;j<u.length;j++){const Q=u[j],oe=ge(l,this.children,!0);if(!oe)return new(y());let de=!1;Q.length>0&&oe.insertText(Q,{index:t.index-oe.start,inner:t.inner},n)&&(l+=Q.length,de=!0),j<u.length-1&&this.insertEnter({index:l,inner:t.inner},n)&&(l++,de=!0),de&&s.setStart(s.start,!0,!0)}this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0;const f=ge(l,this.children,!0),m=this.getOpFromLinkedBlocks(s,f),_=new(y())(m),P=o.diff(_).ops;return s.start>0&&P.unshift({retain:s.start}),r=r.compose(new(y())(P)),r}insertEnter(e,t){const n=ge(e.index,this.children,!0);if(!n)return null;const r=n.toOp(!0),s=n.insertEnter({index:e.index-n.start,inner:e.inner},t),o=n.toOp(!0);s&&(this.addAfter(s,n),s.setStart(n.start+n.length,!0),o.push(...s.toOp(!0)));const l=new(y());return n.start>0&&l.retain(n.start),this.needLayout=!0,l.concat(new(y())(r).diff(new(y())(o)))}insertFragment(e,t){const n=ge(t.index,this.children,!0);if(!n)return null;const r=new(y())(n.toOp(!0));n.insertFragment(e,O(n.start,t)),this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0;const s=new(y())(n.toOp(!0)),o=r.diff(s).ops;return n.start>0&&o.unshift({retain:n.start}),new(y())(o)}insertBlock(e,t){const n=Re(t.index,this.children,!0),r=this.children[n];if(n<0)return null;let s;if(r.start===t.index&&t.inner===null){this.addBefore(e,r);const o=[];e.start>0&&o.push({retain:e.start}),o.push(...e.toOp(!1)),s=new(y())(o)}else{const o=new(y())(r.toOp(!0)),l=r.insertBlock(e,O(r.start,t));l.length&&this.splice(n,1,l);const u=[];for(let P=0;P<l.length;P++){const j=l[P];u.push(...j.toOp(!0))}const f=new(y())(u),m=o.diff(f),_=[];e.start>0&&_.push({retain:r.start}),_.push(...m.ops),s=new(y())(_)}return s}findBlocksByRange(e,t,n){const r=n!=null?n:ae.both;return Me(this.children,e,t,r)}layout(e=0){if(!!this.needLayout){for(let t=e;t<this.children.length;t++)if(this.children[t].needLayout){const n=this.children[t];n.x=this.paddingLeft,t===0&&(n.y=this.paddingTop),n.setWidth(this.width-this.paddingLeft-this.paddingRight),n.layout()}this.needLayout=!1}}getBlocksOps(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(...r.toOp(!0))}return t}setNeedToLayout(){this.needLayout=!0;for(let e=0;e<this.children.length;e++)this.children[e].needLayout=!0}readDeltaToBlocks(e){var t;const n=[],r=[];for(let s=0;s<e.ops.length;s++){const o=e.ops[s];if(typeof((t=o.attributes)==null?void 0:t.block)=="string"){const l=xu(o.attributes.block);if(l)if(typeof o.insert=="number"){r.push({insert:1,attributes:_u({},o.attributes)});const u=new l;if(u.setWidth(this.width-this.paddingLeft-this.paddingRight),u.readFromOps(r),n.push(u),o.insert>1)for(let f=0;f<o.insert-1;f++){const m=new l;m.setWidth(this.width-this.paddingLeft-this.paddingRight),m.readFromOps([{insert:1,attributes:_u({},o.attributes)}]),n.push(m)}}else{r.push(o);const u=new l;u.setWidth(this.width-this.paddingLeft-this.paddingRight),u.readFromOps(r),n.push(u)}else console.warn("unknown block type: ",o.attributes.block);r.length=0}else r.push(o)}return n}tryMerge(e,t){let n=!1,r=e;for(;r==null?void 0:r.nextSibling;)if(r===t&&(n=!0),r.needMerge&&r.constructor===r.nextSibling.constructor)r.merge(r.nextSibling),r.needLayout=!0,this.remove(r.nextSibling);else{if(n)break;r=r.nextSibling}}tryEat(e,t){let n=e;for(;n==null?void 0:n.nextSibling;)if(n.eat(n.nextSibling)){if(this.remove(n.nextSibling),n.nextSibling!==t)continue;break}else if(n.nextSibling!==t){n=n.nextSibling;continue}else break}getDocumentPos(e,t,n=!1){let r;if(t<0?r=this.head:t>this.height?r=this.tail:r=Fe(t,this.children,!0),r===null)return null;const s=r.getDocumentPos(e,t,n);return s!==null&&(s.index+=r.start),s}getSelectionRectangles(e,t,n){const r=[];let s=this.head;const o=e.index,l=t.index;for(;s;)ye(s.start,s.start+s.length,o,l+1)&&r.push(...s.getSelectionRectangles(O(s.start,e),O(s.start,t),n)),s!==this.tail?s=s.nextSibling:s=null;return r}bubbleUp(e,t,n){throw new Error("this method should implemented in IGetAbsolutePosDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextPos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}firstLinePos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastLinePos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}prevPos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextLinePos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}prevLinePos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineStartPos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineEndPos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}afterAdd(e,t,n,r,s){e.forEach(l=>{l.x=this.paddingLeft,l.setWidth(this.width-this.paddingLeft-this.paddingRight),this.length+=l.length,l.setBubbleHandler(this.bubbleUp.bind(this))});const o=e[0].prevSibling===null?0:e[0].prevSibling.start+e[0].prevSibling.length;e[0].setStart(o,!0,!0)}beforeRemove(e,t,n,r,s){e.forEach(o=>{this.length-=o.length,o.setBubbleHandler(null)}),r&&r.setStart(n?n.start+n.length:0,!0,!0)}afterRemove(e){e.forEach(t=>{this.length-=t.length,t.setBubbleHandler(null)})}addLast(e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAfter(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addBefore(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAtIndex(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAll(e){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAll(){throw new Error("this method should be implemented in ILinkedListDecorator")}remove(e){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAllFrom(e){throw new Error("this method should be implemented in ILinkedListDecorator")}splice(e,t,n){throw new Error("this method should be implemented in ILinkedListDecorator")}findIndex(e){throw new Error("this method should be implemented in ILinkedListDecorator")}getSelectedElement(e){throw new Error("Method not implemented.")}getOpFromLinkedBlocks(e,t){const n=[];let r=e===null?this.children[0]:e;for(;r&&(n.push(...r.toOp(!0)),r!==t);)r=r.nextSibling;return n}};gi=Au([di,Eu,Ot,Jn,Hr,Ur,Pn],gi);let Cu={getPixelRatio:()=>1,convertPt2Px:[],createTextFontString:()=>"",measureTextWidth:()=>0,measureTextMetrics:()=>({baseline:11,bottom:11,xTop:11}),requestIdleCallback:()=>0,cancelIdleCallback:()=>{}};const Cf=e=>{Cu=e},ct=()=>Cu;class Pf extends gi{constructor(){super(...arguments);this.firstScreenRender=0,this.initLayout=!1,this.idleLayoutStartBlock=null,this.idleLayoutRunning=!1,this.startDrawingBlock=null,this.endDrawingBlock=null,this.runIdleLayout=t=>{if(this.idleLayoutStartBlock){this.idleLayoutRunning=!0;let n=!1;for(;t.timeRemaining()>5&&this.idleLayoutStartBlock;)this.idleLayoutStartBlock.needLayout&&(n=n||this.idleLayoutStartBlock.needLayout,this.idleLayoutStartBlock.layout()),this.idleLayoutStartBlock=this.idleLayoutStartBlock.nextSibling;this.em.emit(g.DOCUMENT_AFTER_IDLE_LAYOUT,{hasLayout:n,needIdleLayout:this.idleLayoutStartBlock!==null}),this.idleLayoutStartBlock?(this.initLayout===!1&&this.setContentHeight(this.idleLayoutStartBlock.y),ct().requestIdleCallback(this.runIdleLayout)):(this.idleLayoutRunning=!1,this.initLayout=!0,console.log("idle finished",performance.now()-window.start),this.em.emit(g.DOCUMENT_LAYOUT_FINISH,{hasLayout:n}))}}}readFromChanges(t){this.firstScreenRender=0,super.readFromChanges(t)}draw(t,n,r){this.startDrawingBlock=null,this.endDrawingBlock=null,t.clearRect(0,0,t.canvas.width,t.canvas.height),t.save();let s=this.head;s&&s.setPositionY(this.paddingTop);const o=n+r;let l=!1,u=!1;for(;s!==null;){if(s.y<o)u=u||s.needLayout,s.layout(),s.y+s.height>=n&&(s.draw(t,0,-n,r-s.y+n),this.startDrawingBlock===null&&(this.startDrawingBlock=s));else if(s.needLayout){this.firstScreenRender===0&&(this.firstScreenRender=window.performance.now()-window.start,console.log("first screen finished ",this.firstScreenRender)),l=!0,this.startIdleLayout(s),this.endDrawingBlock=s;break}s=s.nextSibling}t.restore(),this.em.emit(g.DOCUMENT_AFTER_LAYOUT,{hasLayout:u,needIdleLayout:l,ctx:t,scrollTop:n,viewHeight:r}),l||this.em.emit(g.DOCUMENT_LAYOUT_FINISH,{hasLayout:u,ctx:t,scrollTop:n,viewHeight:r})}fastDraw(t,n,r){this.startDrawingBlock=null,this.endDrawingBlock=null,t.clearRect(0,0,t.canvas.width,t.canvas.height),t.save();let s=null;if(this.idleLayoutRunning)for(let o=0;o<this.children.length;o++){const l=this.children[o];if(ye(l.y,l.y+l.height,n,n+r)){s=l;break}}else s=Fe(n,this.children),s||(s=this.head);if(s){const o=n+r;for(this.startDrawingBlock=s;s&&s.y<o;){s.draw(t,0,-n,r-s.y+n),this.endDrawingBlock=s;s=s.nextSibling}}t.restore(),this.em.emit(g.DOCUMENT_AFTER_DRAW,{ctx:t,scrollTop:n,viewHeight:r})}getDocumentPos(t,n,r=!1){let s;if(n<0?s=this.head:n>this.height?s=this.tail:s=Fe(n,this.children,this.idleLayoutStartBlock===null),s===null)return null;const o=s.getDocumentPos(t,n,r);return o!==null&&(o.index+=s.start),o}setHeight(t){const n=Math.ceil(t);n>=this.contentHeight&&n!==this.height&&(this.height=n,this.em.emit(g.DOCUMENT_CHANGE_SIZE,{width:this.width,height:this.height}))}setWidth(t){super.setWidth(t),this.em.emit(g.DOCUMENT_CHANGE_SIZE,{width:this.width,height:this.height}),this.em.emit(g.DOCUMENT_NEED_LAYOUT)}bubbleUp(t,n,r){switch(super.bubbleUp(t,n,r),t){case It.NEED_LAYOUT:{const s=Array.isArray(r)?r[r.length-1]:null;s&&(!this.idleLayoutStartBlock||this.idleLayoutStartBlock.start>s.start)&&(this.idleLayoutStartBlock=s,this.em.emit(g.DOCUMENT_NEED_LAYOUT));return}case It.CONTENT_CHANGE:{this.em.emit(g.DOCUMENT_CHANGE_CONTENT);return}case It.NEED_DRAW:{this.em.emit(g.DOCUMENT_NEED_DRAW);return}default:{const s=r instanceof Array?[...r,this]:[this];this.em.emit(t,n,s)}}}startIdleLayout(t){(!this.idleLayoutStartBlock||t.start<this.idleLayoutStartBlock.start)&&(this.idleLayoutStartBlock=t,this.idleLayoutRunning||ct().requestIdleCallback(this.runIdleLayout))}}class Er extends w(){constructor(t){super();this.doc=t}}class If extends Er{constructor(){super(...arguments);this.canRedo=!1,this.canUndo=!1,this.delta=null,this.currentIndex=-1,this.stack=[],this.compositing=!1,this.compositionStack=[]}setInitDelta(t){this.delta=t}pushDiff(t){if(this.delta&&t&&t.ops.length>0){const n={redo:t,undo:t.invert(this.delta)};this.compositing?this.compositionStack.push(n):(this.stack.splice(this.currentIndex+1),this.stack.push(n),this.currentIndex=this.stack.length-1,this.setRedoUndoStatus(),this.delta=this.delta.compose(t))}}startComposition(){this.compositing=!0}endComposition(){if(this.compositing=!1,this.delta&&this.compositionStack.length>0){let t=new(y()),n=new(y());this.compositionStack.forEach(r=>{t=t.compose(r.redo),n=n.compose(r.undo)}),this.compositionStack.length=0,this.stack.splice(this.currentIndex+1),this.stack.push({redo:t,undo:n}),this.currentIndex=this.stack.length-1,this.setRedoUndoStatus(),this.delta=this.delta.compose(t)}}redo(){const t=this.stack[this.currentIndex+1];let n;return t?(this.currentIndex++,n=t.redo):n=null,this.setRedoUndoStatus(),n}undo(){const t=this.stack[this.currentIndex];let n;return t?(this.currentIndex--,n=t.undo):n=null,this.setRedoUndoStatus(),n}rebase(t){for(let n=0;n<this.stack.length;n++){const r=this.stack[n];r.redo=t.transform(r.redo),r.undo=t.transform(r.undo)}}setRedoUndoStatus(){const t=!!this.stack[this.currentIndex+1],n=!!this.stack[this.currentIndex];t!==this.canRedo&&(this.canRedo=t),n!==this.canUndo&&(this.canUndo=n),this.emit(g.HISTORY_STACK_CHANGE,{canRedo:t,canUndo:n,stackDepth:this.stack.length,current:this.currentIndex})}}class ga{constructor(t){this.SELECTION_AREA_COLOR="rgba(71, 155, 253, 0.2)",this.SEARCH_RESULT_COLOR="rgba(255, 193, 0, 0.4)",this.SEARCH_RESULT_CURRENT_ITEM_COLOR="rgba(0, 83, 180, 0.25)",this.ctxDoc=t}get canvas(){return this.ctxDoc.canvas}get globalAlpha(){return this.ctxDoc.globalAlpha}set globalAlpha(t){this.ctxDoc.globalAlpha=t}get globalCompositeOperation(){return this.ctxDoc.globalCompositeOperation}set globalCompositeOperation(t){this.ctxDoc.globalCompositeOperation=t}get imageSmoothingEnabled(){return this.ctxDoc.imageSmoothingEnabled}set imageSmoothingEnabled(t){this.ctxDoc.imageSmoothingEnabled=t}get imageSmoothingQuality(){return this.ctxDoc.imageSmoothingQuality}set imageSmoothingQuality(t){this.ctxDoc.imageSmoothingQuality=t}get fillStyle(){return this.ctxDoc.fillStyle}set fillStyle(t){this.ctxDoc.fillStyle=t}get strokeStyle(){return this.ctxDoc.strokeStyle}set strokeStyle(t){this.ctxDoc.strokeStyle=t}get shadowBlur(){return this.ctxDoc.shadowBlur}set shadowBlur(t){this.ctxDoc.shadowBlur=t}get shadowColor(){return this.ctxDoc.shadowColor}set shadowColor(t){this.ctxDoc.shadowColor=t}get shadowOffsetX(){return this.ctxDoc.shadowOffsetX}set shadowOffsetX(t){this.ctxDoc.shadowOffsetX=t}get shadowOffsetY(){return this.ctxDoc.shadowOffsetY}set shadowOffsetY(t){this.ctxDoc.shadowOffsetY=t}get filter(){return this.ctxDoc.filter}set filter(t){this.ctxDoc.filter=t}get lineCap(){return this.ctxDoc.lineCap}set lineCap(t){this.ctxDoc.lineCap=t}get lineDashOffset(){return this.ctxDoc.lineDashOffset}set lineDashOffset(t){this.ctxDoc.lineDashOffset=t}get lineJoin(){return this.ctxDoc.lineJoin}set lineJoin(t){this.ctxDoc.lineJoin=t}get lineWidth(){return this.ctxDoc.lineWidth}set lineWidth(t){this.ctxDoc.lineWidth=t}get miterLimit(){return this.ctxDoc.miterLimit}set miterLimit(t){this.ctxDoc.miterLimit=t}get direction(){return this.ctxDoc.direction}set direction(t){this.ctxDoc.direction=t}get font(){return this.ctxDoc.font}set font(t){this.ctxDoc.font=t}get textAlign(){return this.ctxDoc.textAlign}set textAlign(t){this.ctxDoc.textAlign=t}get textBaseline(){return this.ctxDoc.textBaseline}set textBaseline(t){this.ctxDoc.textBaseline=t}drawCursor(t,n,r,s){this.ctxDoc.beginPath(),this.ctxDoc.moveTo(t,n),this.ctxDoc.strokeStyle=s,this.ctxDoc.lineTo(t,n+r),this.ctxDoc.stroke()}restore(){return this.ctxDoc.restore()}save(){return this.ctxDoc.save()}getTransform(){return this.ctxDoc.getTransform()}resetTransform(){return this.ctxDoc.resetTransform()}rotate(t){return this.ctxDoc.rotate(t)}scale(t,n){return this.ctxDoc.scale(t,n)}setTransform(t,n,r,s,o,l){if(t===void 0)return this.ctxDoc.setTransform();if(n===void 0)return this.ctxDoc.setTransform(t);if(r!==void 0&&s!==void 0&&o!==void 0&&l!==void 0)return this.ctxDoc.setTransform(t,n,r,s,o,l)}transform(t,n,r,s,o,l){return this.ctxDoc.transform(t,n,r,s,o,l)}translate(t,n){return this.ctxDoc.translate(t,n)}createLinearGradient(t,n,r,s){return this.ctxDoc.createLinearGradient(t,n,r,s)}createPattern(t,n){return this.ctxDoc.createPattern(t,n)}createRadialGradient(t,n,r,s,o,l){return this.ctxDoc.createRadialGradient(t,n,r,s,o,l)}clearRect(t,n,r,s){return this.ctxDoc.clearRect(t,n,r,s)}fillRect(t,n,r,s){return this.ctxDoc.fillRect(t,n,r,s)}strokeRect(t,n,r,s){return this.ctxDoc.strokeRect(t,n,r,s)}beginPath(){return this.ctxDoc.beginPath()}clip(t,n){return this.ctxDoc.clip(t,n)}fill(t,n){return this.ctxDoc.fill(t,n)}isPointInPath(t,n,r,s){return this.ctxDoc.isPointInPath(t,n,r,s)}isPointInStroke(t,n,r){return this.ctxDoc.isPointInStroke(t,n,r)}stroke(t){return t!==void 0?this.ctxDoc.stroke(t):this.ctxDoc.stroke()}drawFocusIfNeeded(t,n){return this.ctxDoc.drawFocusIfNeeded(t,n)}fillText(t,n,r,s){return this.ctxDoc.fillText(t,n,r,s)}measureText(t){return this.ctxDoc.measureText(t)}strokeText(t,n,r,s){return this.ctxDoc.strokeText(t,n,r,s)}drawImage(t,n,r,s,o,l,u,f,m){return m!==void 0?this.ctxDoc.drawImage(t,n,r,s,o,l,u,f,m):o!==void 0?this.ctxDoc.drawImage(t,n,r,s,o):this.ctxDoc.drawImage(t,n,r)}createImageData(t,n){return this.ctxDoc.createImageData(t,n)}getImageData(t,n,r,s){return this.ctxDoc.getImageData(t,n,r,s)}putImageData(t,n,r,s,o,l,u){return s?this.ctxDoc.putImageData(t,n,r,s,o,l,u):this.ctxDoc.putImageData(t,n,r)}getLineDash(){return this.ctxDoc.getLineDash()}setLineDash(t){return this.ctxDoc.setLineDash(t)}arc(t,n,r,s,o,l){return this.ctxDoc.arc(t,n,r,s,o,l)}arcTo(t,n,r,s,o){return this.ctxDoc.arcTo(t,n,r,s,o)}bezierCurveTo(t,n,r,s,o,l){return this.ctxDoc.bezierCurveTo(t,n,r,s,o,l)}closePath(){return this.ctxDoc.closePath()}ellipse(t,n,r,s,o,l,u,f){return this.ctxDoc.ellipse(t,n,r,s,o,l,u,f)}lineTo(t,n){return this.ctxDoc.lineTo(t,n)}moveTo(t,n){return this.ctxDoc.moveTo(t,n)}quadraticCurveTo(t,n,r,s){return this.ctxDoc.quadraticCurveTo(t,n,r,s)}rect(t,n,r,s){return this.ctxDoc.rect(t,n,r,s)}getContextAttributes(){return this.ctxDoc.getContextAttributes()}drawSelectionArea(t,n,r,s){this.ctxDoc.fillStyle=this.SELECTION_AREA_COLOR;for(let o=s;o<t.length;o++){const l=t[o];if(t[0].y>r)break;this.ctxDoc.fillRect(l.x,l.y-n,l.width,l.height)}}drawSearchResult(t,n,r,s,o){for(let l=s;l<t.length;l++){const u=t[l].rects;if(u[0].y>r)break;l===o?this.ctxDoc.fillStyle=this.SEARCH_RESULT_CURRENT_ITEM_COLOR:this.ctxDoc.fillStyle=this.SEARCH_RESULT_COLOR;for(let f=0;f<u.length;f++){const m=u[f];this.ctxDoc.fillRect(m.x,m.y-n,m.width,m.height)}}}}var Wr;(function(e){e[e.Empty=0]="Empty",e[e.Mouse=1]="Mouse",e[e.Keyboard=2]="Keyboard",e[e.Input=3]="Input"})(Wr||(Wr={}));class va extends Er{constructor(t){super(t);this.selection=[],this.lastSelection=[],this.selectionSource=0,this.mouseSelecting=!1,this.keyboardSelecting=!1,this.selectionStartTemp=null,this.selectionEndTemp=null,this.selectionStart=null,this.selectionEnd=null,this.selectionStartPos=null,this.selectionEndPos=null,this.selectionStartPosTemp=null,this.selectionEndPosTemp=null,this.keyboardSelectStartPos=null,this.cursorPos=null,this.keyboardVerticalMoveXPos=null,this.onDocumentLayout=({ctx:n,scrollTop:r,viewHeight:s})=>{this.draw(n,r,s)},this.onDocumentFastDraw=({ctx:n,scrollTop:r,viewHeight:s})=>{this.draw(n,r,s)},this.doc.em.addListener(g.DOCUMENT_AFTER_LAYOUT,this.onDocumentLayout),this.doc.em.addListener(g.DOCUMENT_AFTER_DRAW,this.onDocumentFastDraw)}getSelection(){return this.selection}setSelection(t,n){this.changeSelectionSource(t.length>0?n!=null?n:this.selectionSource:0),this.selection=t,this.lastSelection=t,this.emit(g.CHANGE_SELECTION,this.selection)}clearSelection(){return this.selection=[],this.emit(g.CHANGE_SELECTION,this.selection),this.lastSelection}restoreSelection(){this.setSelection(this.lastSelection)}changeSelectionSource(t){this.selectionSource=t}startMouseSelection(t,n){const r=this.doc.getDocumentPos(t,n,!0);r&&(this.changeSelectionSource(1),this.mouseSelecting=!0,this.selectionStartTemp=r,this.selectionEndTemp=this.selectionStartTemp,this.selectionStartPosTemp={x:t,y:n},this.keyboardVerticalMoveXPos=null)}updateMouseSelection(t,n){if(this.mouseSelecting){this.changeSelectionSource(1),this.selectionEndTemp=this.doc.getDocumentPos(t,n),this.selectionEndPosTemp={x:t,y:n},this.orderSelectionPoint();const r=this.calSelection();r&&(this.selectionEndPos={x:t,y:n},this.setSelection(r,1),this.keyboardVerticalMoveXPos=null)}}endMouseSelection(t,n){if(this.mouseSelecting){this.changeSelectionSource(1),this.mouseSelecting=!1,this.selectionEndTemp=this.doc.getDocumentPos(t,n),this.selectionEndPosTemp={x:t,y:n},this.orderSelectionPoint();const r=this.calSelection();if(r){if(this.selectionEndPos={x:t,y:n},r.length===1&&X(r[0].start,r[0].end)===0){const s=this.calSelectionRectangles(r).filter(o=>ye(o.y,o.y+o.height,n,n));s.length===1?this.setCursorPos(s[0]):this.cursorPos=null}else this.cursorPos=null;this.setSelection(r,1),this.keyboardVerticalMoveXPos=null}}}updateKeyboardSelection(){}getSelectionRectangles(){return(this.selectionSource===2||this.selectionSource===1)&&this.selection.length===1&&X(this.selection[0].start,this.selection[0].end)===0&&this.cursorPos!==null?[this.cursorPos]:this.calSelectionRectangles(this.selection)}applyChanges(t){if(this.selection.length>0){const n=this.selection.map(r=>{const s=ne(r.start,t),o=ne(r.end,t);return{start:s,end:o}});this.setSelection(n)}}cursorMoveUp(){var t;if(this.selection.length>0&&this.selectionStartPos){this.startKeyboardSelection();const n=this.selection[0].start;this.keyboardVerticalMoveXPos=this.keyboardVerticalMoveXPos||this.selectionStartPos.x;const r=(t=this.doc.prevLinePos(n,this.keyboardVerticalMoveXPos))!=null?t:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);if(o.length===1)this.setCursorPos(o[0]),this.setSelection([s],2);else{let l=null;for(let u=0;u<o.length;u++){const f=o[u];(!l||Math.abs(l.x-this.keyboardVerticalMoveXPos)>Math.abs(f.x-this.keyboardVerticalMoveXPos))&&(l=f)}l&&(this.setCursorPos(l),this.setSelection([s],2))}}}cursorMoveDown(){var t;if(this.selection.length>0&&this.selectionEndPos){this.startKeyboardSelection();const n=this.selection[0].end;this.keyboardVerticalMoveXPos=this.keyboardVerticalMoveXPos||this.selectionEndPos.x;const r=(t=this.doc.nextLinePos(n,this.keyboardVerticalMoveXPos))!=null?t:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);if(o.length===1)this.setCursorPos(o[0]),this.setSelection([s],2);else{let l=null;for(let u=0;u<o.length;u++){const f=o[u];(!l||Math.abs(l.x-this.keyboardVerticalMoveXPos)>Math.abs(f.x-this.keyboardVerticalMoveXPos))&&(l=f)}l&&(this.setCursorPos(l),this.setSelection([s],2))}}}cursorMoveLeft(){var t;if(this.selection.length>0){this.startKeyboardSelection();const n=this.selection[0].start,r=(t=this.doc.prevPos(n))!=null?t:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);o.length>0&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}cursorMoveRight(){var t;if(this.selection.length>0){this.startKeyboardSelection();const n=this.selection[this.selection.length-1].end,r=(t=this.doc.nextPos(n))!=null?t:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);o.length>0&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}cursorMoveToLineStart(){var t;if(this.selection.length>0&&this.selectionStartPos){this.startKeyboardSelection();const n=this.selection[0].start,r=(t=this.doc.lineStartPos(n,this.selectionStartPos.y))!=null?t:n,s={start:r,end:r},o=this.calSelectionRectangles([s]).filter(l=>ye(l.y,l.y+l.height,this.selectionStartPos.y,this.selectionStartPos.y));o.length===1&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}cursorMoveToLineEnd(){var t;if(this.selection.length>0&&this.selectionEndPos){this.startKeyboardSelection();const n=this.selection[this.selection.length-1].end,r=(t=this.doc.lineEndPos(n,this.selectionEndPos.y))!=null?t:n,s={start:r,end:r},o=this.calSelectionRectangles([s]).filter(l=>ye(l.y,l.y+l.height,this.selectionEndPos.y,this.selectionEndPos.y));o.length===1&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}startKeyboardSelection(){}calSelectionRectangles(t,n,r){const s=n||this.doc.head||void 0,o=r||this.doc.tail||void 0;if(!s||!o)return[];const l=[];for(let u=0;u<t.length;u++){const f=t[u],m=f.start.index,_=f.end.index;if(ye(s.start,o.start+o.length,m,_)){let P=s;for(;P;)ye(P.start,P.start+P.length,m,_+1)&&l.push(...P.getSelectionRectangles(O(P.start,f.start),O(P.start,f.end))),P!==o?P=P.nextSibling:P=null}}return l}draw(t,n,r){if(this.selection.length===0||this.selection.length===1&&X(this.selection[0].start,this.selection[0].end)===0)return;const s=Fe(n,this.doc.children),o=Fe(n+r,this.doc.children);if(s&&o){const l=this.calSelectionRectangles(this.selection,s,o);l.length>0&&t.drawSelectionArea(l,n,n+r,0)}}orderSelectionPoint(){!this.selectionStartTemp||!this.selectionEndTemp||(X(this.selectionStartTemp,this.selectionEndTemp)===1?(this.selectionStart=this.selectionEndTemp,this.selectionEnd=this.selectionStartTemp,this.selectionStartPos=this.selectionEndPosTemp,this.selectionEndPos=this.selectionStartPosTemp):(this.selectionStart=this.selectionStartTemp,this.selectionEnd=this.selectionEndTemp,this.selectionStartPos=this.selectionStartPosTemp,this.selectionEndPos=this.selectionEndPosTemp))}calSelection(){if(!this.selectionStart||!this.selectionEnd)return null;const n={start:this.selectionStart.index},r=L().le(this.doc.children,n,(u,f)=>u.start-f.start),o={start:this.selectionEnd.index},l=L().le(this.doc.children,o,(u,f)=>u.start-f.start);if(r===l){const u=this.doc.children[r],f=O(u.start,this.selectionStart),m=O(u.start,this.selectionEnd);return u.correctSelectionPos(f,m).map(P=>{const j=U(P.start),Q=U(P.end);return j&&(j.index+=u.start),Q&&(Q.index+=u.start),{start:j,end:Q}})}else{const u=this.doc.children[r],f=O(u.start,this.selectionStart),m=u.correctSelectionPos(f,null)[0].start;m.index+=u.start;const _=this.doc.children[l],P=O(_.start,this.selectionEnd),j=_.correctSelectionPos(null,P)[0].end;return j.index+=_.start,[{start:m,end:j}]}}distinctRanges(t){const n=t.sort((r,s)=>{const o=X(r.start,s.start);return o===0?X(r.end,s.end):o});for(let r=n.length-1;r>0;r--){const s=n[r],o=n[r-1];X(s.start,o.start)===0&&X(s.end,o.end)===0&&n.splice(r,1)}return n}setCursorPos(t){this.cursorPos=t,this.selectionStartPos={y:t.y+t.height/2,x:t.x},this.selectionEndPos={y:t.y+t.height/2,x:t.x}}}var zs;(function(e){e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom"})(zs||(zs={}));const Pu={vertAlign:zs.Top,colSpan:1,rowSpan:1};function vi(e){return class extends e{setOverrideDefaultAttributes(t){var n;let r=!1;if(!t)this.overrideDefaultAttributes!==null&&(this.overrideDefaultAttributes=null,r=!0);else{const s=Object.keys(t);for(let o=0,l=s.length;o<l;o++){const u=s[o];t.hasOwnProperty(u)&&(t[u]===void 0&&this.overrideDefaultAttributes?(delete this.overrideDefaultAttributes[u],r=!0):t[u]!==void 0&&(this.overrideDefaultAttributes=(n=this.overrideDefaultAttributes)!=null?n:{},this.overrideDefaultAttributes[u]=t[u],r=!0))}}r&&this.compileAttributes()}setOverrideAttributes(t){var n;let r=!1;if(!t)this.overrideAttributes!==null&&(this.overrideAttributes=null,r=!0);else{const s=Object.keys(t);for(let o=0,l=s.length;o<l;o++){const u=s[o];t.hasOwnProperty(u)&&(t[u]===void 0&&this.overrideAttributes?(delete this.overrideAttributes[u],r=!0):t[u]!==void 0&&(this.overrideAttributes=(n=this.overrideAttributes)!=null?n:{},this.overrideAttributes[u]=t[u],r=!0))}}r&&this.compileAttributes()}setAttributes(t){var n;let r=!1;if(!t)this.originalAttributes!==null&&(this.originalAttributes=null,r=!0);else{const s=Object.keys(this.defaultAttributes);for(let o=0,l=s.length;o<l;o++){const u=s[o];t.hasOwnProperty(u)&&(t[u]===void 0&&this.originalAttributes&&this.originalAttributes.hasOwnProperty(u)?(delete this.originalAttributes[u],r=!0):t[u]!==this.defaultAttributes[u]&&(this.originalAttributes===null||t[u]!==this.originalAttributes[u])?(this.originalAttributes=(n=this.originalAttributes)!=null?n:{},this.originalAttributes[u]=t[u],r=!0):t[u]===this.defaultAttributes[u]&&this.originalAttributes&&this.originalAttributes.hasOwnProperty(u)&&(delete this.originalAttributes[u],r=!0,Object.keys(this.originalAttributes).length===0&&(this.originalAttributes=null)))}}r&&this.compileAttributes()}compileAttributes(){var t,n,r;const s=Object.keys(this.defaultAttributes);for(let o=0,l=s.length;o<l;o++){const u=s[o];((t=this.overrideAttributes)==null?void 0:t.hasOwnProperty(u))?this.attributes[u]=this.overrideAttributes[u]:((n=this.originalAttributes)==null?void 0:n.hasOwnProperty(u))?this.attributes[u]=this.originalAttributes[u]:((r=this.overrideDefaultAttributes)==null?void 0:r.hasOwnProperty(u))?this.attributes[u]=this.overrideDefaultAttributes[u]:this.defaultAttributes.hasOwnProperty(u)&&(this.attributes[u]=this.defaultAttributes[u])}}}}var Iu=Object.defineProperty,Tf=Object.getOwnPropertyDescriptor,Tu=Object.getOwnPropertySymbols,Of=Object.prototype.hasOwnProperty,Df=Object.prototype.propertyIsEnumerable,ma=(e,t,n)=>t in e?Iu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ou=(e,t)=>{for(var n in t||(t={}))Of.call(t,n)&&ma(e,n,t[n]);if(Tu)for(var n of Tu(t))Df.call(t,n)&&ma(e,n,t[n]);return e},Lf=(e,t,n,r)=>{for(var s=r>1?void 0:r?Tf(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Iu(t,n,s),s},Qn;(function(e){e.POINTER_ENTER_TABLE_CELL="POINTER_ENTER_TABLE_CELL",e.POINTER_LEAVE_TABLE_CELL="POINTER_LEAVE_TABLE_CELL"})(Qn||(Qn={}));let mi=class extends gi{constructor(){super(...arguments);this.x=0,this.y=0,this.width=0,this.height=0,this.prevSibling=null,this.nextSibling=null,this.parent=null,this.attributes=Ou({},Pu),this.defaultAttributes=Pu,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.paddingLeft=5,this.paddingRight=5,this.paddingTop=5,this.paddingBottom=5,this.isFirstLine=!1,this.isLastLine=!1,this.isFirstCell=!1,this.isLastCell=!1,this.GridRowPos=0,this.GridColPos=0}static create(){const e=new mi;return e.readFromChanges(super.createDefaultEmptyDocContent().toDelta()),e}get start(){return this.prevSibling===null?0:this.prevSibling.start+1}readFromOps(e){var t;const n=e[0].insert;super.readFromChanges(n),this.setAttributes((t=e[0])==null?void 0:t.attributes)}toOp(e){const t={insert:this.toDelta(e)};return e&&(t.key=this.id),this.originalAttributes&&Object.keys(this.originalAttributes).length>0&&(t.attributes=Ou({},this.originalAttributes)),t}setAttributes(e){const t=e==null?void 0:e.colSpan;typeof t=="number"&&(this.attributes.colSpan=t);const n=e==null?void 0:e.rowSpan;typeof n=="number"&&(this.attributes.rowSpan=n);const r=e==null?void 0:e.vertAlign;typeof r=="number"&&(this.attributes.vertAlign=r)}setWidth(e){if(e!==this.width){this.width=e;for(let t=0;t<this.children.length;t++)this.children[t].setWidth(this.width-this.paddingLeft-this.paddingRight)}}drawBorder(e,t,n){e.strokeStyle="#000";const r=this.x+t,s=this.y+n;if(e.beginPath(),!this.isLastCell){const o=We(r+this.width,-1),l=We(s,-1),u=We(s+this.height,1);e.moveTo(o,l),e.lineTo(o,u)}if(!this.isLastLine){const o=We(s+this.height,-1),l=We(r,-1),u=We(r+this.width,1);e.moveTo(l,o),e.lineTo(u,o)}e.stroke()}onPointerEnter(e,t,n,r){super.onPointerEnter(e,t,n,r),this.bubbleUp(Qn.POINTER_ENTER_TABLE_CELL,null,[])}onPointerLeave(){super.onPointerLeave(),this.bubbleUp(Qn.POINTER_LEAVE_TABLE_CELL,null,[])}format(e,t){var n,r;if(this.setAttributes(e),t===void 0)return super.format(e);{let s=new(y());const o=(0,fi.isArray)(t)?t:[t];for(let l=0;l<o.length;l++){const u=o[l];if(u.start.inner||u.end.inner){const f={start:(n=u.start.inner)!=null?n:{index:0,inner:null},end:(r=u.end.inner)!=null?r:{index:this.children.length,inner:null}};s=s.compose(super.format(e,f))}else s=s.compose(super.format(e))}return s}}clearFormat(e){var t,n;if(this.setAttributes({vertAlign:zs.Top}),e===void 0)return super.clearFormat();{let r=new(y());const s=(0,fi.isArray)(e)?e:[e];for(let o=0;o<s.length;o++){const l=s[o];if(l.start.inner||l.end.inner){const u={start:(t=l.start.inner)!=null?t:{index:0,inner:null},end:(n=l.end.inner)!=null?n:{index:this.children.length,inner:null}};r=r.compose(super.clearFormat(u))}else r=r.compose(super.clearFormat())}return r}}getFormat(e){var t,n;let r={};if(e===void 0)r=je(this);else{const s=(0,fi.isArray)(e)?e:[e];for(let o=0;o<s.length;o++){const l=s[o];((t=l.start)==null?void 0:t.inner)&&((n=l.end)==null?void 0:n.inner)?Ae(super.getFormat([{start:l.start.inner,end:l.end.inner}]),r):Ae(super.getFormat(),r)}}return Ae(this.attributes,r),r}setOverrideDefaultAttributes(e){throw new Error("Method not implemented.")}setOverrideAttributes(e){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}};mi=Lf([vi],mi);var Rf=Ye(8446),ba=Ye.n(Rf),js=Ye(5659),Ff=Ye.n(js),Gs=Ye(971),kf=Ye.n(Gs);class Ks{constructor(t){this.frags=[],this.isSpace=!1,this.text="",this.totalWidth=0,this.fragWidth=[],this.isHolder=t}calTotalWidth(){if(this.isHolder){this.totalWidth=this.frags[0].frag.calTotalWidth(),this.fragWidth=[this.totalWidth];return}let t;this.frags.length===1?(t=ct().measureTextWidth(this.text,this.frags[0].frag.attributes),this.fragWidth=[t]):((this.fragWidth===void 0||!this.fragWidth.length)&&this.calFragWidth(),t=this.fragWidth.reduce((n,r)=>n+r,0)),this.totalWidth=t}calFragWidth(){this.frags.length===1?this.fragWidth=[this.totalWidth]:this.fragWidth=this.frags.map(t=>ct().measureTextWidth(this.text.substring(t.start,t.end),t.frag.attributes))}calCharWidthByFrag(t){const n=this.frags[t];return this.text.substr(n.start,n.end).split("").map(r=>ct().measureTextWidth(r,n.frag.attributes))}}var mn;(function(e){e.left="left",e.center="center",e.right="right",e.justify="justify",e.scattered="scattered"})(mn||(mn={}));const bn={background:"#ffffff",color:"#494949",strike:!1,underline:!1};var _t;(function(e){e[e.Text=-1]="Text",e[e.Title=0]="Title",e[e.Subtitle=1]="Subtitle",e[e.H1=2]="H1",e[e.H2=3]="H2",e[e.H3=4]="H3",e[e.H4=5]="H4"})(_t||(_t={}));const zr=[{name:"Default",value:'BlinkMacSystemFont,"PingFang SC",Helvetica,Tahoma,Arial,"Hiragino Sans GB","Microsoft YaHei","\\5FAE\\8F6F\\96C5\\9ED1",sans-serif'},{name:"simsun",value:"SimSun,STSong,sans-serif"},{name:"simhei",value:"SimHei,STHeiti,sans-serif"},{name:"Weiruanyahei",value:"Weiruanyahei"},{name:"fangsong",value:"FangSong,STFangsong,sans-serif"},{name:"kaiti",value:"KaiTi,STKaiti,sans-serif"},{name:"arial",value:"Arial,sans-serif"},{name:"droid",value:'"Droid Serif",sans-serif'},{name:"source",value:'"Source Code Pro",sans-serif'}],Du=[...zr].sort((e,t)=>e.name>t.name?1:-1),Lu=[...zr].sort((e,t)=>e.value>t.value?1:-1),an={getFontValue(e){const t=L().eq(Du,{name:e,value:""},(n,r)=>n.name>r.name?1:n.name<r.name?-1:0);return t>=0&&t<zr.length?Du[t].value:zr[0].value},getFontName(e){const t=L().eq(Lu,{name:"",value:e},(n,r)=>n.value>r.value?1:n.value<r.value?-1:0);return t>=0&&t<zr.length?Lu[t].name:zr[0].name}};var Mf=Object.defineProperty,Ru=Object.getOwnPropertyDescriptor,Fu=(e,t,n,r)=>{for(var s=r>1?void 0:r?Ru(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Mf(t,n,s),s};let or=class{constructor(){this.defaultAttributes=bn,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.attributes=bn,this.prevSibling=null,this.nextSibling=null,this.metrics={baseline:0,bottom:0,xTop:0},this.id=z(),this.isPointerHover=!1}get typeName(){return or.typeName}get start(){return this.prevSibling===null?0:this.prevSibling.start+this.prevSibling.length}get length(){return 1}destroy(){}readFromOps(e){}calTotalWidth(){return 0}calMetrics(){}toOp(e){return{retain:0}}toHtml(e){return""}toText(e){return""}format(e,t){return t?[]:(this.setAttributes(e),[this])}clearFormat(e){e||this.setAttributes(this.defaultAttributes)}getFormat(){return this.attributes}insertText(e,t,n){return[]}insertEnter(e){return null}insertFragment(e,t){return[]}insertBlock(e,t){return!1}delete(e,t){}eat(e){return!1}firstPos(){return{index:0,inner:null}}lastPos(){return{index:this.length-1,inner:null}}nextPos(e){const t=M(e,1);return t.index>=this.length?null:t}prevPos(e){const t=M(e,-1);return t.index<0?null:t}firstLinePos(e){return null}lastLinePos(e){return null}nextLinePos(e){return null}prevLinePos(e){return null}lineStartPos(e){return null}lineEndPos(e){return null}onPointerEnter(){this.isPointerHover=!0}onPointerLeave(){this.isPointerHover=!1}onPointerMove(){}onPointerDown(){}onPointerUp(){}onPointerTap(){}bubbleUp(e,t,n){throw new Error("this method should implemented in IGetAbsolutePosDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}setOverrideDefaultAttributes(e){throw new Error("Method not implemented.")}setOverrideAttributes(e){throw new Error("Method not implemented.")}setAttributes(e){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(e){throw new Error("Method not implemented.")}};or.typeName="frag",or=Fu([Ot,vi],or);var ya=Object.defineProperty,Nf=Object.defineProperties,ku=Object.getOwnPropertyDescriptors,es=Object.getOwnPropertySymbols,Mu=Object.prototype.hasOwnProperty,Bf=Object.prototype.propertyIsEnumerable,xa=(e,t,n)=>t in e?ya(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nu=(e,t)=>{for(var n in t||(t={}))Mu.call(t,n)&&xa(e,n,t[n]);if(es)for(var n of es(t))Bf.call(t,n)&&xa(e,n,t[n]);return e},wa=(e,t)=>Nf(e,ku(t));const Xs=wa(Nu({},bn),{bold:!1,font:an.getFontValue("Default"),italic:!1,link:"",size:11,composing:!1});var Bu=Object.defineProperty,Ys=Object.getOwnPropertySymbols,Sa=Object.prototype.hasOwnProperty,bi=Object.prototype.propertyIsEnumerable,_a=(e,t,n)=>t in e?Bu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t)=>{for(var n in t||(t={}))Sa.call(t,n)&&_a(e,n,t[n]);if(Ys)for(var n of Ys(t))bi.call(t,n)&&_a(e,n,t[n]);return e};const Aa=class extends or{constructor(){super(...arguments);this.content="",this.defaultAttributes=Xs,this.attributes=Hn({},Xs)}get typeName(){return Aa.typeName}readFromOps(e){const t=e.attributes;t!==void 0&&(t.font&&t.hasOwnProperty("font")&&(t.font=an.getFontValue(t.font)),this.setAttributes(t)),this.calMetrics(),this.content=e.insert}get length(){return this.content.length}calTotalWidth(){return ct().measureTextWidth(this.content,this.attributes)}calMetrics(){this.metrics=ct().measureTextMetrics(this.attributes)}toOp(){var e;const t=((e=this.originalAttributes)==null?void 0:e.font)?{font:an.getFontName(this.originalAttributes.font)}:null,n={insert:this.content};return(t!==null||this.originalAttributes&&Object.keys(this.originalAttributes).length>0)&&(n.attributes=Hn(Hn({},this.originalAttributes),t)),n}toHtml(e){const t=e?this.content.substring(e.start.index,e.end.index):this.content;return this.attributes.link?`<a href=${this.attributes.link} style=${Ee(this.attributes)}>${t}</a>`:`<span style=${Ee(this.attributes)}>${t}</span>`}toText(e){return e?this.content.substring(e.start.index,e.end.index):this.content}insertText(e,t,n){if(e.length===0)return[];if(n){let r=!0;const s=Object.keys(n);for(let o=0;o<s.length;o++)if(!ba()(n[s[o]],this.attributes[s[o]])){r=!1;break}if(r)return this.content=this.content.slice(0,t.index)+e+this.content.slice(t.index),[this];{const o=[],l=this.content.slice(0,t.index),u=this.content.slice(t.index);l&&(this.setContent(l),o.push(this));const f=this.constructor,m=new f;if(m.setContent(e),m.setAttributes(n),m.calMetrics(),o.push(m),u){const _=new f;_.setContent(u),_.setAttributes(this.attributes),_.calMetrics(),o.push(_)}return o}}else return this.content=this.content.slice(0,t.index)+e+this.content.slice(t.index),[this]}insertEnter(e){const t=new this.constructor;return t.setContent(this.content.slice(e.index)),t.setAttributes(this.originalAttributes),t.calMetrics(),this.content=this.content.slice(0,e.index),t}insertFragment(e,t){const n=new this.constructor;return n.setContent(this.content.slice(t.index)),n.setAttributes(this.originalAttributes),n.calMetrics(),this.content=this.content.slice(0,t.index),[this,e,n]}delete(e,t){const{start:n,end:r}=e;let s="",o="";X(e.start,e.end)===0?t?(s=this.content.substr(0,n.index-1),o=this.content.substr(r.index)):(s=this.content.substr(0,n.index),o=this.content.substr(r.index+1)):(s=this.content.substr(0,n.index),o=this.content.substr(r.index)),this.content=s+o,super.delete(e)}format(e,t){if(!t||t.start.index<=0&&t.end.index>=this.length)return this.setAttributes(e),[this];{const n=this.content.substring(0,t.start.index),r=this.content.substring(t.start.index,t.end.index),s=this.content.substring(t.end.index),o=[],l=this.constructor;if(n)if(s){const u=new l;u.content=r,u.setAttributes(Hn(Hn({},this.originalAttributes),e)),u.calMetrics();const f=new l;f.content=s,f.setAttributes(Hn({},this.originalAttributes)),f.calMetrics(),this.content=n,o.push(this,u,f)}else{const u=new l;u.content=r,u.setAttributes(Hn(Hn({},this.originalAttributes),e)),u.calMetrics(),this.content=n,this.calMetrics(),o.push(this,u)}else{const u=new l;u.content=s,u.setAttributes(Hn({},this.originalAttributes)),u.calMetrics(),this.setAttributes(e),this.content=r,this.calMetrics(),o.push(this,u)}return o}}clearFormat(e){const t=Hn({},Xs);delete t.link,delete t.composing,this.format(t,e)}setContent(e){this.content=e,this.calMetrics()}eat(e){return e instanceof Aa&&ba()(this.originalAttributes,e.originalAttributes)?(this.setContent(this.content+e.content),!0):!1}onPointerEnter(){super.onPointerEnter()}onPointerLeave(){super.onPointerLeave()}onPointerTap(){super.onPointerTap(),this.attributes.link&&this.bubbleUp(It.OPEN_LINK,this.attributes.link)}compileAttributes(){super.compileAttributes(),this.calMetrics()}};let ln=Aa;ln.typeName="";class yi{constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.solidHeight=!1,this.prevSibling=null,this.nextSibling=null,this.isSpace=!1,this.length=1,this.isPointerHover=!1}destroy(){}setSize(t,n){this.width=n,this.height=t}calSize(){return{height:this.calHeight(),width:this.calWidth()}}setPosition(t,n){this.x=t,this.y=n}getCoordinatePosX(t){return t===0?0:this.width}getCursorType(){return Bn.Default}onPointerEnter(t,n){this.isPointerHover=!0,this.frag.onPointerEnter()}onPointerLeave(){this.isPointerHover=!1,this.frag.onPointerLeave()}onPointerMove(t,n){this.frag.onPointerMove()}onPointerDown(t,n){this.frag.onPointerDown()}onPointerUp(t,n){this.frag.onPointerUp()}onPointerTap(t,n){this.frag.onPointerTap()}}yi.typeName="run";var Hu=Object.defineProperty,Uu=Object.getOwnPropertyDescriptor,Hf=(e,t,n,r)=>{for(var s=r>1?void 0:r?Uu(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Hu(t,n,s),s};let un=class extends yi{constructor(e,t){super();this.content="",this.frag=e,this.setContent(t!=null?t:this.frag.content)}setContent(e){this.content=e,this.length=e.length,this.height=this.calHeight(),this.isSpace=this.content===" "}draw(e,t,n,r){(this.prevSibling===null||this.prevSibling.frag!==this.frag)&&(e.font=ct().createTextFontString(this.frag.attributes),this.frag.attributes.link.length===0?e.fillStyle=this.frag.attributes.color:e.fillStyle="#70b1e7"),e.fillText(this.content,this.x+t,r+n),window.runBorder&&(e.strokeStyle="green",e.strokeRect(this.x+t,this.y+n,this.width,this.height))}calHeight(){return this.height=this.frag.metrics.bottom,this.height}calWidth(){return this.width=ct().measureTextWidth(this.content,this.frag.attributes),this.width}getDocumentPos(e,t,n){if(this.length===1)return e<this.width/2?{index:0,inner:null}:{index:1,inner:null};if(this.length>1){const r=[0];for(let s=1;s<=this.content.length;s++){const o=this.content.substr(0,s),l=ct().measureTextWidth(o,this.frag.attributes);if(r.push(l),l>=e){const u=l-r[s-1];return e-r[s-1]<u/2?s===1?{index:0,inner:null}:{index:s-1,inner:null}:{index:s,inner:null}}}return{index:this.content.length,inner:null}}else return{index:0,inner:null}}getCoordinatePosX(e){return e===0?0:ct().measureTextWidth(this.content.substr(0,e),this.frag.attributes)}getCursorType(){return this.frag.attributes.link.length===0?Bn.Text:Bn.Pointer}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}};un.typeName="run-text",un=Hf([Ot],un);var Uf=Object.defineProperty,$u=Object.getOwnPropertyDescriptor,$f=(e,t,n,r)=>{for(var s=r>1?void 0:r?$u(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Uf(t,n,s),s};let jr=class{constructor(e,t,n,r,s=0,o=0){this.children=[],this.head=null,this.tail=null,this.start=0,this.length=0,this.width=0,this.height=0,this.em=new(w()),this.baseline=0,this.linespacing=1.7,this.maxWidth=0,this.minBaseline=0,this.minHeight=0,this.backgroundList=[],this.underlineList=[],this.strikeList=[],this.composingUnderline=[],this.isPointerHover=!1,this.x=e,this.y=t,this.linespacing=n,this.maxWidth=r,this.minBaseline=s,this.minHeight=o}destroy(){}afterAdd(e){let t=this.baseline,n=this.height,r=this.width;e.forEach(s=>{var o,l,u,f,m,_;r=r+s.width;const P=s.solidHeight?1:this.linespacing,j=s instanceof un?ct().convertPt2Px[(l=(o=s.frag)==null?void 0:o.attributes.size)!=null?l:0]:s.height;n=Math.max(n,j*P),t=Math.max(t,(n-((f=(u=s.frag)==null?void 0:u.metrics.bottom)!=null?f:0))/2+((_=(m=s.frag)==null?void 0:m.metrics.baseline)!=null?_:0)),this.length+=s.length,s.setBubbleHandler(this.bubbleUp.bind(this))}),this.setBaseline(t),this.setSize(n,r)}afterRemove(e){e.forEach(t=>{this.length-=t.length,t.setBubbleHandler(null)})}draw(e,t,n){this.backgroundList.forEach(r=>{e.fillStyle=r.background,e.fillRect(r.start+this.x+t,this.y+n,r.end-r.start,this.height)});for(let r=0,s=this.children.length;r<s;r++)this.children[r].draw(e,this.x+t,this.y+n,this.baseline);if(e.lineWidth=1,this.underlineList.forEach(r=>{e.beginPath(),e.moveTo(r.start+this.x+t,r.posY+n),e.lineTo(r.end+this.x+t,r.posY+n),e.strokeStyle=r.color,e.stroke()}),this.composingUnderline.length>0){const r=e.lineWidth;e.lineWidth=1.5,this.composingUnderline.forEach(s=>{e.beginPath(),e.moveTo(s.start+this.x+t,s.posY+n),e.lineTo(s.end+this.x+t,s.posY+n),e.strokeStyle="#67aef9",e.stroke()}),e.lineWidth=r}this.strikeList.forEach(r=>{e.beginPath(),e.moveTo(r.start+this.x+t,r.posY+n),e.lineTo(r.end+this.x+t,r.posY+n),e.strokeStyle=r.color,e.stroke()}),(window.lineBorder||this.isPointerHover)&&(e.save(),e.strokeStyle="red",e.strokeRect(this.x+t,this.y+n,this.width,this.height),e.restore())}layout(e){var t;let n=0,r=0;switch(e){case mn.left:case mn.scattered:n=0;break;case mn.justify:{let de=this.children.length-1;((t=this.tail)==null?void 0:t.isSpace)&&de--;const pe=this.children.reduce((we,Oe,Ve)=>Oe.isSpace&&Ve===this.children.length-1?we:we+Oe.width,0);r=(this.maxWidth-pe)/de,n=0;break}case mn.center:{const de=this.children.reduce((pe,we,Oe)=>we.isSpace&&Oe===this.children.length-1?pe:pe+we.width,0);n=(this.maxWidth-de)/2;break}case mn.right:{const de=this.children.reduce((pe,we,Oe)=>we.isSpace&&Oe===this.children.length-1?pe:pe+we.width,0);n=this.maxWidth-de;break}}let s=!1,o={start:n,end:0,background:""};const l=this.y+this.baseline+2;let u=!1,f={start:n,end:0,posY:this.calClearPosY(l),color:""},m=!1,_={start:n,end:0,posY:this.calClearPosY(l)},P=!1,j={start:n,end:0,posY:.5,color:""},Q=null,oe=this.head;for(;oe==null?void 0:oe.frag;)oe.y=this.baseline-oe.frag.metrics.baseline,oe.x=Math.min(this.maxWidth,oe.prevSibling===null?n:oe.prevSibling.x+oe.prevSibling.width+r),e===mn.justify&&oe.prevSibling&&oe.prevSibling.setSize(oe.prevSibling.height,oe.x-oe.prevSibling.x),s?oe.frag.attributes.background!==o.background&&(o.end=oe.x,this.backgroundList.push(o),s=!1,o={start:n,end:0,background:""},oe.frag.attributes.background!==bn.background&&(o.start=oe.x,o.background=oe.frag.attributes.background,s=!0)):oe.frag.attributes.background!==bn.background&&(o.start=oe.x,o.background=oe.frag.attributes.background,s=!0),u?(oe.frag.attributes.color!==f.color||!oe.frag.attributes.underline)&&(f.end=oe.x,this.underlineList.push(f),u=!1,f={start:n,end:0,posY:this.calClearPosY(l),color:""},oe.frag.attributes.underline!==bn.underline&&(f.start=oe.x,f.color=oe.frag.attributes.color,u=!0)):oe.frag.attributes.underline!==bn.underline&&(f.start=oe.x,f.color=oe.frag.attributes.color,u=!0),m?(!(oe.frag instanceof ln)||!oe.frag.attributes.composing)&&(_.end=oe.x,this.composingUnderline.push(_),m=!1,_={start:n,end:0,posY:this.calClearPosY(l)}):oe.frag.attributes.composing&&(_.start=oe.x,m=!0),P?oe.frag!==Q&&(j.end=oe.x,this.strikeList.push(j),P=!1,Q=null,j={start:n,end:0,posY:.5,color:""},oe.frag.attributes.strike!==bn.strike&&(j.start=oe.x,j.color=oe.frag.attributes.color,j.posY=this.calClearPosY(this.y+this.baseline-(oe.frag.metrics.baseline-oe.frag.metrics.xTop)/2),P=!0,Q=oe.frag)):oe.frag.attributes.strike!==bn.strike&&(j.start=oe.x,j.color=oe.frag.attributes.color,j.posY=this.calClearPosY(this.y+this.baseline-(oe.frag.metrics.baseline-oe.frag.metrics.xTop)/2),P=!0,Q=oe.frag),oe=oe.nextSibling;s&&(o.end=this.tail.x+this.tail.width,this.backgroundList.push(o)),u&&(f.end=this.tail.x+this.tail.width,this.underlineList.push(f)),m&&(_.end=this.tail.x+this.tail.width,this.composingUnderline.push(_)),P&&(j.end=this.tail.x+this.tail.width,this.strikeList.push(j)),this.tail!==null&&this.setSize(this.height,this.tail.x+this.tail.width)}getChildrenStackByPos(e,t){const n=[this],r=Pe(e,t,this.children,!1);return r&&n.push(r),n}getCursorType(){return Bn.Default}addLast(e){throw new Error("Method not implemented.")}addAfter(e,t){throw new Error("Method not implemented.")}addBefore(e,t){throw new Error("Method not implemented.")}addAtIndex(e,t){throw new Error("Method not implemented.")}addAll(e){throw new Error("Method not implemented.")}removeAll(){throw new Error("Method not implemented.")}remove(e){throw new Error("Method not implemented.")}removeAllFrom(e){throw new Error("Method not implemented.")}splice(e,t,n){return[]}findIndex(e){throw new Error("Method not implemented.")}onPointerEnter(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}setSize(e,t){this.width=t,this.height=Math.max(this.minHeight,e),this.bubbleUp(It.LINE_CHANGE_SIZE,{width:this.width,height:this.height},[this])}setBaseline(e){this.baseline=Math.max(e,this.minBaseline)}calClearPosY(e){return Math.floor(e)+.5}};jr=$f([Ot,Jn,Hr],jr);var Wf=Object.defineProperty,zf=Object.defineProperties,Ea=Object.getOwnPropertyDescriptors,Wu=Object.getOwnPropertySymbols,jf=Object.prototype.hasOwnProperty,Gf=Object.prototype.propertyIsEnumerable,zu=(e,t,n)=>t in e?Wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kf=(e,t)=>{for(var n in t||(t={}))jf.call(t,n)&&zu(e,n,t[n]);if(Wu)for(var n of Wu(t))Gf.call(t,n)&&zu(e,n,t[n]);return e},vt=(e,t)=>zf(e,Ea(t));const dt=vt(Kf({},bn),{size:11});var Xf=Object.defineProperty,ju=Object.getOwnPropertySymbols,Yf=Object.prototype.hasOwnProperty,Zf=Object.prototype.propertyIsEnumerable,Gu=(e,t,n)=>t in e?Xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jf=(e,t)=>{for(var n in t||(t={}))Yf.call(t,n)&&Gu(e,n,t[n]);if(ju)for(var n of ju(t))Zf.call(t,n)&&Gu(e,n,t[n]);return e};const Zs=class extends or{constructor(){super(...arguments);this.defaultAttributes=dt,this.attributes=Jf({},dt)}get typeName(){return Zs.typeName}readFromOps(e){this.calMetrics()}calMetrics(){this.metrics=ct().measureTextMetrics({bold:!1,size:this.attributes.size,font:an.getFontValue("Default")})}toOp(e){const t={insert:1,attributes:{frag:Zs.typeName}};return e&&(t.key=this.id),t}toHtml(){return""}toText(){return`
`}compileAttributes(){super.compileAttributes(),this.calMetrics()}lastPos(){return{index:0,inner:null}}};let Vn=Zs;Vn.typeName="end";const Nt={align:mn.left,indent:0,linespacing:1.7};var Ca=Object.defineProperty,ts=Object.getOwnPropertyDescriptor,Pa=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable,Ta=(e,t,n)=>t in e?Ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t)=>{for(var n in t||(t={}))Ia.call(t,n)&&Ta(e,n,t[n]);if(Pa)for(var n of Pa(t))In.call(t,n)&&Ta(e,n,t[n]);return e},Ku=(e,t,n,r)=>{for(var s=r>1?void 0:r?ts(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Ca(t,n,s),s};function Xu(e){return class extends e{bubbleUp(n,r,s){if(n==="LINE_CHANGE_SIZE"){this.childrenSizeChangeHandler();return}super.bubbleUp(n,r,s)}}}function Yu(e){return class extends e{setOverrideDefaultAttributes(n){this.children.forEach(r=>{r.setOverrideDefaultAttributes(n)}),super.setOverrideDefaultAttributes(n)}setOverrideAttributes(n){this.children.forEach(r=>{r.setOverrideAttributes(n)}),super.setOverrideAttributes(n)}compileAttributes(){super.compileAttributes(),this.calcIndentWidth()}}}let Un=class{constructor(){this.children=[],this.head=null,this.tail=null,this.prevSibling=null,this.nextSibling=null,this.start=0,this.length=0,this.x=0,this.y=0,this.width=0,this.height=0,this.maxWidth=0,this.firstIndent=0,this.indentWidth=0,this.lines=[],this.id=z(),this.attributes=yn({},Nt),this.defaultAttributes=Nt,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.minBaseline=0,this.minLineHeight=0,this.isPointerHover=!1}readFromOps(e){this.setAttributes(e[e.length-1].attributes);const t=this.readOpsToFragment(e);this.addAll(t),this.calLength()}readOpsToFragment(e){var t;const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=((t=s.attributes)==null?void 0:t.frag)||"",l=xu(o);if(l)if(typeof s.insert=="number")for(let u=0;u<s.insert;u++){const f=new l;f.readFromOps({insert:1,attributes:yn({},s.attributes)}),n.push(f)}else{const u=new l;u.readFromOps(s),n.push(u)}else console.log("unknown fragment type: ",o)}return n}destroy(){}addLine(e){this.lines.push(e),e.setBubbleHandler(this.bubbleUp.bind(this));const t=Math.max(this.width,e.x+e.width),n=this.height+e.height;this.setSize(n,t)}draw(e,t,n,r){for(let s=0,o=this.lines.length;s<o;s++){const l=this.lines[s];n+this.y+l.y+l.height>=0&&l.y<r&&l.draw(e,this.x+t,this.y+n)}(window.frameBorder||this.isPointerHover)&&(e.save(),e.strokeStyle="blue",e.strokeRect(this.x+t,this.y+n,this.width,this.height),e.restore())}layout(){this.lines=[],this.addLine(new jr(this.firstIndent+this.indentWidth,0,this.attributes.linespacing,this.maxWidth-this.firstIndent-this.indentWidth,this.minBaseline,this.minLineHeight)),this.breakLines(this.calLineBreakPoint());const e=this.lines.length;let t=this.attributes.align===mn.scattered?mn.justify:this.attributes.align;for(let n=0;n<e;n++){const r=this.lines[n];for(let s=0;s<r.children.length;s++){const o=r.children[s];if(o instanceof un&&o.content.length>1&&(N(o.content[0])||N(o.content[o.content.length-1]))){const l=o.content.split("").map(u=>{const f=wt(un.typeName,o.frag);return f.setContent(u),f.setSize(o.height,f.calWidth()),f.isSpace=!1,f});r.splice(s,1,l)}}n===e-1&&this.attributes.align===mn.justify&&(t=mn.left),this.lines[n].layout(t),n===0?r.start=0:r.start=this.lines[n-1].start+this.lines[n-1].length}}setMaxWidth(e){this.maxWidth=e}setFirstIndent(e){this.firstIndent=e}setMinMetrics(e){this.minBaseline=e.baseline,this.minLineHeight=e.bottom}getDocumentPos(e,t,n){let r=null,s=0,o=e;for(const _=this.lines.length;s<_;s++)if(r=this.lines[s],r.y<=t&&t<=r.y+r.height||t<r.y&&s===0||t>r.y+r.height&&s===this.lines.length-1){s++;break}if(s--,r===null)return{index:0,inner:null};let l=null,u=0,f=0;if(t<r.y?o=-1:t>r.y+r.height&&(o=r.width+1),o<=r.x)l=r.head;else if(o>=r.x+r.width)l=r.tail,u=r.children.length-1,f=r.length-l.length;else{o=o-r.x;for(const _=r.children.length;u<_;u++){l=r.children[u];const P=l.x+l.width;if(l.x<=o&&o<=P||l.nextSibling!==null&&P<o&&o<l.nextSibling.x)break;f+=l.length}}if(l===null)return{index:0,inner:null};const m=l.getDocumentPos(o-l.x,t-r.y-l.y,n);return m.index+=r.start+f,m}getSelectionRectangles(e,t){const n=e.index,s=t.index-n+(t.inner!==null?1:0),o=[];for(let l=0;l<this.lines.length;l++){const u=this.lines[l];if(u.start+u.length<n)continue;if(u.start>n+s)break;const f=Math.max(0,n-u.start),m=Math.min(s,n+s-u.start);let _=0,P=0,j=0;for(let Q=0;Q<u.children.length;Q++){const oe=u.children[Q];if(f>=_&&f<=_+oe.length&&(P=oe.getCoordinatePosX(f-_)+oe.x+u.x),_+oe.length===m+f)j=oe.x+oe.width+u.x;else if(m+f<_+oe.length){j=oe.getCoordinatePosX(m+f-_)+oe.x+u.x;break}j=j||u.width+u.x,_+=oe.length}o.push({x:P+this.x,y:u.y+this.y,width:j-P,height:u.height})}return o}setPositionY(e,t=!0,n=!1){if((n===!0||this.y!==e)&&(this.y=Math.floor(e),t)){let r=this,s=this.nextSibling;for(;s!==null;)s.y=Math.floor(r.y+r.height),r=s,s=r.nextSibling}}setStart(e,t=!1,n=!1){if((n===!0||this.start!==e)&&(this.start=e,t)){let r=this,s=r.nextSibling;for(;s!==null;)s.start=r.start+r.length,r=s,s=r.nextSibling}}toOp(e){const t=new Array(this.children.length);for(let n=0;n<this.children.length;n++){const r=this.children[n];t[n]=r.toOp(e)}return Object.assign(t[t.length-1].attributes,yn({},this.originalAttributes)),t}toHtml(e){const t=`line-height:${this.attributes.linespacing};text-align:${this.attributes.align};padding-left:${this.attributes.indent}px;`,n=Mt(this,e);return`<div style=${t}>${n}</div>`}toText(e){return Zn(this,e)}insertText(e,t,n){let r=!1;const s=Re(t.index,this.children,!0),o=this.children[s];if(!o)return r;if(o.start===t.index&&t.inner===null)if(n){const l=wt("");l.setContent(e),l.setAttributes(n),this.addBefore(l,o),o instanceof ln&&l.eat(o)&&this.remove(o),r=!0}else if(o.prevSibling)if(o.prevSibling instanceof ln){const l=o.prevSibling.insertText(e,{index:o.prevSibling.length,inner:null});l.length>0&&this.splice(s-1,1,l),r=l.length>0}else{const l=wt("");l.setContent(e),this.addBefore(l,o),o instanceof ln&&l.eat(o)&&this.remove(o),r=!0}else if(o instanceof ln){const l=o.insertText(e,{index:0,inner:null});l.length>0&&this.splice(s,1,l),r=l.length>0}else{const l=wt("");l.setContent(e),this.addBefore(l,o),r=!0}else{const l=o.insertText(e,{index:t.index-o.start,inner:t.inner},n);l.length>0&&this.splice(s,1,l),r=l.length>0}return this.calLength(),r}insertEnter(e,t){var n,r;const s=ge(e.index,this.children,!0);if(!s)return null;const o=this.constructor;if(s.start===e.index){const l=wt(Vn.typeName),u=yn(yn(yn({},(n=this.tail)==null?void 0:n.attributes),(r=s.prevSibling)==null?void 0:r.attributes),t);l.setAttributes(u),l.calMetrics(),s.start===0?this.addAtIndex(l,0):this.addBefore(l,s);const f=this.removeAllFrom(l.nextSibling),m=new o;return m.setAttributes(yn(yn({},this.originalAttributes),t)),m.addAll(f),m.calLength(),this.calLength(),m}else{const l=s.insertEnter({index:e.index-s.start,inner:e.inner});if(l){const u=wt(Vn.typeName),f=yn(yn({},s.originalAttributes),t);u.setAttributes(f),u.calMetrics();const m=this.removeAllFrom(s.nextSibling);this.addAfter(u,s);const _=new o;return _.setAttributes(yn(yn({},this.originalAttributes),t)),_.addLast(l),_.addAll(m),_.calLength(),this.calLength(),_}else return null}}insertFragment(e,t){const n=Re(t.index,this.children,!0),r=this.children[n];if(!(n<0)){if(r.start===t.index&&t.inner===null)this.addBefore(e,r),this.mergeFragment();else{const s=r.insertFragment(e,O(r.start,t));s.length&&this.splice(n,1,s)}this.calLength()}}tryInsertBlock(e,t){const n=Re(t.index,this.children,!0),r=this.children[n];return n<0||r.start===t.index&&t.inner===null?!1:r.insertBlock(e,O(r.start,t))}delete(e,t){St(this,e,t),this.mergeFragment(),this.calLength()}format(e,t){this.formatSelf(e);let n=null,r=null;if(t){const s=Re(t.start.index,this.children,!0),o=this.children[s];let l=Re(t.end.index,this.children,!0),u=this.children[l];if(!o||!u)return;if(o!==u&&u.prevSibling&&u.start===t.end.index&&t.end.inner===null&&(u=u.prevSibling,l--),n=o.prevSibling||this.head,r=u.nextSibling||this.tail,o===u){const f=o.format(e,{start:O(o.start,t.start),end:O(u.start,t.end)});f.length>0&&this.splice(s,1,f)}else{let f=l,m=u;for(;m;){let _=[];if(m===o){m.start===t.start.index&&t.start.inner===null?_=m.format(e):_=m.format(e,{start:{index:t.start.index-m.start,inner:t.start.inner},end:{index:m.start+m.length,inner:null}}),_.length>0&&this.splice(f,1,_);break}else m===u?m.start+m.length===t.end.index&&t.end.inner===null?_=m.format(e):_=m.format(e,{start:{index:0,inner:null},end:{index:t.end.index-m.start,inner:t.end.inner}}):_=m.format(e);_.length>0&&this.splice(f,1,_),m=m.prevSibling,f--}}}else{n=this.head,r=this.tail;for(let s=this.children.length-1;s>=0;s--){const l=this.children[s].format(e);l.length>0&&this.splice(s,1,l)}}if(n&&r){let s=n;for(;s==null?void 0:s.nextSibling;)s.eat(s.nextSibling)?this.remove(s.nextSibling):s=s.nextSibling}}clearFormat(e){this.setAttributes(Nt);const t=nt(this,e);if(t){let n=t.start;for(;n==null?void 0:n.nextSibling;)n.eat(n.nextSibling)?this.remove(n.nextSibling):n=n.nextSibling}}getFormat(e){const t=e?je(this,[e],"left"):je(this);return Ae(this.attributes,t),t}setIndent(e){const t=this.attributes.indent;let r=t+(e?1:-1);return r=Math.min(r,8),r=Math.max(r,0),t!==r?(this.setAttributes({indent:r}),this.calcIndentWidth(),!0):!1}eat(e){const t=this.tail;this.addAll(e.children),t instanceof ln&&t.nextSibling instanceof ln&&ba()(t.attributes,t.nextSibling.attributes)&&(t.content=t.content+t.nextSibling.content,this.remove(t.nextSibling)),this.calLength()}calLength(){this.length=0;for(let e=0;e<this.children.length;e++)this.length+=this.children[e].length}search(e){const t=[],n=[];for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r];if(o instanceof ln)n.push(o);else if(n.length>0){const l=n.map(f=>f.content).join(""),u=$e(e,l);if(u.length>0)for(let f=0;f<u.length;f++){u[f]+=n[0].start;const m=u[f],_=this.getSelectionRectangles({index:m,inner:null},{index:m+e.length,inner:null});t.push({pos:{index:m,inner:null},rects:_})}n.length=0}}return t}getChildrenStackByPos(e,t){const n=Pe(e,t,this.lines);let r;return n?(r=n.getChildrenStackByPos(e-n.x,t-n.y),r.unshift(this)):r=[this],r}getCursorType(){return Bn.Default}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextPos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}prevPos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}firstLinePos(e){return this.lines.length>0?this.getDocumentPos(e,this.lines[0].y+this.lines[0].height/2,!1):null}lastLinePos(e){return this.lines.length>0?this.getDocumentPos(e,this.lines[this.lines.length-1].y+this.lines[this.lines.length-1].height/2,!1):null}nextLinePos(e,t){const n=this.findSelectionTargetLineIndex(e,t);if(n!==null&&n<this.lines.length-1){const r=this.lines[n+1];return this.getDocumentPos(t,r.y+r.height/2,!1)}return null}prevLinePos(e,t){const n=this.findSelectionTargetLineIndex(e,t);if(n!==null&&n>0){const r=this.lines[n-1];return this.getDocumentPos(t,r.y+r.height/2,!1)}return null}lineStartPos(e,t){const n=e.index;for(let r=this.lines.length-1;r>=0;r--){const s=this.lines[r];if(s.start<=n&&s.start+s.length>=n&&s.y<=t&&s.y+s.height>=t&&s.head)return{index:s.start,inner:null}}return null}lineEndPos(e,t){const n=e.index;for(let r=this.lines.length-1;r>=0;r--){const s=this.lines[r];if(s.start<=n&&s.start+s.length>=n&&s.y<=t&&s.y+s.height>=t&&s.tail)return s!==this.lines[this.lines.length-1]?{index:s.start+s.length,inner:null}:this.lastPos()}return null}onPointerEnter(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}afterAdd(e){e.forEach(t=>{t.setOverrideDefaultAttributes(this.overrideDefaultAttributes),t.setOverrideAttributes(this.overrideAttributes),t.setBubbleHandler(this.bubbleUp.bind(this))})}afterRemove(e){e.forEach(t=>{t.setOverrideDefaultAttributes(null),t.setOverrideAttributes(null),t.setBubbleHandler(null)})}addLast(e){throw new Error("Method not implemented.")}addAfter(e,t){throw new Error("Method not implemented.")}addBefore(e,t){throw new Error("Method not implemented.")}addAtIndex(e,t){throw new Error("Method not implemented.")}addAll(e){throw new Error("Method not implemented.")}removeAll(){throw new Error("Method not implemented.")}remove(e){throw new Error("Method not implemented.")}removeAllFrom(e){throw new Error("Method not implemented.")}splice(e,t,n){throw new Error("Method not implemented.")}findIndex(e){throw new Error("Method not implemented.")}setOverrideDefaultAttributes(e){throw new Error("Method not implemented.")}setOverrideAttributes(e){throw new Error("Method not implemented.")}setAttributes(e){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(e){const t=[];t.push([this]);const n=ge(e.start.index,this.children,!0),r=ge(e.end.index,this.children,!0);if(n&&r)if(n===r)t.push([[n]]);else{const s=[];let o=n;for(;o;)s.push(o),o=o.nextSibling;t.push([s])}return t}calcIndentWidth(){this.indentWidth=this.attributes.indent>0?this.attributes.indent*20+6:0}childrenSizeChangeHandler(){const e=this.calSize();this.setSize(e.height,e.width)}calLineBreakPoint(){const e=[],t=[];for(let n=0,r=this.children.length;n<r;n++){const s=this.children[n];if(s instanceof ln)t.push(s);else{e.push(...this.constructLayoutPieces(t)),t.length=0;const o=new Ks(!0);o.frags=[{frag:s,start:0,end:1}],o.calTotalWidth(),e.push(o)}}return e}formatSelf(e){this.setAttributes(e)}constructLayoutPieces(e){if(e.length===0)return[];const t=[],n=e.map(u=>u.content).join(""),r=new(kf())(n);let s=e[0].start,o=r.nextBreak(),l=0;for(;o;){const u=n.slice(l,o.position);l=o.position,o=r.nextBreak();const f=Ff()(u);let m=u.length-f.length;const _=m;if(m>0){const Q=new Ks(!1);for(Q.isSpace=!0,Q.text="";m>0;)Q.text+=" ",m--;Q.frags=this.getFragsForLayoutPiece(e,Q,s),Q.calTotalWidth(),t.push(Q),s+=_}const P=f.trim();let j=f.length-P.length;if(P.length>0){const Q=new Ks(!1);Q.isSpace=!1,Q.text=P;const oe=this.getFragsForLayoutPiece(e,Q,s);Q.frags=oe,Q.calTotalWidth(),t.push(Q)}if(s+=P.length,j>0){const Q=j,oe=new Ks(!1);for(oe.isSpace=!0,oe.text="";j>0;)oe.text+=" ",j--;oe.frags=this.getFragsForLayoutPiece(e,oe,s),oe.calTotalWidth(),t.push(oe),s+=Q}}return t}getFragsForLayoutPiece(e,t,n){const r=[];for(let s=0,o=e.length;s<o;s++){const l=e[s];l.start+l.length-1<n||l.start>=n+t.text.length||r.push({start:Math.max(n,l.start)-n,end:Math.min(n+t.text.length,l.start+l.length)-n,frag:l})}return r}breakLines(e){for(let t=0,n=e.length;t<n;t++){let r=this.lines[this.lines.length-1];const s=Math.max(this.maxWidth-r.x-r.width,0),o=e[t];if(o.totalWidth<=s||o.isSpace)if(o.isHolder){const l=Hs(o.frags[0].frag),u=l.calSize();l.setSize(u.height,u.width),r.addLast(l)}else if(o.frags.length===1){const l=wt(un.typeName,o.frags[0].frag);l.setContent(o.text),l.setSize(l.calHeight(),o.totalWidth),l.isSpace=o.isSpace,r.addLast(l)}else for(let l=0,u=o.frags.length;l<u;l++){const f=o.frags[l],m=wt(un.typeName,f.frag);m.setContent(o.text.substring(f.start,f.end)),m.setSize(m.calHeight(),o.fragWidth[l]),m.isSpace=o.isSpace,r.addLast(m)}else{if(r.children.length>0){this.addLine(new jr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight)),t--;continue}else if(o.isHolder){const u=Hs(o.frags[0].frag),f=u.calSize();u.setSize(f.height,f.width),r.addLast(u),this.addLine(new jr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight));continue}let l=0;for(;l<o.frags.length;){let u=this.maxWidth-r.x-r.width;const f=o.frags[l];if(o.fragWidth[l]<=u){const m=wt(un.typeName,f.frag);m.setContent(o.text.substring(f.start,f.end)),m.setSize(m.calHeight(),o.fragWidth[l]),m.isSpace=o.isSpace,r.addLast(m),u-=o.fragWidth[l]}else{let m=0;for(;f.start+m<f.end;)for(let _=f.end-f.start-m;_>0;_--){const P=o.text.substr(f.start+m,_),j=ct().measureTextWidth(P,f.frag.attributes);if(j<=u){const Q=wt(un.typeName,f.frag);Q.setContent(P),Q.setSize(Q.calHeight(),j),Q.isSpace=o.isSpace,r.addLast(Q),u-=j,m+=_,f.start+m<f.end&&(r=new jr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight),this.addLine(r),u=this.maxWidth-r.x-r.width);break}else if(_===1)if(r.children.length===0){const Q=wt(un.typeName,f.frag);Q.setContent(P),Q.setSize(Q.calHeight(),j),Q.isSpace=o.isSpace,r.addLast(Q),m+=1}else{r=new jr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight),this.addLine(r),_=f.end-m+2,u=this.maxWidth-r.x-r.width;break}}}l++}}}}setSize(e,t){this.width=t,this.height=e}mergeFragment(){if(this.children.length<2)return!1;let e=!1;for(let t=this.children.length-2;t>=0;t--){const n=this.children[t],r=this.children[t+1];n.eat(r)&&(this.remove(r),e=!0)}return e}calSize(){let e=0,t=0;this.lines.forEach(r=>{e=Math.max(e,r.x+r.width)});const n=this.lines[this.lines.length-1];return t=n.y+n.height,{width:e,height:t}}findSelectionTargetLineIndex(e,t){const n=[],r=e.index;for(let s=this.lines.length-1;s>=0;s--){const o=this.lines[s];if(o.start<r&&o.start+o.length>r)return s;(o.start===r||o.start+o.length===r)&&n.push(s)}if(n.length===1)return n[0];if(n.length>1){const s=n.map(u=>{const f=this.lines[u];return Math.abs(f.start===r?f.x-t:f.x+f.width-t)});let o=1/0,l=0;return s.forEach((u,f)=>{u<o&&(l=f,o=u)}),n[l]}return null}};Un.typeName="frame",Un=Ku([Xu,Ot,Jn,Hr,Yu,vi,Ur],Un);var xn=Object.defineProperty,Zu=Object.getOwnPropertySymbols,Tn=Object.prototype.hasOwnProperty,Qf=Object.prototype.propertyIsEnumerable,Oa=(e,t,n)=>t in e?xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ar=(e,t)=>{for(var n in t||(t={}))Tn.call(t,n)&&Oa(e,n,t[n]);if(Zu)for(var n of Zu(t))Qf.call(t,n)&&Oa(e,n,t[n]);return e};class xi{constructor(){this.id=z(),this.prevSibling=null,this.nextSibling=null,this.start=0,this.length=0,this.x=0,this.y=0,this.width=0,this.height=0,this.needLayout=!0,this.needMerge=!1,this.isPointerHover=!1}destroy(){this.prevSibling=null,this.nextSibling=null,this.needLayout=!1}draw(t,n,r,s){window.blockBorder&&(t.save(),t.strokeStyle="green",t.strokeRect(this.x+n,this.y+r,this.width,this.height),t.restore())}setPositionY(t,n=!0,r=!1){if((r===!0||this.y!==t)&&(this.y=Math.floor(t),n&&!this.needLayout)){let s=this,o=this.nextSibling;for(;o!==null;)o.y=Math.floor(s.y+s.height),s=o,o=s.nextSibling;this.bubbleUp(It.UPDATE_CONTENT_HEIGHT,null)}}setStart(t,n=!1,r=!1,s=!1){if((r===!0||this.start!==t)&&(this.start=t,n)){let o=this,l=o.nextSibling;for(;l!==null&&!(s&&l.start===o.start+o.length);)l.start=o.start+o.length,o=l,l=o.nextSibling;this.bubbleUp(It.UPDATE_CONTENT_LENGTH,null)}}setHeight(t){this.height!==t&&(this.height=t),this.nextSibling===null&&this.bubbleUp(It.UPDATE_CONTENT_HEIGHT,null)}setWidth(t){this.width!==t&&(this.width=t)}getCursorType(){return Bn.Default}isHungry(){return!1}eat(t){return!1}applyChanges(t){}correctSelectionPos(t,n){return[{start:t,end:n}]}readOpsToLayoutFrame(t){var n;const r=[],s=[];for(let o=0;o<t.length;o++){const l=t[o];if(((n=l.attributes)==null?void 0:n.frag)==="end"&&typeof l.insert=="number"){s.push({insert:1,attributes:ar({},l.attributes)});const u=wt(Un.typeName);u.readFromOps(s),r.push(u);for(let f=0;f<l.insert-1;f++){const m=wt(Un.typeName);m.readFromOps([{insert:1,attributes:ar({},l.attributes)}]),r.push(m)}s.length=0}else s.push(l)}return r}formatSelf(t,n){}clearSelfFormat(t){}setBlockOpAttribute(t,n){return t.length===0?!1:(Object.assign(t[t.length-1].attributes,{block:n}),!0)}}xi.typeName="block";const ns={height:0};var mt=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,Js=Object.getOwnPropertySymbols,Vf=Object.prototype.hasOwnProperty,Da=Object.prototype.propertyIsEnumerable,Ju=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,La=(e,t)=>{for(var n in t||(t={}))Vf.call(t,n)&&Ju(e,n,t[n]);if(Js)for(var n of Js(t))Da.call(t,n)&&Ju(e,n,t[n]);return e},qf=(e,t,n,r)=>{for(var s=r>1?void 0:r?Cr(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&mt(t,n,s),s};let rs=class{constructor(){this.id=z(),this.children=[],this.head=null,this.tail=null,this.prevSibling=null,this.nextSibling=null,this.parent=null,this.x=0,this.y=0,this.width=0,this.height=0,this.attributes=La({},ns),this.defaultAttributes=ns,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.contentMinHeight=0}get start(){return this.prevSibling===null?0:this.prevSibling.start+1}get length(){return this.children.length}readFromOps(e){var t,n;const r=e[0].insert,s=(n=(t=e[0])==null?void 0:t.attributes)==null?void 0:n.height;typeof s=="number"&&(this.attributes.height=s);const o=r.ops.map(l=>{const u=new mi;return u.readFromOps([l]),u});this.addAll(o),o.forEach(l=>{l.parent=this})}toOp(e){const t=this.children.map(r=>r.toOp(e)),n={insert:new(y())(t)};return e&&(n.key=this.id),this.originalAttributes&&Object.keys(this.originalAttributes).length>0&&(n.attributes=La({},this.originalAttributes)),n}setHeight(e){e>=this.contentMinHeight&&(this.height=e)}setHeightAttribute(e){this.setAttributes({height:e})}setContentMinHeight(e){this.contentMinHeight=e}setPositionY(e,t=!0,n=!1){if((n===!0||this.y!==e)&&(this.y=Math.floor(e),t)){let r=this,s=this.nextSibling;for(;s!==null;)s.y=Math.floor(r.y+r.height),r=s,s=r.nextSibling}}destroy(){throw new Error("Method not implemented.")}draw(e,t,n,r){for(let s=0;s<this.children.length;s++)this.children[s].draw(e,this.x+t,this.y+n,r)}drawBorder(e,t,n){for(let r=0;r<this.children.length;r++)this.children[r].drawBorder(e,this.x+t,this.y+n)}getCursorType(){return Bn.ColResize}format(e,t){var n,r;if(this.setAttributes(e),t&&(t.start.inner||t.end.inner)){const s={start:(n=t.start.inner)!=null?n:{index:0,inner:null},end:(r=t.end.inner)!=null?r:{index:this.children.length,inner:null}};if(s){const o=ge(s.start.index,this.children,!0);let l=ge(s.end.index,this.children,!0);if(!o||!l||(l=l.start===s.end.index&&s.end.inner===null?l.prevSibling:l,!o||!l))return;if(o===l)o.format(e,{start:O(o.start,s.start),end:O(l.start,s.end)});else{let u=l;for(;u;){if(u===o){u.start===s.start.index&&s.start.inner===null?u.format(e):u.format(e,{start:{index:s.start.index-u.start,inner:s.start.inner},end:{index:u.start+1,inner:null}});break}else u===l?u.start+1===s.end.index&&s.end.inner===null?u.format(e):u.format(e,{start:{index:0,inner:null},end:{index:s.end.index-u.start,inner:s.end.inner}}):u.format(e);u=u.prevSibling}}}else for(let o=0;o<this.children.length;o++)this.children[o].format(e)}else for(let s=0;s<this.children.length;s++)this.children[s].format(e)}clearFormat(e){var t,n;if(this.setAttributes(La({},ns)),e&&(e.start.inner||e.end.inner)){const r={start:(t=e.start.inner)!=null?t:{index:0,inner:null},end:(n=e.end.inner)!=null?n:{index:this.children.length,inner:null}};if(r){const s=ge(r.start.index,this.children,!0);let o=ge(r.end.index,this.children,!0);if(!s||!o||(o=o.start===r.end.index&&r.end.inner===null?o.prevSibling:o,!s||!o))return;if(s===o)s.clearFormat({start:O(s.start,r.start),end:O(o.start,r.end)});else{let l=o;for(;l;){if(l===s){l.start===r.start.index&&r.start.inner===null?l.clearFormat():l.clearFormat({start:{index:r.start.index-l.start,inner:r.start.inner},end:{index:l.start+1,inner:null}});break}else l===o?l.start+1===r.end.index&&r.end.inner===null?l.clearFormat():l.clearFormat({start:{index:0,inner:null},end:{index:r.end.index-l.start,inner:r.end.inner}}):l.clearFormat();l=l.prevSibling}}}else for(let s=0;s<this.children.length;s++)this.children[s].clearFormat()}else for(let r=0;r<this.children.length;r++)this.children[r].clearFormat()}getFormat(e){var t,n;let r={};return e?((t=e.start)==null?void 0:t.inner)&&((n=e.end)==null?void 0:n.inner)?r=je(this,[{start:e.start.inner,end:e.end.inner}]):r={}:r=je(this),Ae(this.attributes,r),r}lastLinePos(e){let t=0,n=this.children[t];for(let o=0;o<this.children.length;o++){const l=this.children[o];if(o===0&&e<=l.x||ye(l.x,l.x+l.width,e,e)||o===this.children.length-1&&e>=l.x+l.width){t=o,n=l;break}}const r=e-n.x,s=n.lastLinePos(r);return s?{index:t,inner:s}:null}firstLinePos(e){let t=0,n=this.children[t];for(let o=0;o<this.children.length;o++){const l=this.children[o];if(o===0&&e<=l.x||ye(l.x,l.x+l.width,e,e)||o===this.children.length-1&&e>=l.x+l.width){t=o,n=l;break}}const r=e-n.x,s=n.firstLinePos(r);return s?{index:t,inner:s}:null}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}onPointerEnter(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(e,t,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(e,t){throw new Error("Need IPointerInteractiveDecorator to implement.")}afterAdd(e){e.forEach(t=>{t.setBubbleHandler(this.bubbleUp.bind(this))})}afterRemove(e){e.forEach(t=>{t.setBubbleHandler(null)})}addLast(e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAfter(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addBefore(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAtIndex(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAll(e){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAll(){throw new Error("this method should be implemented in ILinkedListDecorator")}remove(e){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAllFrom(e){throw new Error("this method should be implemented in ILinkedListDecorator")}splice(e,t,n){throw new Error("this method should be implemented in ILinkedListDecorator")}findIndex(e){throw new Error("this method should be implemented in ILinkedListDecorator")}setAttributes(e){throw new Error("Method not implemented.")}setOverrideDefaultAttributes(e){throw new Error("Method not implemented.")}setOverrideAttributes(e){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(e){const t=[];if(t.push([this]),e.start.inner&&e.end.inner){const n=ge(e.start.inner.index,this.children,!0),r=ge(e.end.inner.index,this.children,!0);if(n&&r)if(n===r)t.push(...n.getSelectedElement({start:O(n.start,e.start.inner),end:O(n.start,e.end.inner)}));else{const s=[];let o=n;for(;o;)s.push(o),o=o.nextSibling;t.push([s])}}return t}};rs=qf([di,Ot,Jn,Hr,vi],rs);const is={width:0,colWidth:[0]};class wi{constructor(){this.containerWidth=650,this.containerHeight=670,this.canvasWidth=616,this.canCopy=!0,this.canEdit=!0}}var Qs=new wi,Ra=Object.defineProperty,Qu=Object.defineProperties,Fa=Object.getOwnPropertyDescriptor,ka=Object.getOwnPropertyDescriptors,Ma=Object.getOwnPropertySymbols,ed=Object.prototype.hasOwnProperty,Na=Object.prototype.propertyIsEnumerable,Vs=(e,t,n)=>t in e?Ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vu=(e,t)=>{for(var n in t||(t={}))ed.call(t,n)&&Vs(e,n,t[n]);if(Ma)for(var n of Ma(t))Na.call(t,n)&&Vs(e,n,t[n]);return e},qu=(e,t)=>Qu(e,ka(t)),wn=(e,t,n,r)=>{for(var s=r>1?void 0:r?Fa(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Ra(t,n,s),s};let qn=class extends xi{constructor(){super(...arguments);this.needCorrectSelectionPos=!0,this.children=[],this.head=null,this.tail=null,this.attributes=Vu({},is),this.defaultAttributes=is,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.length=1,this.canMerge=!1,this.canBeMerge=!1}static create(e,t){const n=new qn;for(let s=0;s<e;s++){const o=new rs;for(let l=0;l<t;l++){const u=mi.create();o.addLast(u)}n.addLast(o)}const r=Math.floor(Qs.canvasWidth/t);return n.setAttributes({width:Qs.canvasWidth,colWidth:[...Array(t-1).fill(r),Qs.canvasWidth-r*(t-1)]}),n}readFromOps(e){var t;const n=e[0].insert;((t=e[0])==null?void 0:t.attributes)&&this.setAttributes(e[0].attributes);const r=n.ops.map(s=>{const o=new rs;return o.readFromOps([s]),o});this.addAll(r),r.forEach(s=>{s.parent=this})}layout(){if(!this.needLayout)return;const e=this.attributes.colWidth.map(n=>({width:n,span:0})),t=new Map;for(let n=0,r=this.children.length;n<r;n++){let s=0;const o=this.children[n];o.width=this.width;const l=Array(e.length).fill(0);let u=0,f=0;if(o.children.length>0)for(let P=0,j=e.length;P<j;P++)if(e[P].span===0){const Q=o.children[u];Q.GridRowPos=n,Q.GridColPos=P,Q.isLastCell=P+Q.attributes.colSpan===e.length,Q.isFirstCell=P===0,Q.isFirstLine=o.prevSibling===null,Q.isLastLine=n+Q.attributes.rowSpan===this.children.length,Q.x=f;let oe=0;const de=P;for(let pe=0;pe<Q.attributes.colSpan;pe++)oe+=e[de+pe].width,P++;if(P--,Q.setWidth(oe),Q.layout(),Q.attributes.rowSpan>1){for(let we=0;we<Q.attributes.colSpan;we++)l[de+we]+=Q.attributes.rowSpan;const pe=t.get(n+Q.attributes.rowSpan-1);pe?pe.push(Q):t.set(n+Q.attributes.rowSpan-1,[Q])}else s=Math.max(s,Q.contentHeight);f+=oe,u++}else f+=e[P].width;e.forEach((P,j)=>{P.span=Math.max(0,P.span-1+l[j])});const m=t.get(n);if(m&&m.length>0){let P=0;m.forEach(j=>{const Q=j.contentHeight-this.sumRowHeight(n-j.attributes.rowSpan+1,n-1)-s;Q>P&&(P=Q)}),P>0&&(s+=P)}o.setContentMinHeight(s);const _=Math.max(s,o.attributes.height);o.setHeight(_);for(let P=0;P<o.children.length;P++)o.children[P].attributes.rowSpan===1&&o.children[P].setHeight(_);m&&m.length>0&&m.forEach(P=>{P.setHeight(this.sumRowHeight(n-P.attributes.rowSpan+1,n))})}this.head&&this.head.setPositionY(0,!0,!0),this.needLayout=!1,this.tail!==null&&this.setHeight(this.tail.y+this.tail.height),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}getCursorType(){return Bn.RowResize}search(e){const t=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];for(let s=0;s<r.children.length;s++){const o=r.children[s],l=o.search(e);for(let u=0;u<l.length;u++){const f=l[u];t.push({pos:{index:this.start,inner:{index:n,inner:{index:s,inner:f.pos}}},rects:f.rects.map(m=>({x:m.x+o.x+r.x+this.x,y:m.y+o.y+r.y+this.y,width:m.width,height:m.height}))})}}}return t}correctSelectionPos(e,t){let n=e,r=t;const s=[];if(n!==null&&r!==null)if(n.inner===null&&r.inner===null)s.push({start:n,end:r});else if(n.inner===null&&r.inner!==null)s.push({start:{index:0,inner:null},end:{index:r.index+(r.inner?1:0),inner:null}});else if(n.inner!==null&&r.inner!==null){n=n.inner,r=r.inner;const o=n?n.index:0,l=r?r.index:0;if(n.inner===null||r.inner===null)if(X(n,r)===0){const u={index:0,inner:{index:o,inner:{index:0,inner:{index:0,inner:null}}}};s.push({start:u,end:u})}else s.push({start:{index:0,inner:{index:o,inner:null}},end:{index:0,inner:{index:l+(r.inner?1:0),inner:null}}});else{const u=n.inner,f=r.inner,m=u.index,_=f.index;if(o!==l){const P=this.children[o],j=this.children[l],Q=P.children[Math.min(m,P.children.length-1)].GridColPos,oe=j.children[Math.min(_,j.children.length-1)].GridColPos,de=Math.min(Q,oe),pe=Math.max(Q,oe);for(let we=o;we<=l;we++){const Oe=this.children[we];let Ve=null,qe=null;for(let st=0;st<Oe.children.length;st++){const _e=Oe.children[st],ze=_e.GridColPos+_e.attributes.colSpan-1;if(_e.GridColPos<=de&&de<=ze||_e.GridColPos<=pe&&pe<=ze||de<=_e.GridColPos&&ze<=pe)Ve===null&&(Ve=st),qe=st;else if(Ve!==null&&qe!==null)break}Ve!==null&&qe!==null&&s.push({start:{index:0,inner:{index:we,inner:{index:Ve,inner:null}}},end:{index:0,inner:{index:we,inner:{index:(f==null?void 0:f.inner)?qe+1:qe,inner:null}}}})}}else{const P=_+(f.inner?1:0);if(X(n,r)===0&&n.inner===null){const j={index:0,inner:{index:o,inner:{index:m,inner:{index:0,inner:null}}}};s.push({start:j,end:j})}else m!==_?m===0&&P===this.children[o].children.length?s.push({start:{index:0,inner:{index:o,inner:null}},end:{index:0,inner:{index:o+1,inner:null}}}):s.push({start:{index:0,inner:{index:o,inner:{index:m,inner:null}}},end:{index:0,inner:{index:o,inner:{index:P,inner:null}}}}):s.push({start:{index:0,inner:n},end:{index:0,inner:r}})}}}else console.warn("end should not be null while start is null"),s.push({start:{index:0,inner:null},end:{index:0,inner:null}});else if(r!==null)if(r=r.inner,r!==null){const o=r.index,l=r.inner?o+1:o;l>=this.children.length?s.push({start:null,end:{index:1,inner:null}}):s.push({start:null,end:{index:0,inner:{index:l,inner:null}}})}else s.push({start:null,end:{index:0,inner:null}});else if(n!==null)if(n=n.inner,n!==null){const o=n.index;o<=0?s.push({start:{index:0,inner:null},end:null}):s.push({start:{index:0,inner:{index:o,inner:null}},end:null})}else s.push({start:{index:0,inner:null},end:null});else console.warn("start and end should not be null at same time");return s}getDocumentPos(e,t,n){const r=e-this.x,s=t-this.y;let o=null,l=null,u=null,f=0,m=0;for(;f<this.children.length;f++){m=0;const _=this.children[f];for(;m<_.children.length;m++){const P=_.children[m];if(Be(r-_.x,s-_.y,P)){l=_,u=P;break}}if(u)break;if(Be(r,s,qu(Vu({},_),{height:_.height}))){l=_;break}}if(u&&l){const _=u.getDocumentPos(r-l.x-u.x,s-l.y-u.y);o={index:0,inner:{index:f,inner:{index:m,inner:_}}}}else if(l&&!n){let _=l.children.length-1;for(;_>=0;_--){const P=l.children[_];if(r>=P.x+P.width)break}o={index:0,inner:{index:f,inner:{index:_+1,inner:null}}}}else if(!n){let _=this.children.length-1;for(;_>=0;_--){const P=this.children[_];if(s>=P.y+P.height)break}o={index:0,inner:{index:_+1,inner:null}}}return o}getSelectionRectangles(e,t,n){if(e.index===0&&e.inner===null){if(t.index>=1)return[{x:this.x,y:this.y,width:this.width,height:this.height}];if(t.index===0&&t.inner!==null){let r=t.inner.index;if(t.inner.inner!==null&&(r+=1),r===this.children.length)return[{x:this.x,y:this.y,width:this.width,height:this.height}];{const s=[];for(let o=0;o<r;o++){const l=this.children[o];for(let u=0;u<l.children.length;u++){const f=l.children[u];s.push({x:this.x+l.x+f.x,y:this.y+l.y+f.y,width:f.width,height:f.height})}}return s}}}else if(e.index===0&&e.inner!==null){if(t.index>=1){const r=e.inner.index;if(r===0)return[{x:this.x,y:this.y,width:this.width,height:this.height}];{const s=[];for(let o=r;o<this.children.length;o++){const l=this.children[o];for(let u=0;u<l.children.length;u++){const f=l.children[u];s.push({x:this.x+l.x+f.x,y:this.y+l.y+f.y,width:f.width,height:f.height})}}return s}}else if(t.index===0&&t.inner!==null){const r=e.inner.index,s=t.inner.index,o=[];if(e.inner.inner===null&&t.inner.inner===null)for(let l=r;l<s;l++){const u=this.children[l];for(let f=0;f<u.children.length;f++){const m=u.children[f];o.push({x:this.x+u.x+m.x,y:this.y+u.y+m.y,width:m.width,height:m.height})}}else if(e.inner.inner!==null&&t.inner.inner!==null&&e.inner.inner.inner===null&&t.inner.inner.inner===null){const l=e.inner.inner.index,u=t.inner.inner.index;for(let f=r;f<=s;f++){const m=this.children[f];for(let _=l;_<u;_++){const P=m.children[_];o.push({x:this.x+m.x+P.x,y:this.y+m.y+P.y,width:P.width,height:P.height})}}}else if(e.inner.inner!==null&&t.inner.inner!==null&&e.inner.inner.inner!==null&&t.inner.inner.inner!==null){const l=e.inner.inner.index,u=e.inner.inner.inner,f=t.inner.inner.inner,m=this.children[r],_=m.children[l],P=_.getSelectionRectangles(u,f,n).map(j=>({x:j.x+_.x+m.x+this.x,y:j.y+_.y+m.y+this.y,width:j.width,height:j.height}));o.push(...P)}return o}}return[]}getChildrenStackByPos(e,t){let n=null,r=null;for(let o=0;o<this.children.length;o++){const l=this.children[o];for(let u=0;u<l.children.length;u++){const f=l.children[u];if(Be(e-l.x,t-l.y,f)){n=l,r=f;break}}if(r)break;Be(e,t,l)&&(n=l)}let s=[];return r&&n&&(s=r.getChildrenStackByPos(e-n.x-r.x,t-n.y-r.y)),n&&s.unshift(n),s.unshift(this),s}toOp(e){const t=this.children.map(r=>r.toOp(e)),n={insert:new(y())(t),attributes:{block:"table"}};return e&&(n.key=this.id),this.originalAttributes&&Object.keys(this.originalAttributes).length>0&&Object.assign(n.attributes,this.originalAttributes),[n]}toHtml(e){return console.log("toHtml not implement"),""}toText(e){return""}insertText(e,t,n){const r=this.getPosElement(t);return r.cell&&r.posInCell?(r.cell.insertText(e,r.posInCell,n),r.cell.setNeedToLayout(),this.needLayout=!0,!0):!1}insertEnter(e,t){const n=this.getPosElement(e);return n.cell&&n.cell.insertEnter(n.posInCell,t),this.needLayout=!0,null}insertBlock(e,t){const n=this.getPosElement(t);return n.cell&&n.cell.insertBlock(e,n.posInCell),this.needLayout=!0,[]}insertFragment(e,t){const n=this.getPosElement(t);n.cell&&n.cell.insertFragment(e,n.posInCell),this.needLayout=!0}getFormat(e){var t,n;let r={};return e?((t=e.start)==null?void 0:t.inner)&&((n=e.end)==null?void 0:n.inner)?r=je(this,[{start:e.start.inner,end:e.end.inner}]):r={}:r=je(this),Ae(this.attributes,r),r}format(e,t){let n;if(t)if(t.start.inner&&t.end.inner)n={start:t.start.inner,end:t.end.inner};else return;ut(this,e,n),this.needLayout=!0}clearFormat(e){let t;if(e)if(e.start.inner&&e.end.inner)t={start:e.start.inner,end:e.end.inner};else return;nt(this,t),this.needLayout=!0}delete(e,t){var n,r;const{start:s,end:o}=e,l=this.getPosElement(s),u=this.getPosElement(o);if(l.row===u.row&&l.cell!==null&&u.cell===null)(n=l.row)==null||n.children.forEach(f=>f.clearContent());else if(l.cell===u.cell&&l.cell!==null){const f={start:s.inner,end:o.inner},m={start:f.start.inner,end:f.end.inner},_={start:m.start.inner,end:m.end.inner};u.cell.delete([_],t)}else{let f=l.cell;for(;f&&(f.clearContent(),f!==((r=u.cell)==null?void 0:r.prevSibling));)f=f.nextSibling}this.needLayout=!0}getAllLayoutFrames(){return console.log("getAllLayoutFrames not implement"),[]}merge(e){console.log("merge not implement")}setColWidth(e,t){var n;if(Array.isArray(e))this.setAttributes({colWidth:e});else if(typeof e=="number"&&typeof t=="number"){const r=((n=this.originalAttributes)==null?void 0:n.colWidth)||[];r[t]=e,this.setAttributes({colWidth:[...r]})}}draw(e,t,n,r){for(let l=0;l<this.children.length;l++){const u=this.children[l];u.y<r&&(u.draw(e,this.x+t,this.y+n,r-u.y),u.drawBorder(e,this.x+t,this.y+n))}const s=We(this.x+t,1),o=We(this.y+n,1);e.strokeRect(s,o,Math.floor(this.width-(s-this.x-t)),Math.round(this.height)),super.draw(e,t,n,r)}canMergeCells(e){const t=[];for(let o=0;o<e.length;o++){const l=e[o];t.push(...this.getSelectedCell(l))}if(t.length<=1)return null;let n=t[0];const r=[];t.forEach(o=>{var l;for(let u=o.GridRowPos;u<o.GridRowPos+o.attributes.rowSpan;u++)for(let f=o.GridColPos;f<o.GridColPos+o.attributes.colSpan;f++)r[u]=(l=r[u])!=null?l:[],r[u][f]=1,(n.GridRowPos>o.GridRowPos||n.GridRowPos===o.GridRowPos&&n.GridColPos>o.GridColPos)&&(n=o)});let s=null;for(let o=0;o<r.length;o++){if(s===null){Array.isArray(r[o])&&(s=r[o]);continue}const l=r[o];let u=l.length===s.length;if(!u)return null;for(let f=0;f<l.length&&(u=u&&l[f]===s[f],!!u);f++);if(!u)return null}return{cornerCell:n,cells:t}}mergeCells(e){var t;const n=this.canMergeCells(e);let r=0,s=0;if(n){const{cornerCell:o,cells:l}=n;for(let u=0;u<l.length;u++){const f=l[u];f!==o&&(r=Math.max(r,f.GridRowPos+f.attributes.rowSpan-o.GridRowPos),s=Math.max(s,f.GridColPos+f.attributes.colSpan-o.GridColPos),(t=f.parent)==null||t.remove(f))}return o.setAttributes({rowSpan:r,colSpan:s}),this.needLayout=!0,o.setNeedToLayout(),!0}else return!1}canUnmergeCells(e){let t;for(let n=0;n<e.length;n++){const r=e[n],s=this.getPosElement(r.start),o=this.getPosElement(r.end);if(t===void 0&&(t=s.cell),s.cell===null||t!==s.cell||o.cell===null||t!==o.cell)return null}return t.attributes.colSpan>1||t.attributes.rowSpan>1?t:null}unmergeCells(e){const t=this.canUnmergeCells(e);if(t){const n=t.GridRowPos,r=n+t.attributes.rowSpan,s=t.GridColPos,o=s+t.attributes.colSpan;for(let l=n;l<r;l++){const u=this.children[l];for(let f=s;f<o;f++){if(l===n&&f===s){t.setAttributes({colSpan:1,rowSpan:1});continue}const m=mi.create();u.splice(u.head?Math.max(0,f-u.head.GridColPos):0,0,[m])}}return this.needLayout=!0,!0}else return!1}getSelectedCell(e){const t=this.getPosElement(e.start),n=this.getPosElement(e.end);if(t.row===null&&n.row===null&&e.start.index===0&&e.end.index===1)return this.children.reduce((r,s)=>(r.push(...s.children),r),[]);if(t.cell===null&&n.cell===null){const r=[];let s=t.row;for(;s&&(r.push(...s.children),s.nextSibling!==n.row);)s=s.nextSibling;return r}else if(t.posInCell===null&&n.posInCell===null){const r=[];let s=t.cell;for(;s&&(r.push(s),s.nextSibling!==n.cell);)s=s.nextSibling;return r}return[]}createSelf(){return new qn}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){return{index:0,inner:{index:0,inner:{index:0,inner:this.children[0].children[0].firstPos()}}}}lastPos(){let e=null,t=0,n=0;for(let r=this.children.length-1;r>=0;r--){const s=this.children[r];if(s.tail){e=s.tail.lastPos(),t=r,n=s.children.length-1;break}}if(e)return{index:0,inner:{index:t,inner:{index:n,inner:e}}};throw new Error("table should not be empty.")}nextPos(e){let t=null,n=0,r=0;const s=e.inner;if(s&&(n=Re(s.index,this.children),n>=0)){const o=s.inner;if(o){const l=this.children[n];if(r=Re(o.index,l.children),r>=0){const u=l.children[r],f=o.inner;f&&(t=u.nextPos(f)),!t&&u.nextSibling&&(t=u.nextSibling.firstPos(),r++)}if(!t&&l.nextSibling){let u=l.nextSibling;for(;u;)if(n++,u.children.length>0){t=u.children[0].firstPos(),r=0;break}else u=u.nextSibling}}}return t?{index:0,inner:{index:n,inner:{index:r,inner:t}}}:null}prevPos(e){let t=null,n=0,r=0;const s=e.inner;if(s&&(n=Re(s.index,this.children),n>=0)){const o=s.inner;if(o){const l=this.children[n];if(r=Re(o.index,l.children),r>=0){const u=l.children[r],f=o.inner;f&&(t=u.prevPos(f)),!t&&u.prevSibling&&(t=u.prevSibling.lastPos(),r--)}if(!t&&l.prevSibling){let u=l.prevSibling;for(;u;)if(n--,u.children.length>0){t=u.children[u.children.length-1].lastPos(),r=l.prevSibling.children.length-1;break}else u=u.prevSibling}}}return t?{index:0,inner:{index:n,inner:{index:r,inner:t}}}:null}firstLinePos(e){const t=this.children[0],n=e-t.x,r=t.firstLinePos(n);return r?{index:0,inner:{index:0,inner:r}}:null}lastLinePos(e){let t=0,n=null;for(let r=0;r<this.children.length;r++){const s=this.children[r];s.children.length>0&&(n=s,t=r)}if(n){const r=e-n.x,s=n.lastLinePos(r);return s?{index:0,inner:{index:t,inner:s}}:null}return null}nextLinePos(e,t){let n=null;const r=e.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s],u=t-l.x;if(l){const f=r.inner;if(f){o=f.index;const m=l.children[o];if(m&&f.inner){const _=u-m.x,P=m.nextLinePos(f.inner,_);P&&(n={index:o,inner:P})}if(!n&&l.nextSibling){let _=l.nextSibling;for(;_;)if(s++,_.children.length>0){n=_.firstLinePos(u);break}else _=_.nextSibling}}}}return n?{index:0,inner:{index:s,inner:n}}:null}prevLinePos(e,t){console.log("x",t);let n=null;const r=e.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s];if(l){const u=r.inner;if(u){o=u.index;const f=l.children[o];if(f&&u.inner){const m=t-l.x-f.x,_=f.prevLinePos(u.inner,m);_&&(n={index:o,inner:_})}if(!n&&l.prevSibling){let m=l.prevSibling;for(;m;)if(s--,m.children.length>0){n=m.lastLinePos(t-m.x);break}else m=m.prevSibling}}}}return n?{index:0,inner:{index:s,inner:n}}:null}lineStartPos(e,t){let n=null;const r=e.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s],u=t-l.y;if(l){const f=r.inner;if(f){o=f.index;const m=l.children[o];if(m&&f.inner){const _=u-m.y;n=m.lineStartPos(f.inner,_)}}}}return n?{index:0,inner:{index:s,inner:{index:o,inner:n}}}:null}lineEndPos(e,t){let n=null;const r=e.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s],u=t-l.y;if(l){const f=r.inner;if(f){o=f.index;const m=l.children[o];if(m&&f.inner){const _=u-m.y;n=m.lineEndPos(f.inner,_)}}}}return n?{index:0,inner:{index:s,inner:{index:o,inner:n}}}:null}onPointerEnter(e,t,n,r){}onPointerLeave(){}onPointerMove(e,t,n,r){}onPointerDown(e,t){}onPointerUp(e,t){}onPointerTap(e,t){}afterAdd(e){e.forEach(t=>{t.setBubbleHandler(this.bubbleUp.bind(this))})}afterRemove(e){e.forEach(t=>{t.setBubbleHandler(null)})}addLast(e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAfter(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addBefore(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAtIndex(e,t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAll(e){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAll(){throw new Error("this method should be implemented in ILinkedListDecorator")}remove(e){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAllFrom(e){throw new Error("this method should be implemented in ILinkedListDecorator")}splice(e,t,n){throw new Error("this method should be implemented in ILinkedListDecorator")}findIndex(e){throw new Error("this method should be implemented in ILinkedListDecorator")}setOverrideDefaultAttributes(e){throw new Error("Method not implemented.")}setOverrideAttributes(e){throw new Error("Method not implemented.")}setAttributes(e){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(e){const t=[];if(t.push([this]),e.start.inner&&e.end.inner){const n=ge(e.start.inner.index,this.children,!0),r=ge(e.end.inner.index,this.children,!0);if(n&&r)if(n===r)t.push(...n.getSelectedElement({start:O(n.start,e.start.inner),end:O(n.start,e.end.inner)}));else{const s=[];let o=n;for(;o;)s.push(o),o=o.nextSibling;t.push([s])}}return t}sumRowHeight(e,t){let n=0;for(let r=e;r<=t;r++)n+=this.children[r].height;return n}getPosElement(e,t="right"){const n={row:null,cell:null,posInCell:null},r=e.inner;if(!r)return n;const s=r.index;if(s>=this.children.length)return n;n.row=this.children[s];const o=r.inner;if(!o)return n;const l=o.index;if(l>=n.row.children.length)return n;n.cell=n.row.children[l];const u=o.inner;return u&&(n.posInCell=u),n}getWholeRowAttributes(e,t){for(let n=0;n<e.children.length;n++){const r=e==null?void 0:e.children[n];Ae(r.getFormat([{start:{index:0,inner:null},end:{index:r.length,inner:null}}]),t),Ae(r.attributes,t)}}};qn.typeName="table",qn=wn([Ot,Jn,Hr,vi],qn);class Si{constructor(t,n){this.editor=t,this.doc=n}}var Ba;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Ba||(Ba={}));const qs=20;class td extends Si{constructor(t,n,r,s){super(t,n);this.cellTop=document.createElement("div"),this.cellBottom=document.createElement("div"),this.cellLeft=document.createElement("div"),this.cellRight=document.createElement("div"),this.rowResizeLine=document.createElement("div"),this.colResizeLine=document.createElement("div"),this.currentTable=null,this.currentRow=null,this.currentCell=null,this.currentBorder=0,this.currentTableAbsPos=null,this.currentCellAbsPos=null,this.startMousePosX=0,this.startMousePosY=0,this.startLinePosX=0,this.startLinePosY=0,this.startColWidth=[],this.startRowHeight=[],this.startTableWidth=0,this.onEnterCell=(o,l)=>{const u=l[0],f={x:0,y:0},m={x:0,y:0};for(let _=0;_<l.length;_++){const P=l[_];_>=2&&(f.x+=P.x,f.y+=P.y),m.x+=P.x,m.y+=P.y}u.GridRowPos>0&&(this.cellTop.style.left=`${this.editor.cvsOffsetX+m.x}px`,this.cellTop.style.top=`${m.y}px`,this.cellTop.style.width=`${u.width}px`,this.cellTop.style.display="block"),this.cellBottom.style.left=`${this.editor.cvsOffsetX+m.x}px`,this.cellBottom.style.top=`${m.y+u.height-u.paddingBottom}px`,this.cellBottom.style.width=`${u.width}px`,this.cellBottom.style.display="block",u.GridColPos>0&&(this.cellLeft.style.left=`${this.editor.cvsOffsetX+m.x}px`,this.cellLeft.style.top=`${m.y+u.paddingTop}px`,this.cellLeft.style.height=`${u.height-u.paddingTop-u.paddingBottom}px`,this.cellLeft.style.display="block"),this.cellRight.style.left=`${this.editor.cvsOffsetX+m.x+u.width-u.paddingLeft}px`,this.cellRight.style.top=`${m.y+u.paddingTop}px`,this.cellRight.style.height=`${u.height-u.paddingTop-u.paddingBottom}px`,this.cellRight.style.display="block",this.currentCell=u,this.currentCellAbsPos=m,u.parent&&(this.currentRow=u.parent,u.parent.parent&&(this.currentTable=u.parent.parent,this.currentTableAbsPos=f))},this.onLeaveCell=()=>{this.cellTop.style.display="none",this.cellBottom.style.display="none",this.cellLeft.style.display="none",this.cellRight.style.display="none",this.currentCell=null,this.currentRow=null,this.currentTable=null,this.currentTableAbsPos=null,this.currentCellAbsPos=null},this.onMouseMove=o=>{var l;if(!(!this.currentCell||!this.currentTable))if(this.currentBorder===0||this.currentBorder===1){const u=o.pageY-this.startMousePosY,f=this.currentBorder===0?(l=this.currentRow)==null?void 0:l.prevSibling:this.currentRow,m=this.currentCell.GridRowPos+this.currentCell.attributes.rowSpan-1+(this.currentBorder===0?-1:0);if(f){const _=this.startRowHeight[m]+u;_>f.contentMinHeight?(this.tableService.updateModifyRowHeight(f,_),this.rowResizeLine.style.top=`${this.startLinePosY+u}px`):this.tableService.updateModifyRowHeight(f,0),this.currentTable.needLayout=!0,this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT)}}else{const u=o.pageX-this.startMousePosX;if(this.currentBorder===3&&this.currentCell.GridColPos+this.currentCell.attributes.colSpan-1==this.currentTable.attributes.colWidth.length-1){const f=this.startColWidth[this.startColWidth.length-1]+u,m=this.startTableWidth+u;if(f<=qs||m>this.doc.width)return;this.tableService.updateLastColumnWidth(this.currentTable,f,m),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.colResizeLine.style.left=`${this.startLinePosX+(o.pageX-this.startMousePosX)}px`,this.colResizeLine.style.height=`${this.currentTable.height}px`}else{const f=this.currentBorder===2?this.currentCell.GridColPos-1:this.currentCell.GridColPos+this.currentCell.attributes.colSpan-1,m=f+1,_=this.startColWidth[f]+u,P=this.startColWidth[m]-u;_>=qs&&P>=qs&&(this.tableService.updateModifyColumnWidth(this.currentTable,f,_,m,P),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.colResizeLine.style.left=`${this.startLinePosX+(o.pageX-this.startMousePosX)}px`,this.colResizeLine.style.height=`${this.currentTable.height}px`)}}},this.onMouseUp=o=>{document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp,!0),this.rowResizeLine.style.display="none",this.colResizeLine.style.display="none",this.startColWidth.length=0,this.startRowHeight.length=0,this.startTableWidth=0,this.doc.em.addListener(Qn.POINTER_ENTER_TABLE_CELL,this.onEnterCell),this.doc.em.addListener(Qn.POINTER_LEAVE_TABLE_CELL,this.onLeaveCell),this.currentTable&&this.tableService.endModify(this.currentTable),(this.currentBorder===0||this.currentBorder===1)&&(this.rowResizeLine.style.top=`${this.startLinePosY+(o.pageY-this.startMousePosY)}px`)},this.contentService=r,this.tableService=s,this.initToolbarDom(),this.initEventListener()}insertTable(t){const n=3,r=3,s=qn.create(n,r);this.contentService.insertBlock(s,t),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT)}initToolbarDom(){const t=this.editor.container.querySelector("#heightPlaceholderContainer");if(t){this.cellTop.id="cellTop",this.cellBottom.id="cellBottom",this.cellLeft.id="cellLeft",this.cellRight.id="cellRight",this.cellTop.tabIndex=-1,this.cellBottom.tabIndex=-1,this.cellLeft.tabIndex=-1,this.cellRight.tabIndex=-1;const n="display:none;position:absolute;outline:none;user-select:none;",r="height:6px;cursor:row-resize;",s="width:6px;cursor:col-resize;";this.cellTop.setAttribute("style",n+r),this.cellBottom.setAttribute("style",n+r),this.cellLeft.setAttribute("style",n+s),this.cellRight.setAttribute("style",n+s),t.appendChild(this.cellTop),t.appendChild(this.cellBottom),t.appendChild(this.cellLeft),t.appendChild(this.cellRight),this.rowResizeLine.id="tableRowResizeLine",this.rowResizeLine.tabIndex=-1,this.colResizeLine.id="tableColResizeLine",this.colResizeLine.tabIndex=-1,this.rowResizeLine.setAttribute("style",`${n}height: 3px;background-color:gray`),this.colResizeLine.setAttribute("style",`${n}width: 3px;background-color:gray;`),t.appendChild(this.rowResizeLine),t.appendChild(this.colResizeLine)}}initEventListener(){this.doc.em.addListener(Qn.POINTER_ENTER_TABLE_CELL,this.onEnterCell),this.doc.em.addListener(Qn.POINTER_LEAVE_TABLE_CELL,this.onLeaveCell),this.cellTop.addEventListener("mousedown",t=>{this.currentBorder=0,this.startDrag(t),this.rowResizeLine.style.display="block"}),this.cellBottom.addEventListener("mousedown",t=>{this.currentBorder=1,this.startDrag(t),this.rowResizeLine.style.display="block"}),this.cellLeft.addEventListener("mousedown",t=>{this.currentBorder=2,this.startDrag(t),this.colResizeLine.style.display="block"}),this.cellRight.addEventListener("mousedown",t=>{this.currentBorder=3,this.startDrag(t),this.colResizeLine.style.display="block"})}startDrag(t){!this.currentCell||!this.currentTable||(this.startMousePosY=t.pageY,this.startMousePosX=t.pageX,document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp,!0),this.setResizeLinePos(),this.startColWidth=[...this.currentTable.attributes.colWidth],this.startRowHeight=this.currentTable.children.map(n=>n.height),this.startTableWidth=this.currentTable.width,this.doc.em.removeListener(Qn.POINTER_ENTER_TABLE_CELL,this.onEnterCell),this.doc.em.removeListener(Qn.POINTER_LEAVE_TABLE_CELL,this.onLeaveCell),this.currentTable&&this.tableService.startModify(this.currentTable))}setResizeLinePos(){var t,n,r,s,o,l;((n=(t=this.currentCell)==null?void 0:t.parent)==null?void 0:n.parent)&&(this.currentTableAbsPos&&(this.rowResizeLine.style.left=`${this.editor.cvsOffsetX+this.currentTableAbsPos.x}px`,this.colResizeLine.style.top=`${this.currentTableAbsPos.y}px`),this.rowResizeLine.style.width=`${(s=(r=this.currentTable)==null?void 0:r.width)!=null?s:0}px`,this.colResizeLine.style.height=`${(l=(o=this.currentTable)==null?void 0:o.height)!=null?l:0}px`,this.currentCellAbsPos&&(this.startLinePosY=this.currentCellAbsPos.y+(this.currentBorder===1?this.currentCell.height:0)-2,this.rowResizeLine.style.top=`${this.startLinePosY}px`,this.startLinePosX=this.editor.cvsOffsetX+this.currentCellAbsPos.x+(this.currentBorder===3?this.currentCell.width:0)-2,this.colResizeLine.style.left=`${this.startLinePosX}px`))}}class nd extends Er{constructor(t,n){super(t);this.modifyStatus=new Map,this.stack=n}startModify(t){this.modifyStatus.set(t,new(y())(t.toOp(!0)))}updateModifyRowHeight(t,n){t.setHeightAttribute(n)}updateModifyColumnWidth(t,n,r,s,o){t.setColWidth(r,n),t.setColWidth(o,s),t.needLayout=!0,t.children.forEach(l=>{for(let u=0;u<l.children.length;u++){const f=l.children[u];(f.GridColPos<=n&&n<=f.GridColPos+f.attributes.colSpan-1||f.GridColPos<=s&&s<=f.GridColPos+f.attributes.colSpan-1)&&f.setNeedToLayout()}})}updateLastColumnWidth(t,n,r){t.setColWidth(n,t.attributes.colWidth.length-1),t.setWidth(r),t.needLayout=!0,t.children.forEach(s=>{s.tail&&s.tail.setNeedToLayout()})}endModify(t){const n=this.modifyStatus.get(t);if(n){const r=new(y())(t.toOp(!0)),s=n.diff(r),o=new(y());t.start>0&&o.retain(t.start),s.ops.length>0&&this.stack.pushDiff(o.concat(s)),this.modifyStatus.delete(t)}}}class rd extends Er{constructor(t){super(t);this.searchKeywords="",this.searchResults=[],this.searchResultCurrentIndex=void 0,this.onDocumentLayout=({hasLayout:n,ctx:r,scrollTop:s,viewHeight:o})=>{this.searchKeywords.length>0&&(n&&this.search(this.searchKeywords,!0),this.searchResults.length>0&&this.draw(r,s,o))},this.onDocumentIdleLayout=({hasLayout:n})=>{this.searchKeywords.length>0&&n&&this.search(this.searchKeywords,!0)},this.onDocumentFastDraw=({ctx:n,scrollTop:r,viewHeight:s})=>{this.searchKeywords.length>0&&this.searchResults.length>0&&this.draw(n,r,s)},this.doc.em.addListener(g.DOCUMENT_AFTER_LAYOUT,this.onDocumentLayout),this.doc.em.addListener(g.DOCUMENT_AFTER_IDLE_LAYOUT,this.onDocumentIdleLayout),this.doc.em.addListener(g.DOCUMENT_AFTER_DRAW,this.onDocumentFastDraw)}getSearchResult(){return this.searchResults}search(t,n=!1){var r;if(this.searchKeywords=t,this.searchResults=this.doc.search(t),this.searchResults.length>0)if(n){const s=(r=this.searchResultCurrentIndex)!=null?r:0;this.searchResultCurrentIndex=Math.min(s,this.searchResults.length-1)}else this.searchResultCurrentIndex=0;else this.searchResultCurrentIndex=void 0;return this.emit(g.SEARCH_RESULT_CHANGE,this.searchResults,this.searchResultCurrentIndex),this.searchResults}setSearchResultCurrentIndex(t){this.searchResultCurrentIndex=Math.max(0,t),this.searchResultCurrentIndex=Math.min(this.searchResults.length-1,this.searchResultCurrentIndex)}clearSearch(){this.searchResults.length=0,this.searchKeywords="",this.searchResultCurrentIndex=void 0,this.emit(g.SEARCH_RESULT_CHANGE,this.searchResults,this.searchResultCurrentIndex)}nextSearchResult(){let t=null;if(this.searchResults.length>0){this.searchResultCurrentIndex=this.searchResultCurrentIndex||0;let n=this.searchResultCurrentIndex+1;n>=this.searchResults.length&&(n=0),this.setSearchResultCurrentIndex(n);const r=this.searchResults[n];t={index:n,res:r}}else t=null;return this.emit(g.SEARCH_NEED_DRAW),t}prevSearchResult(){let t=null;if(this.searchResults.length>0){this.searchResultCurrentIndex=this.searchResultCurrentIndex||0;let n=this.searchResultCurrentIndex-1;n<0&&(n=this.searchResults.length-1),this.setSearchResultCurrentIndex(n);const r=this.searchResults[n];t={index:n,res:r}}else t=null;return this.emit(g.SEARCH_NEED_DRAW),t}replace(t,n=!1){if(typeof this.searchResultCurrentIndex=="number"&&this.searchResults.length>0){const r=n?this.searchResults:[this.searchResults[this.searchResultCurrentIndex]],s=this.doc.replace(r,this.searchKeywords.length,t);return this.search(this.searchKeywords,!0),s}else return new(y())}draw(t,n,r){const s=this.findStartSearchResult(this.searchResults,n);t.drawSearchResult(this.searchResults,n,n+r,s,this.searchResultCurrentIndex)}findStartSearchResult(t,n){let r=0,s=t.length-1,o=Math.floor((r+s)/2);for(;s>r+1;){const l=t[o].rects[0].y;l<=n?r=o:l>n&&(s=o),o=Math.floor((r+s)/2)}for(;o>=0&&!(t[o].rects[0].y+t[o].rects[0].height<n);o--);return o=Math.max(o,0),o}}var id=Object.defineProperty,sd=Object.getOwnPropertyDescriptor,_i=(e,t,n,r)=>{for(var s=r>1?void 0:r?sd(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&id(t,n,s),s};function od(e){return class extends e{removeAll(){return this.length=0,super.removeAll()}remove(t){if(t.nextSibling!==null){const n=t.prevSibling===null?0:t.prevSibling.start+t.prevSibling.length;t.nextSibling.setStart(n,!0,!0)}super.remove(t),this.length-=t.length}removeAllFrom(t){const n=super.removeAllFrom(t),r=n.reduce((s,o)=>s+o.length,0);return this.length-=r,n}splice(t,n,r){return super.splice(t,n,r)}}}let lr=class extends xi{constructor(){super(...arguments);this.children=[],this.head=null,this.tail=null,this.defaultAttributes={},this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.attributes={},this.canMerge=!0,this.canBeMerge=!0,this.needMerge=!0}layout(){throw new Error("Method not implemented.")}getDocumentPos(e,t,n){const r=e-this.x,s=t-this.y;for(let o=0;o<this.children.length;o++){const l=this.children[o];if(l.y<=s&&s<=l.y+l.height||o===0&&s<l.y||o===this.children.length-1&&s>l.y+l.height){const u=l.getDocumentPos(r-l.x,s-l.y,n);return u&&(u.index+=l.start),u}}return null}getSelectionRectangles(e,t,n){const r=[];let s=e.index;const o=t.index-s,l=s<0?o+s:o;s=Math.max(0,s);for(let u=0;u<this.children.length;u++){const f=this.children[u];if(f.start+f.length<=s)continue;if(f.start>s+l)break;const m=s-f.start,_=m<0?l+m:l,P=f.getSelectionRectangles({index:Math.max(m,0),inner:null},{index:Math.max(m,0)+_,inner:null});for(let j=P.length-1;j>=0;j--){const Q=P[j];if(Q.y+=this.y,typeof n=="number"&&(n<Q.y||n>Q.y+Q.height)){P.splice(j,1);continue}Q.x+=this.x}r.push(...P)}return r}toOp(e){return[]}readFromOps(e){throw new Error("Method not implemented.")}toHtml(e){throw new Error("Method not implemented.")}toText(e){return Zn(this,e)}insertText(e,t,n){const r=U(t);let s=!1;const o=ge(r.index,this.children,!0);return o&&(s=o.insertText(e,{index:r.index-o.start,inner:r.inner},n)),this.head!==null&&this.head.setStart(0,!0,!0),this.calLength(),this.needLayout=!0,s}insertEnter(e,t){const n=ge(e.index,this.children,!0);if(!n)return null;const r=n.insertEnter({index:e.index-n.start,inner:e.inner},t);return this.needLayout=!0,r&&this.addAfter(r,n),this.calLength(),null}insertBlock(e,t){const n=Re(t.index,this.children,!0),r=this.children[n];if(n<0)return[];if(r.start===t.index&&t.inner===null){const s=this.removeAllFrom(r),o=this.createSelf();return o.addAll(s),o.setAttributes(this.originalAttributes),[this,e,o]}else{if(!r.tryInsertBlock(e,O(this.start,t))){const o=r.insertEnter(t);if(o){const l=this.createSelf();return l.addAll([o]),l.setAttributes(this.originalAttributes),this.calLength(),this.needLayout=!0,[this,e,l]}}return[]}}insertFragment(e,t){const n=ge(t.index,this.children,!0);!n||(n.insertFragment(e,O(n.start,t)),this.needLayout=!0,this.calLength())}delete(e,t){St(this,e,t),this.mergeFrame(),this.head!==null&&this.head.setStart(0,!0,!0),this.calLength(),this.needLayout=!0}setIndent(e){let t=!1;for(let n=0;n<this.children.length;n++)t=this.children[n].setIndent(e)||t;t&&(this.needLayout=!0,this.bubbleUp(It.CONTENT_CHANGE,null,[this]))}findLayoutFramesByRange(e,t,n){const r=n!=null?n:ae.both;return Me(this.children,e,t,n)}format(e,t){this.formatSelf(e,t),ut(this,e,t),this.needLayout=!0}clearFormat(e){this.clearSelfFormat(e),nt(this,e),this.needLayout=!0}isHungry(){return!(this.tail.tail instanceof Vn)}eat(e){if(e===this||!(e instanceof lr)||this.tail===null||this.tail.tail instanceof Vn)return!1;const t=e.head===e.tail,n=e.head;return n instanceof Un&&(e.remove(n),this.tail.addAll(n.children),this.tail.calLength(),this.mergeFrame(),this.calLength(),this.needLayout=!0),t}getFormat(e){const t=e?je(this,[e]):je(this);return Ae(this.attributes,t),t}getAllLayoutFrames(){return this.children}search(e){const t=[];for(let n=0;n<this.children.length;n++){const r=this.children[n],s=r.search(e);if(s.length>0){for(let o=0;o<s.length;o++){const l=s[o];l.pos.index+=this.start+r.start;for(let u=0;u<l.rects.length;u++){const f=l.rects[u];f.x+=this.x,f.y+=this.y}}t.push(...s)}}return t}getChildrenStackByPos(e,t){const n=Pe(e,t,this.children);let r;return n?(r=n.getChildrenStackByPos(e-n.x,t-n.y),r.unshift(this)):r=[this],r}calLength(){this.length=0;for(let e=0;e<this.children.length;e++)this.length+=this.children[e].length}merge(e){const t=e.removeAll();this.addAll(t)}setWidth(e){if(this.width!==e){this.width=e;for(let t=0;t<this.children.length;t++)this.children[t].setMaxWidth(e)}}createSelf(){throw new Error("method not implemented")}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextPos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}prevPos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}firstLinePos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastLinePos(e){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextLinePos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}prevLinePos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineStartPos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineEndPos(e,t){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}beforeAdd(e){e.forEach(t=>{t.setMinMetrics({baseline:0,bottom:0})})}afterAdd(e,t,n,r,s){e.forEach(o=>{this.setChildrenMaxWidth(o),this.length+=o.length,o.setBubbleHandler(this.bubbleUp.bind(this))}),e[0].setStart(t===0?0:s[t-1].start+s[t-1].length,!0,!0)}afterRemove(e,t,n,r,s){e.forEach(o=>{o.setBubbleHandler(null)})}addLast(e){throw new Error("Method not implemented.")}addAfter(e,t){throw new Error("Method not implemented.")}addBefore(e,t){throw new Error("Method not implemented.")}addAtIndex(e,t){throw new Error("Method not implemented.")}addAll(e){throw new Error("Method not implemented.")}removeAll(){throw new Error("Method not implemented.")}remove(e){throw new Error("Method not implemented.")}removeAllFrom(e){throw new Error("Method not implemented.")}splice(e,t,n){throw new Error("Method not implemented.")}findIndex(e){throw new Error("Method not implemented.")}onPointerEnter(e,t,n,r){}onPointerLeave(){}onPointerMove(e,t,n,r){}onPointerDown(e,t){}onPointerUp(e,t){}onPointerTap(e,t){}setOverrideDefaultAttributes(e){throw new Error("Method not implemented.")}setOverrideAttributes(e){throw new Error("Method not implemented.")}setAttributes(e){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(e){throw new Error("Method not implemented.")}setFrameStart(){if(this.children.length>0)this.children[0].start=0;else return;for(let e=1;e<this.children.length;e++)this.children[e].start=this.children[e-1].start+this.children[e-1].length}setChildrenMaxWidth(e){e.setMaxWidth(this.width)}mergeFrame(){for(let e=0;e<this.children.length-1;e++){const t=this.children[e];if(!(t.tail instanceof Vn)){const n=this.children[e+1];t.eat(n),this.remove(n);break}}}};lr.typeName="blockCommon",lr=_i([di,Ot,od,Jn,Hr,vi,Ur,Pn],lr);const ss={listType:A.ol1,listId:0,liColor:"#494949",liSize:11,liLinespacing:1.7,liIndent:0,title:_t.Text};var ec=Object.defineProperty,ur=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,ad=Object.prototype.propertyIsEnumerable,tc=(e,t,n)=>t in e?ec(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,to=(e,t)=>{for(var n in t||(t={}))eo.call(t,n)&&tc(e,n,t[n]);if(ur)for(var n of ur(t))ad.call(t,n)&&tc(e,n,t[n]);return e};const er=class extends lr{constructor(){super(...arguments);this.defaultAttributes=ss,this.attributes=to({},ss),this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.titleContent="",this.titleWidth=0,this.titleBaseline=0,this.titleIndex=0,this.titleParent=""}readFromOps(e){const t=super.readOpsToLayoutFrame(e);this.addAll(t),this.setFrameStart(),this.setAttributes(e[e.length-1].attributes)}layout(){if(this.needLayout){this.setTitleIndex(),this.setTitleContent(ve(this.attributes.listType,this.attributes.liIndent,this.titleIndex,this.titleParent)),this.titleWidth=ct().measureTextWidth(this.titleContent,{italic:!1,bold:!1,size:this.attributes.liSize,font:an.getFontValue("Default")});const e=ct().measureTextMetrics({bold:!1,size:this.attributes.liSize,font:an.getFontValue("Default")}),t=ct().convertPt2Px[this.attributes.liSize]*this.attributes.liLinespacing,n=(t-e.bottom)/2+e.baseline;e.bottom=t,e.baseline=n,this.children[0].setFirstIndent(Math.max(10+this.titleWidth-(this.attributes.liIndent>1?20:26),0));const r=26*this.attributes.liIndent,s=this.width-r;let o;for(let f=0,m=this.children.length;f<m;f++)o=this.children[f],o.setMinMetrics({baseline:e.baseline,bottom:e.bottom}),o.setMaxWidth(s-26),o.x=r+26,o.layout(),f<m-1&&(this.children[f+1].y=Math.floor(o.y+o.height)),this.width=Math.max(this.width,o.x+o.width);const l=Math.max(e.baseline,this.children[0].lines[0].baseline);this.titleBaseline=l,this.head!==null&&this.head.setPositionY(0,!0,!0),this.needLayout=!1;const u=o.y+o.height;this.setHeight(u),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}}draw(e,t,n,r){const s=26*this.attributes.liIndent;e.font=ct().createTextFontString({italic:!1,bold:!1,size:this.attributes.liSize,font:an.getFontValue("Default")}),e.fillStyle=this.attributes.liColor,e.fillText(this.titleContent,this.x+t+6+s,this.y+n+this.titleBaseline);for(let o=0,l=this.children.length;o<l;o++){const u=this.children[o];u.draw(e,this.x+t,this.y+n,r-u.y)}super.draw(e,t,n,r)}setTitleContent(e){this.titleContent=e}setIndent(e){const t=this.attributes.liIndent;let r=t+(e?1:-1);r=Math.min(r,8),r=Math.max(r,0),t!==r&&(this.setAttributes({indent:r}),this.bubbleUp(It.NEED_LAYOUT_LISTITEM,this.attributes.listId))}toOp(e){const t=[];for(let n=0;n<this.children.length;n++){const s=this.children[n].toOp(e);Object.assign(s[s.length-1].attributes,this.getOriginAttrs()),t.push(...s)}return this.setBlockOpAttribute(t,er.typeName),t}toHtml(e){return`<li style="">${Mt(this,e)}</li>`}insertEnter(e,t){const n=ge(e.index,this.children,!0);if(!n)return null;const r=n.insertEnter({index:e.index-n.start,inner:e.inner},t);if(this.calLength(),this.needLayout=!0,r){const s=new er;return s.setHeight(this.width),s.addLast(r),s.setAttributes(this.getOriginAttrs()),s}return null}setAttributes(e){if(e){const t=e["list-type"];typeof t=="string"&&(e.listType=$(t))}super.setAttributes(e),this.children.forEach(t=>{this.setFrameOverrideAttributes(t),this.setFrameOverrideDefaultAttributes(t)})}afterAdd(e,t,n,r,s){super.afterAdd(e,t,n,r,s),e.forEach(o=>{this.setFrameOverrideAttributes(o),this.setFrameOverrideDefaultAttributes(o)})}afterRemove(e,t,n,r,s){super.afterRemove(e,t,n,r,s),e.forEach(o=>{this.removeFrameOverrideAttributes(o),this.removeFrameOverrideDefaultAttributes(o)})}format(e,t){if(super.format(e,t),!t||t.start.index===0&&t.start.inner===null&&t.end.index===this.start+this.length&&t.end.inner===null){const n={};e.hasOwnProperty("color")&&(n.liColor=e.color),e.hasOwnProperty("size")&&(n.liSize=e.size),e.hasOwnProperty("linespacing")&&(n.liLinespacing=e.linespacing),e.hasOwnProperty("indent")&&(n.liIndent=e.indent),this.setAttributes(n)}}createSelf(){return new er}formatSelf(e,t){this.setAttributes(e)}clearSelfFormat(e){this.setAttributes(to({},ss))}setTitleIndex(){let e=0,t="",n=!1,r=this.attributes.listType!==A.ol3,s=this.prevSibling;for(;s!==null;){if(s instanceof er&&s.attributes.listId===this.attributes.listId){const o=this.attributes.liIndent-s.attributes.liIndent;if(o===0)n=!0,r=!0,e=s.titleIndex+1,t=s.titleParent;else if(o>0){t=s.titleContent;for(let l=1;l<o;l++)t+="1.";r=!0,n=!0}else o<0&&(e=1)}if(n&&r)break;s=s.prevSibling}this.titleIndex=e,this.titleParent=t}getOriginAttrs(){let e;switch(this.attributes.listType){case A.ol1:e={"list-type":"decimal",listId:this.attributes.listId};break;case A.ol2:e={"list-type":"ckj-decimal",listId:this.attributes.listId};break;case A.ol3:e={"list-type":"upper-decimal",listId:this.attributes.listId};break;case A.ul1:e={"list-type":"circle",listId:this.attributes.listId};break;case A.ul2:e={"list-type":"ring",listId:this.attributes.listId};break;case A.ul3:e={"list-type":"arrow",listId:this.attributes.listId};break}return to(to({},this.originalAttributes),e)}setFrameOverrideAttributes(e){const t=this.getOverrideAttributes();Object.keys(t).length>0&&e.setOverrideAttributes(t)}removeFrameOverrideAttributes(e){const t=this.getOverrideAttributes();Object.keys(t).forEach(n=>{t[n]=void 0}),e.setOverrideAttributes(t)}getOverrideAttributes(){const e={};switch(this.attributes.title){case _t.Title:e.bold=!0,e.size=20;break;case _t.Subtitle:e.bold=!0,e.size=18;break;case _t.H1:e.bold=!0,e.size=16;break;case _t.H2:e.bold=!0,e.size=14;break;case _t.H3:e.bold=!0,e.size=13;break;case _t.H4:e.bold=!0,e.size=12;break}return e.linespacing=this.attributes.liLinespacing,e}setFrameOverrideDefaultAttributes(e){this.attributes.title===_t.Subtitle&&e.setOverrideDefaultAttributes({color:"#888"})}removeFrameOverrideDefaultAttributes(e){this.attributes.title===_t.Subtitle&&e.setOverrideDefaultAttributes({color:void 0})}};let Dt=er;Dt.typeName="list";var nc=Object.defineProperty,ld=Object.defineProperties,ud=Object.getOwnPropertyDescriptors,rc=Object.getOwnPropertySymbols,cd=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable,os=(e,t,n)=>t in e?nc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y=(e,t)=>{for(var n in t||(t={}))cd.call(t,n)&&os(e,n,t[n]);if(rc)for(var n of rc(t))hd.call(t,n)&&os(e,n,t[n]);return e},le=(e,t)=>ld(e,ud(t)),re;(function(e){e.AFTER_APPLY="AFTER_APPLY"})(re||(re={}));class xe extends Er{constructor(t,n,r){super(t);this.compositionStartOps=[],this.compositionStartPos=null,this.compositionEndPos=null,this.stack=n,this.selector=r}input(t,n){let r=new(y());const s=this.selector.getSelection();if(s&&s.length>0){for(let f=s.length-1;f>=0;f--){const m=s[f];if(X(m.start,m.end)!==0){const _=this.doc.delete([m]);r=r.compose(_)}}const o=s[0].start,l=this.doc.insertText(t,o,n);r=r.compose(l),this.pushDelta(r);const u=M(o,t.length);this.selector.setSelection([{start:u,end:u}],Wr.Input)}}delete(t,n){const r=n||this.selector.getSelection();if(r&&r.length>0){let s=new(y());for(let o=r.length-1;o>=0;o--){const l=r[o],u=this.doc.delete([l],t);s=s.compose(u)}if(this.pushDelta(s),s.ops.length>0){let o={index:0,inner:null};if(r.length>1||r.length===1&&X(r[0].start,r[0].end)!==0){o=r[0].start;const l=this.getBlocksInRange({start:o,end:o});if(l.length>0){const u=l[0].correctSelectionPos(o,o);u.length>0&&u[0].start&&(o=u[0].start)}}else r.length===1&&(o=te(r[0].start,t?-1:0));this.selector.setSelection([{start:o,end:o}],Wr.Input)}return s}}startComposition(t){const n=t.filter(s=>X(s.start,s.end)!==0);this.delete(!0,n);const r=ge(t[0].start.index,this.doc.children,!0);r&&(this.compositionStartOps=r.toOp(!0),this.compositionStartPos=U(t[0].start),this.compositionEndPos=U(t[0].start))}updateComposition(t,n,r){this.compositionStartPos&&t&&(X(this.compositionStartPos,t)!==0&&this.doc.delete([{start:this.compositionStartPos,end:t}]),this.doc.insertText(n,this.compositionStartPos,le(Y({},r),{composing:!0})),this.compositionEndPos=te(this.compositionStartPos,n.length),this.selector.setSelection([{start:U(this.compositionEndPos),end:U(this.compositionEndPos)}],Wr.Input))}endComposition(t){if(this.compositionStartPos&&this.compositionEndPos){this.doc.delete([{start:this.compositionStartPos,end:this.compositionEndPos}]),this.doc.insertText(t,this.compositionStartPos);const n=ge(this.compositionStartPos.index,this.doc.children,!0);if(n){const r=new(y())(this.compositionStartOps).diff(new(y())(n.toOp(!0))),s=new(y());n.start>0&&s.retain(n.start),this.compositionStartOps=[],this.compositionStartPos=null,this.compositionEndPos=null,this.pushDelta(s.concat(r))}}}format(t,n){const r=n||this.selector.getSelection();if(r){const s=this.doc.format(t,r);this.pushDelta(s)}}clearFormat(t){const n=t||this.selector.getSelection();if(n){const r=this.doc.clearFormat(n);this.pushDelta(r)}}getFormat(t){return this.doc.getFormat(t)}setLink(t,n){const r=n||this.selector.getSelection();r&&r.forEach(s=>{X(s.start,s.end)===0&&this.doc.insertText(t,s.start),this.doc.format({link:t},[s])})}setIndent(t,n){(n||this.selector.getSelection()).forEach(s=>{const o=ge(s.start.index,this.doc.children,!0),l=ge(s.start.index,this.doc.children,!0),u=[];let f=o;for(;f&&(f instanceof lr&&u.push(f),f!==l);)f=f.nextSibling;if(u.length<=0)return new(y());const m=[],_=[];for(let Q=0;Q<u.length;Q++){const oe=u[Q];m.push(...oe.toOp(!0)),u[Q].setIndent(t),_.push(...oe.toOp(!0))}const P=new(y())(m).diff(new(y())(_)),j=new(y());u[0].start>0&&j.retain(u[0].start),this.pushDelta(j.concat(P))})}insertFragment(t,n){let r;const s=n||this.selector.getSelection();if(s.length===0)return;(s.length>1||X(s[0].start,s[0].end)!==0)&&(r=this.doc.delete(s,!0));const o=s[0].start;r=r!=null?r:new(y());const l=this.doc.insertFragment(t,o);l&&(r=r.compose(l)),this.pushDelta(r),this.selector.setSelection([{start:o,end:o}],Wr.Input)}insertBlock(t,n){let r;const s=n||this.selector.getSelection();if(s.length===0)return;(s.length>1||X(s[0].start,s[0].end)!==0)&&(r=this.doc.delete(s,!0));const o=s[0].start;r=r!=null?r:new(y());const l=this.doc.insertBlock(t,o);l&&(r=r.compose(l)),this.pushDelta(r),this.selector.setSelection([{start:o,end:o}],Wr.Input)}applyChanges(t){const n=[],r=[];let s=0,o=0,l={startIndex:0,endIndex:0,ops:[]};for(let u=0;u<t.ops.length;u++){const f=t.ops[u];if(f.retain!==void 0)if(typeof f.retain=="number")if(f.attributes===void 0){s+=f.retain;const m=Re(s,this.doc.children);if(m!==l.endIndex){const{oldBlocks:_,newBlocks:P}=this.applyBat(l);n.push(..._),r.push(...P);const j=[];s-this.doc.children[m].start&&j.push({retain:s-this.doc.children[m].start}),o=s,l={startIndex:m,endIndex:m,ops:j}}}else s-o>0&&l.ops.push({retain:s-o}),l.ops.push(f),s+=f.retain,o=s,l.endIndex=Re(s,this.doc.children);else s-o>0&&l.ops.push({retain:s-o}),l.ops.push(f),s+=1,o=s,l.endIndex=Re(s,this.doc.children);else f.insert!==void 0?(s-o>0&&l.ops.push({retain:s-o}),l.ops.push(f),o=s):f.delete!==void 0&&(s-o>0&&l.ops.push({retain:s-o}),l.ops.push(f),s+=f.delete,o=s,l.endIndex=Re(s,this.doc.children))}if(l.ops.length>0){const{oldBlocks:u,newBlocks:f}=this.applyBat(l);n.push(...u),r.push(...f)}this.emit(re.AFTER_APPLY,{oldBlocks:n,newBlocks:r}),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT)}getBlocksInRange(t){const n=ge(t.start.index,this.doc.children,!0),r=ge(t.end.index,this.doc.children,!0),s=[];let o=n;for(;o&&(s.push(o),o!==r);)o=o.nextSibling;return s}pushDelta(t){t.ops.length>0&&this.stack.pushDiff(t)}applyBat(t){var n,r;if(t.ops.length===0)return{oldBlocks:[],newBlocks:[]};const s=new Set,o=this.doc.children.slice(t.startIndex,t.endIndex+1),l=[];for(let j=0;j<o.length;j++){const Q=o[j];Q instanceof Dt&&s.add(Q.attributes.listId),l.push(...Q.toOp(!1))}const u=new(y())(t.ops),f=new(y())(l).compose(u).ops;for(;f.length>0&&typeof f[0].retain=="number";)f.shift();const m=this.doc.readDeltaToBlocks(new(y())(f));for(let j=0;j<m.length;j++){const Q=m[j];Q instanceof Dt&&s.add(Q.attributes.listId)}this.doc.splice(t.startIndex,t.endIndex+1-t.startIndex,m);const _=(n=m[0].prevSibling)!=null?n:m[0],P=(r=m[m.length-1].nextSibling)!=null?r:m[m.length-1];return this.doc.tryMerge(_,P),m[0].setStart(o[0].start,!0,!0,!0),m[0].setPositionY(o[0].y,!1,!0),this.selector.applyChanges(u),{oldBlocks:o,newBlocks:m}}}/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */var Ie=Object.freeze({});function me(e){return e==null}function V(e){return e!=null}function ke(e){return e===!0}function Ha(e){return e===!1}function as(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function gt(e){return e!==null&&typeof e=="object"}var Gr=Object.prototype.toString;function ic(e){return Gr.call(e).slice(8,-1)}function Lt(e){return Gr.call(e)==="[object Object]"}function ls(e){return Gr.call(e)==="[object RegExp]"}function us(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function rt(e){return V(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function fd(e){return e==null?"":Array.isArray(e)||Lt(e)&&e.toString===Gr?JSON.stringify(e,null,2):String(e)}function Ai(e){var t=parseFloat(e);return isNaN(t)?e:t}function Rt(e,t){for(var n=Object.create(null),r=e.split(","),s=0;s<r.length;s++)n[r[s]]=!0;return t?function(o){return n[o.toLowerCase()]}:function(o){return n[o]}}var sc=Rt("slot,component",!0),dd=Rt("key,ref,slot,slot-scope,is");function cr(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var no=Object.prototype.hasOwnProperty;function At(e,t){return no.call(e,t)}function cn(e){var t=Object.create(null);return function(r){var s=t[r];return s||(t[r]=e(r))}}var oc=/-(\w)/g,tn=cn(function(e){return e.replace(oc,function(t,n){return n?n.toUpperCase():""})}),Ua=cn(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),ac=/\B([A-Z])/g,tr=cn(function(e){return e.replace(ac,"-$1").toLowerCase()});function lc(e,t){function n(r){var s=arguments.length;return s?s>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return n._length=e.length,n}function cs(e,t){return e.bind(t)}var Kr=Function.prototype.bind?cs:lc;function Ei(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function it(e,t){for(var n in t)e[n]=t[n];return e}function uc(e){for(var t={},n=0;n<e.length;n++)e[n]&&it(t,e[n]);return t}function Yt(e,t,n){}var nn=function(e,t,n){return!1},hs=function(e){return e};function $a(e){return e.reduce(function(t,n){return t.concat(n.staticKeys||[])},[]).join(",")}function Xr(e,t){if(e===t)return!0;var n=gt(e),r=gt(t);if(n&&r)try{var s=Array.isArray(e),o=Array.isArray(t);if(s&&o)return e.length===t.length&&e.every(function(f,m){return Xr(f,t[m])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!s&&!o){var l=Object.keys(e),u=Object.keys(t);return l.length===u.length&&l.every(function(f){return Xr(e[f],t[f])})}else return!1}catch(f){return!1}else return!n&&!r?String(e)===String(t):!1}function Wa(e,t){for(var n=0;n<e.length;n++)if(Xr(e[n],t))return n;return-1}function ro(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var cc="data-server-rendered",Et=["component","directive","filter"],Wt=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],zt={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:nn,isReservedAttr:nn,isUnknownElement:nn,getTagNamespace:Yt,parsePlatformTagName:hs,mustUseProp:nn,async:!0,_lifecycleHooks:Wt},za=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function hc(e){var t=(e+"").charCodeAt(0);return t===36||t===95}function Ci(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var ja=new RegExp("[^"+za.source+".$_\\d]");function fs(e){if(!ja.test(e)){var t=e.split(".");return function(n){for(var r=0;r<t.length;r++){if(!n)return;n=n[t[r]]}return n}}}var Ga="__proto__"in{},Ft=typeof window!="undefined",Yr=typeof WXEnvironment!="undefined"&&!!WXEnvironment.platform,Pi=Yr&&WXEnvironment.platform.toLowerCase(),Bt=Ft&&window.navigator.userAgent.toLowerCase(),Sn=Bt&&/msie|trident/.test(Bt),Ii=Bt&&Bt.indexOf("msie 9.0")>0,Ka=Bt&&Bt.indexOf("edge/")>0,hv=Bt&&Bt.indexOf("android")>0||Pi==="android",pd=Bt&&/iphone|ipad|ipod|ios/.test(Bt)||Pi==="ios",fv=Bt&&/chrome\/\d+/.test(Bt)&&!Ka,Xa=Bt&&/phantomjs/.test(Bt),Ti=Bt&&Bt.match(/firefox\/(\d+)/),io={}.watch,x=!1;if(Ft)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){x=!0}}),window.addEventListener("test-passive",null,Zr)}catch(e){}var Jr,Zt=function(){return Jr===void 0&&(!Ft&&!Yr&&typeof Ye.g!="undefined"?Jr=Ye.g.process&&Ye.g.process.env.VUE_ENV==="server":Jr=!1),Jr},Xe=Ft&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Oi(e){return typeof e=="function"&&/native code/.test(e.toString())}var so=typeof Symbol!="undefined"&&Oi(Symbol)&&typeof Reflect!="undefined"&&Oi(Reflect.ownKeys),ds;typeof Set!="undefined"&&Oi(Set)?ds=Set:ds=function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(n){return this.set[n]===!0},e.prototype.add=function(n){this.set[n]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var $t=Yt,dv=null,pv=null,gv=null;if(!1)var vv,mv,Pr,bv;var gd=0,_n=function(){this.id=gd++,this.subs=[]};_n.prototype.addSub=function(t){this.subs.push(t)},_n.prototype.removeSub=function(t){cr(this.subs,t)},_n.prototype.depend=function(){_n.target&&_n.target.addDep(this)},_n.prototype.notify=function(){for(var t=this.subs.slice(),n=0,r=t.length;n<r;n++)t[n].update()},_n.target=null;var oo=[];function ps(e){oo.push(e),_n.target=e}function An(){oo.pop(),_n.target=oo[oo.length-1]}var hn=function(t,n,r,s,o,l,u,f){this.tag=t,this.data=n,this.children=r,this.text=s,this.elm=o,this.ns=void 0,this.context=l,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=u,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=f,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fc={child:{configurable:!0}};fc.child.get=function(){return this.componentInstance},Object.defineProperties(hn.prototype,fc);var Qr=function(e){e===void 0&&(e="");var t=new hn;return t.text=e,t.isComment=!0,t};function Di(e){return new hn(void 0,void 0,void 0,String(e))}function Ya(e){var t=new hn(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ir=Array.prototype,ao=Object.create(Ir),vd=["push","pop","shift","unshift","splice","sort","reverse"];vd.forEach(function(e){var t=Ir[e];Ci(ao,e,function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];var o=t.apply(this,r),l=this.__ob__,u;switch(e){case"push":case"unshift":u=r;break;case"splice":u=r.slice(2);break}return u&&l.observeArray(u),l.dep.notify(),o})});var $n=Object.getOwnPropertyNames(ao),Za=!0;function Tr(e){Za=e}var lo=function(t){this.value=t,this.dep=new _n,this.vmCount=0,Ci(t,"__ob__",this),Array.isArray(t)?(Ga?md(t,ao):bd(t,ao,$n),this.observeArray(t)):this.walk(t)};lo.prototype.walk=function(t){for(var n=Object.keys(t),r=0;r<n.length;r++)Dr(t,n[r])},lo.prototype.observeArray=function(t){for(var n=0,r=t.length;n<r;n++)Or(t[n])};function md(e,t){e.__proto__=t}function bd(e,t,n){for(var r=0,s=n.length;r<s;r++){var o=n[r];Ci(e,o,t[o])}}function Or(e,t){if(!(!gt(e)||e instanceof hn)){var n;return At(e,"__ob__")&&e.__ob__ instanceof lo?n=e.__ob__:Za&&!Zt()&&(Array.isArray(e)||Lt(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new lo(e)),t&&n&&n.vmCount++,n}}function Dr(e,t,n,r,s){var o=new _n,l=Object.getOwnPropertyDescriptor(e,t);if(!(l&&l.configurable===!1)){var u=l&&l.get,f=l&&l.set;(!u||f)&&arguments.length===2&&(n=e[t]);var m=!s&&Or(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var P=u?u.call(e):n;return _n.target&&(o.depend(),m&&(m.dep.depend(),Array.isArray(P)&&uo(P))),P},set:function(P){var j=u?u.call(e):n;P===j||P!==P&&j!==j||u&&!f||(f?f.call(e,P):n=P,m=!s&&Or(P),o.notify())}})}}function Ja(e,t,n){if(Array.isArray(e)&&us(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?(Dr(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function dc(e,t){if(Array.isArray(e)&&us(t)){e.splice(t,1);return}var n=e.__ob__;e._isVue||n&&n.vmCount||!At(e,t)||(delete e[t],!!n&&n.dep.notify())}function uo(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&uo(t)}var fn=zt.optionMergeStrategies;function Li(e,t){if(!t)return e;for(var n,r,s,o=so?Reflect.ownKeys(t):Object.keys(t),l=0;l<o.length;l++)n=o[l],n!=="__ob__"&&(r=e[n],s=t[n],At(e,n)?r!==s&&Lt(r)&&Lt(s)&&Li(r,s):Ja(e,n,s));return e}function Qa(e,t,n){return n?function(){var s=typeof t=="function"?t.call(n,n):t,o=typeof e=="function"?e.call(n,n):e;return s?Li(s,o):o}:t?e?function(){return Li(typeof t=="function"?t.call(this,this):t,typeof e=="function"?e.call(this,this):e)}:t:e}fn.data=function(e,t,n){return n?Qa(e,t,n):t&&typeof t!="function"?e:Qa(e,t)};function pc(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n&&yd(n)}function yd(e){for(var t=[],n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}Wt.forEach(function(e){fn[e]=pc});function hr(e,t,n,r){var s=Object.create(e||null);return t?it(s,t):s}Et.forEach(function(e){fn[e+"s"]=hr}),fn.watch=function(e,t,n,r){if(e===io&&(e=void 0),t===io&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var s={};it(s,e);for(var o in t){var l=s[o],u=t[o];l&&!Array.isArray(l)&&(l=[l]),s[o]=l?l.concat(u):Array.isArray(u)?u:[u]}return s},fn.props=fn.methods=fn.inject=fn.computed=function(e,t,n,r){if(!e)return t;var s=Object.create(null);return it(s,e),t&&it(s,t),s},fn.provide=Qa;var Va=function(e,t){return t===void 0?e:t};function Ri(e){for(var t in e.components)On(t)}function On(e){new RegExp("^[a-zA-Z][\\-\\.0-9_"+za.source+"]*$").test(e)||$t('Invalid component name: "'+e+'". Component names should conform to valid custom element name in html5 specification.'),(sc(e)||zt.isReservedTag(e))&&$t("Do not use built-in or reserved HTML elements as component id: "+e)}function xd(e,t){var n=e.props;if(!!n){var r={},s,o,l;if(Array.isArray(n))for(s=n.length;s--;)o=n[s],typeof o=="string"&&(l=tn(o),r[l]={type:null});else if(Lt(n))for(var u in n)o=n[u],l=tn(u),r[l]=Lt(o)?o:{type:o};e.props=r}}function gc(e,t){var n=e.inject;if(!!n){var r=e.inject={};if(Array.isArray(n))for(var s=0;s<n.length;s++)r[n[s]]={from:n[s]};else if(Lt(n))for(var o in n){var l=n[o];r[o]=Lt(l)?it({from:o},l):{from:l}}}}function vc(e){var t=e.directives;if(t)for(var n in t){var r=t[n];typeof r=="function"&&(t[n]={bind:r,update:r})}}function co(e,t,n){Lt(t)||$t('Invalid value for option "'+e+'": expected an Object, but got '+ic(t)+".",n)}function dn(e,t,n){if(typeof t=="function"&&(t=t.options),xd(t,n),gc(t,n),vc(t),!t._base&&(t.extends&&(e=dn(e,t.extends,n)),t.mixins))for(var r=0,s=t.mixins.length;r<s;r++)e=dn(e,t.mixins[r],n);var o={},l;for(l in e)u(l);for(l in t)At(e,l)||u(l);function u(f){var m=fn[f]||Va;o[f]=m(e[f],t[f],n,f)}return o}function ho(e,t,n,r){if(typeof n=="string"){var s=e[t];if(At(s,n))return s[n];var o=tn(n);if(At(s,o))return s[o];var l=Ua(o);if(At(s,l))return s[l];var u=s[n]||s[o]||s[l];return u}}function qa(e,t,n,r){var s=t[e],o=!At(n,e),l=n[e],u=po(Boolean,s.type);if(u>-1){if(o&&!At(s,"default"))l=!1;else if(l===""||l===tr(e)){var f=po(String,s.type);(f<0||u<f)&&(l=!0)}}if(l===void 0){l=fo(r,s,e);var m=Za;Tr(!0),Or(l),Tr(m)}return l}function fo(e,t,n){if(!!At(t,"default")){var r=t.default;return e&&e.$options.propsData&&e.$options.propsData[n]===void 0&&e._props[n]!==void 0?e._props[n]:typeof r=="function"&&gs(t.type)!=="Function"?r.call(e):r}}function yv(e,t,n,r,s){if(e.required&&s){$t('Missing required prop: "'+t+'"',r);return}if(!(n==null&&!e.required)){var o=e.type,l=!o||o===!0,u=[];if(o){Array.isArray(o)||(o=[o]);for(var f=0;f<o.length&&!l;f++){var m=jt(n,o[f],r);u.push(m.expectedType||""),l=m.valid}}var _=u.some(function(j){return j});if(!l&&_){$t(go(t,n,u),r);return}var P=e.validator;P&&(P(n)||$t('Invalid prop: custom validator check failed for prop "'+t+'".',r))}}var mc=/^(String|Number|Boolean|Function|Symbol|BigInt)$/;function jt(e,t,n){var r,s=gs(t);if(mc.test(s)){var o=typeof e;r=o===s.toLowerCase(),!r&&o==="object"&&(r=e instanceof t)}else if(s==="Object")r=Lt(e);else if(s==="Array")r=Array.isArray(e);else try{r=e instanceof t}catch(l){$t('Invalid prop type: "'+String(t)+'" is not a constructor',n),r=!1}return{valid:r,expectedType:s}}var el=/^\s*function (\w+)/;function gs(e){var t=e&&e.toString().match(el);return t?t[1]:""}function Wn(e,t){return gs(e)===gs(t)}function po(e,t){if(!Array.isArray(t))return Wn(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Wn(t[n],e))return n;return-1}function go(e,t,n){var r='Invalid prop: type check failed for prop "'+e+'". Expected '+n.map(Ua).join(", "),s=n[0],o=ic(t);return n.length===1&&Gt(s)&&Gt(typeof t)&&!tl(s,o)&&(r+=" with value "+Lr(t,s)),r+=", got "+o+" ",Gt(o)&&(r+="with value "+Lr(t,o)+"."),r}function Lr(e,t){return t==="String"?'"'+e+'"':t==="Number"?""+Number(e):""+e}var bc=null;function Gt(e){return bc.some(function(t){return e.toLowerCase()===t})}function tl(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.some(function(n){return n.toLowerCase()==="boolean"})}function Vr(e,t,n){ps();try{if(t)for(var r=t;r=r.$parent;){var s=r.$options.errorCaptured;if(s)for(var o=0;o<s.length;o++)try{var l=s[o].call(r,e,t,n)===!1;if(l)return}catch(u){yc(u,r,"errorCaptured hook")}}yc(e,t,n)}finally{An()}}function Fi(e,t,n,r,s){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&rt(o)&&!o._handled&&(o.catch(function(l){return Vr(l,r,s+" (Promise/async)")}),o._handled=!0)}catch(l){Vr(l,r,s)}return o}function yc(e,t,n){if(zt.errorHandler)try{return zt.errorHandler.call(null,e,t,n)}catch(r){r!==e&&vo(r,null,"config.errorHandler")}vo(e,t,n)}function vo(e,t,n){if((Ft||Yr)&&typeof console!="undefined")console.error(e);else throw e}var nl=!1,qr=[],mo=!1;function bo(){mo=!1;var e=qr.slice(0);qr.length=0;for(var t=0;t<e.length;t++)e[t]()}var vs;if(typeof Promise!="undefined"&&Oi(Promise)){var ms=Promise.resolve();vs=function(){ms.then(bo),pd&&setTimeout(Yt)},nl=!0}else if(!Sn&&typeof MutationObserver!="undefined"&&(Oi(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var yo=1,wd=new MutationObserver(bo),xo=document.createTextNode(String(yo));wd.observe(xo,{characterData:!0}),vs=function(){yo=(yo+1)%2,xo.data=String(yo)},nl=!0}else typeof setImmediate!="undefined"&&Oi(setImmediate)?vs=function(){setImmediate(bo)}:vs=function(){setTimeout(bo,0)};function wo(e,t){var n;if(qr.push(function(){if(e)try{e.call(t)}catch(r){Vr(r,t,"nextTick")}else n&&n(t)}),mo||(mo=!0,vs()),!e&&typeof Promise!="undefined")return new Promise(function(r){n=r})}var xv,wv;if(!1)var Sv;var Sd;if(!1)var xc,_v,wc,_d,Ad,Ed,rl;var Sc=new ds;function bs(e){So(e,Sc),Sc.clear()}function So(e,t){var n,r,s=Array.isArray(e);if(!(!s&&!gt(e)||Object.isFrozen(e)||e instanceof hn)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(s)for(n=e.length;n--;)So(e[n],t);else for(r=Object.keys(e),n=r.length;n--;)So(e[r[n]],t)}}var _c=cn(function(e){var t=e.charAt(0)==="&";e=t?e.slice(1):e;var n=e.charAt(0)==="~";e=n?e.slice(1):e;var r=e.charAt(0)==="!";return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}});function _o(e,t){function n(){var r=arguments,s=n.fns;if(Array.isArray(s))for(var o=s.slice(),l=0;l<o.length;l++)Fi(o[l],null,r,t,"v-on handler");else return Fi(s,null,arguments,t,"v-on handler")}return n.fns=e,n}function Ac(e,t,n,r,s,o){var l,u,f,m,_;for(l in e)u=f=e[l],m=t[l],_=_c(l),me(f)||(me(m)?(me(f.fns)&&(f=e[l]=_o(f,o)),ke(_.once)&&(f=e[l]=s(_.name,f,_.capture)),n(_.name,f,_.capture,_.passive,_.params)):f!==m&&(m.fns=f,e[l]=m));for(l in t)me(e[l])&&(_=_c(l),r(_.name,t[l],_.capture))}function nr(e,t,n){e instanceof hn&&(e=e.data.hook||(e.data.hook={}));var r,s=e[t];function o(){n.apply(this,arguments),cr(r.fns,o)}me(s)?r=_o([o]):V(s.fns)&&ke(s.merged)?(r=s,r.fns.push(o)):r=_o([s,o]),r.merged=!0,e[t]=r}function Ec(e,t,n){var r=t.options.props;if(!me(r)){var s={},o=e.attrs,l=e.props;if(V(o)||V(l))for(var u in r){var f=tr(u);if(!1)var m;Ao(s,l,u,f,!0)||Ao(s,o,u,f,!1)}return s}}function Ao(e,t,n,r,s){if(V(t)){if(At(t,n))return e[n]=t[n],s||delete t[n],!0;if(At(t,r))return e[n]=t[r],s||delete t[r],!0}return!1}function Cd(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function ys(e){return as(e)?[Di(e)]:Array.isArray(e)?Cc(e):void 0}function Ue(e){return V(e)&&V(e.text)&&Ha(e.isComment)}function Cc(e,t){var n=[],r,s,o,l;for(r=0;r<e.length;r++)s=e[r],!(me(s)||typeof s=="boolean")&&(o=n.length-1,l=n[o],Array.isArray(s)?s.length>0&&(s=Cc(s,(t||"")+"_"+r),Ue(s[0])&&Ue(l)&&(n[o]=Di(l.text+s[0].text),s.shift()),n.push.apply(n,s)):as(s)?Ue(l)?n[o]=Di(l.text+s):s!==""&&n.push(Di(s)):Ue(s)&&Ue(l)?n[o]=Di(l.text+s.text):(ke(e._isVList)&&V(s.tag)&&me(s.key)&&V(t)&&(s.key="__vlist"+t+"_"+r+"__"),n.push(s)));return n}function Pd(e){var t=e.$options.provide;t&&(e._provided=typeof t=="function"?t.call(e):t)}function xs(e){var t=il(e.$options.inject,e);t&&(Tr(!1),Object.keys(t).forEach(function(n){Dr(e,n,t[n])}),Tr(!0))}function il(e,t){if(e){for(var n=Object.create(null),r=so?Reflect.ownKeys(e):Object.keys(e),s=0;s<r.length;s++){var o=r[s];if(o!=="__ob__"){for(var l=e[o].from,u=t;u;){if(u._provided&&At(u._provided,l)){n[o]=u._provided[l];break}u=u.$parent}if(!u&&"default"in e[o]){var f=e[o].default;n[o]=typeof f=="function"?f.call(t):f}}}return n}}function sl(e,t){if(!e||!e.length)return{};for(var n={},r=0,s=e.length;r<s;r++){var o=e[r],l=o.data;if(l&&l.attrs&&l.attrs.slot&&delete l.attrs.slot,(o.context===t||o.fnContext===t)&&l&&l.slot!=null){var u=l.slot,f=n[u]||(n[u]=[]);o.tag==="template"?f.push.apply(f,o.children||[]):f.push(o)}else(n.default||(n.default=[])).push(o)}for(var m in n)n[m].every(Id)&&delete n[m];return n}function Id(e){return e.isComment&&!e.asyncFactory||e.text===" "}function Jt(e){return e.isComment&&e.asyncFactory}function Eo(e,t,n){var r,s=Object.keys(t).length>0,o=e?!!e.$stable:!s,l=e&&e.$key;if(!e)r={};else{if(e._normalized)return e._normalized;if(o&&n&&n!==Ie&&l===n.$key&&!s&&!n.$hasNormal)return n;r={};for(var u in e)e[u]&&u[0]!=="$"&&(r[u]=Co(t,u,e[u]))}for(var f in t)f in r||(r[f]=ol(t,f));return e&&Object.isExtensible(e)&&(e._normalized=r),Ci(r,"$stable",o),Ci(r,"$key",l),Ci(r,"$hasNormal",s),r}function Co(e,t,n){var r=function(){var s=arguments.length?n.apply(null,arguments):n({});s=s&&typeof s=="object"&&!Array.isArray(s)?[s]:ys(s);var o=s&&s[0];return s&&(!o||s.length===1&&o.isComment&&!Jt(o))?void 0:s};return n.proxy&&Object.defineProperty(e,t,{get:r,enumerable:!0,configurable:!0}),r}function ol(e,t){return function(){return e[t]}}function Pc(e,t){var n,r,s,o,l;if(Array.isArray(e)||typeof e=="string")for(n=new Array(e.length),r=0,s=e.length;r<s;r++)n[r]=t(e[r],r);else if(typeof e=="number")for(n=new Array(e),r=0;r<e;r++)n[r]=t(r+1,r);else if(gt(e))if(so&&e[Symbol.iterator]){n=[];for(var u=e[Symbol.iterator](),f=u.next();!f.done;)n.push(t(f.value,n.length)),f=u.next()}else for(o=Object.keys(e),n=new Array(o.length),r=0,s=o.length;r<s;r++)l=o[r],n[r]=t(e[l],l,r);return V(n)||(n=[]),n._isVList=!0,n}function Ic(e,t,n,r){var s=this.$scopedSlots[e],o;s?(n=n||{},r&&(n=it(it({},r),n)),o=s(n)||(typeof t=="function"?t():t)):o=this.$slots[e]||(typeof t=="function"?t():t);var l=n&&n.slot;return l?this.$createElement("template",{slot:l},o):o}function En(e){return ho(this.$options,"filters",e,!0)||hs}function fr(e,t){return Array.isArray(e)?e.indexOf(t)===-1:e!==t}function al(e,t,n,r,s){var o=zt.keyCodes[t]||n;return s&&r&&!zt.keyCodes[t]?fr(s,r):o?fr(o,e):r?tr(r)!==t:e===void 0}function Tc(e,t,n,r,s){if(n&&gt(n)){Array.isArray(n)&&(n=uc(n));var o,l=function(f){if(f==="class"||f==="style"||dd(f))o=e;else{var m=e.attrs&&e.attrs.type;o=r||zt.mustUseProp(t,m,f)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var _=tn(f),P=tr(f);if(!(_ in o)&&!(P in o)&&(o[f]=n[f],s)){var j=e.on||(e.on={});j["update:"+f]=function(Q){n[f]=Q}}};for(var u in n)l(u)}return e}function Po(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Io(r,"__static__"+e,!1)),r}function Oc(e,t,n){return Io(e,"__once__"+t+(n?"_"+n:""),!0),e}function Io(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&typeof e[r]!="string"&&ll(e[r],t+"_"+r,n);else ll(e,t,n)}function ll(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function ul(e,t){if(t&&Lt(t)){var n=e.on=e.on?it({},e.on):{};for(var r in t){var s=n[r],o=t[r];n[r]=s?[].concat(s,o):o}}return e}function To(e,t,n,r){t=t||{$stable:!n};for(var s=0;s<e.length;s++){var o=e[s];Array.isArray(o)?To(o,t,n):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return r&&(t.$key=r),t}function Rr(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];typeof r=="string"&&r&&(e[t[n]]=t[n+1])}return e}function Td(e,t){return typeof e=="string"?t+e:e}function dr(e){e._o=Oc,e._n=Ai,e._s=fd,e._l=Pc,e._t=Ic,e._q=Xr,e._i=Wa,e._m=Po,e._f=En,e._k=al,e._b=Tc,e._v=Di,e._e=Qr,e._u=To,e._g=ul,e._d=Rr,e._p=Td}function Oo(e,t,n,r,s){var o=this,l=s.options,u;At(r,"_uid")?(u=Object.create(r),u._original=r):(u=r,r=r._original);var f=ke(l._compiled),m=!f;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||Ie,this.injections=il(l.inject,r),this.slots=function(){return o.$slots||Eo(e.scopedSlots,o.$slots=sl(n,r)),o.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Eo(e.scopedSlots,this.slots())}}),f&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Eo(e.scopedSlots,this.$slots)),l._scopeId?this._c=function(_,P,j,Q){var oe=Lo(u,_,P,j,Q,m);return oe&&!Array.isArray(oe)&&(oe.fnScopeId=l._scopeId,oe.fnContext=r),oe}:this._c=function(_,P,j,Q){return Lo(u,_,P,j,Q,m)}}dr(Oo.prototype);function Dc(e,t,n,r,s){var o=e.options,l={},u=o.props;if(V(u))for(var f in u)l[f]=qa(f,u,t||Ie);else V(n.attrs)&&Lc(l,n.attrs),V(n.props)&&Lc(l,n.props);var m=new Oo(n,l,s,r,e),_=o.render.call(null,m._c,m);if(_ instanceof hn)return Do(_,n,m.parent,o,m);if(Array.isArray(_)){for(var P=ys(_)||[],j=new Array(P.length),Q=0;Q<P.length;Q++)j[Q]=Do(P[Q],n,m.parent,o,m);return j}}function Do(e,t,n,r,s){var o=Ya(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Lc(e,t){for(var n in t)e[tn(n)]=t[n]}var cl={init:function(t,n){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var r=t;cl.prepatch(r,r)}else{var s=t.componentInstance=Fc(t,ei);s.$mount(n?t.elm:void 0,n)}},prepatch:function(t,n){var r=n.componentOptions,s=n.componentInstance=t.componentInstance;Wc(s,r.propsData,r.listeners,n,r.children)},insert:function(t){var n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,jn(r,"mounted")),t.data.keepAlive&&(n._isMounted?gl(r):Ho(r,!0))},destroy:function(t){var n=t.componentInstance;n._isDestroyed||(t.data.keepAlive?dl(n,!0):n.$destroy())}},Rc=Object.keys(cl);function hl(e,t,n,r,s){if(!me(e)){var o=n.$options._base;if(gt(e)&&(e=o.extend(e)),typeof e=="function"){var l;if(me(e.cid)&&(l=e,e=Ss(l,o),e===void 0))return Mi(l,t,n,r,s);t=t||{},ml(e),V(t.model)&&Mc(e.options,t);var u=Ec(t,e,s);if(ke(e.options.functional))return Dc(e,u,t,n,r);var f=t.on;if(t.on=t.nativeOn,ke(e.options.abstract)){var m=t.slot;t={},m&&(t.slot=m)}Od(t);var _=e.options.name||s,P=new hn("vue-component-"+e.cid+(_?"-"+_:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:u,listeners:f,tag:s,children:r},l);return P}}}function Fc(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return V(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function Od(e){for(var t=e.hook||(e.hook={}),n=0;n<Rc.length;n++){var r=Rc[n],s=t[r],o=cl[r];s!==o&&!(s&&s._merged)&&(t[r]=s?kc(o,s):o)}}function kc(e,t){var n=function(r,s){e(r,s),t(r,s)};return n._merged=!0,n}function Mc(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var s=t.on||(t.on={}),o=s[r],l=t.model.callback;V(o)?(Array.isArray(o)?o.indexOf(l)===-1:o!==l)&&(s[r]=[l].concat(o)):s[r]=l}var pn=1,zn=2;function Lo(e,t,n,r,s,o){return(Array.isArray(n)||as(n))&&(s=r,r=n,n=void 0),ke(o)&&(s=zn),Dd(e,t,n,r,s)}function Dd(e,t,n,r,s){if(V(n)&&V(n.__ob__)||(V(n)&&V(n.is)&&(t=n.is),!t))return Qr();Array.isArray(r)&&typeof r[0]=="function"&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),s===zn?r=ys(r):s===pn&&(r=Cd(r));var o,l;if(typeof t=="string"){var u;l=e.$vnode&&e.$vnode.ns||zt.getTagNamespace(t),zt.isReservedTag(t)?o=new hn(zt.parsePlatformTagName(t),n,r,void 0,void 0,e):(!n||!n.pre)&&V(u=ho(e.$options,"components",t))?o=hl(u,n,e,r,t):o=new hn(t,n,r,void 0,void 0,e)}else o=hl(t,n,e,r);return Array.isArray(o)?o:V(o)?(V(l)&&ws(o,l),V(n)&&ki(n),o):Qr()}function ws(e,t,n){if(e.ns=t,e.tag==="foreignObject"&&(t=void 0,n=!0),V(e.children))for(var r=0,s=e.children.length;r<s;r++){var o=e.children[r];V(o.tag)&&(me(o.ns)||ke(n)&&o.tag!=="svg")&&ws(o,t,n)}}function ki(e){gt(e.style)&&bs(e.style),gt(e.class)&&bs(e.class)}function Nc(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=sl(t._renderChildren,r),e.$scopedSlots=Ie,e._c=function(o,l,u,f){return Lo(e,o,l,u,f,!1)},e.$createElement=function(o,l,u,f){return Lo(e,o,l,u,f,!0)};var s=n&&n.data;Dr(e,"$attrs",s&&s.attrs||Ie,null,!0),Dr(e,"$listeners",t._parentListeners||Ie,null,!0)}var Ro=null;function Ld(e){dr(e.prototype),e.prototype.$nextTick=function(t){return wo(t,this)},e.prototype._render=function(){var t=this,n=t.$options,r=n.render,s=n._parentVnode;s&&(t.$scopedSlots=Eo(s.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=s;var o;try{Ro=t,o=r.call(t._renderProxy,t.$createElement)}catch(l){Vr(l,t,"render"),o=t._vnode}finally{Ro=null}return Array.isArray(o)&&o.length===1&&(o=o[0]),o instanceof hn||(o=Qr()),o.parent=s,o}}function Fo(e,t){return(e.__esModule||so&&e[Symbol.toStringTag]==="Module")&&(e=e.default),gt(e)?t.extend(e):e}function Mi(e,t,n,r,s){var o=Qr();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:s},o}function Ss(e,t){if(ke(e.error)&&V(e.errorComp))return e.errorComp;if(V(e.resolved))return e.resolved;var n=Ro;if(n&&V(e.owners)&&e.owners.indexOf(n)===-1&&e.owners.push(n),ke(e.loading)&&V(e.loadingComp))return e.loadingComp;if(n&&!V(e.owners)){var r=e.owners=[n],s=!0,o=null,l=null;n.$on("hook:destroyed",function(){return cr(r,n)});var u=function(P){for(var j=0,Q=r.length;j<Q;j++)r[j].$forceUpdate();P&&(r.length=0,o!==null&&(clearTimeout(o),o=null),l!==null&&(clearTimeout(l),l=null))},f=ro(function(P){e.resolved=Fo(P,t),s?r.length=0:u(!0)}),m=ro(function(P){V(e.errorComp)&&(e.error=!0,u(!0))}),_=e(f,m);return gt(_)&&(rt(_)?me(e.resolved)&&_.then(f,m):rt(_.component)&&(_.component.then(f,m),V(_.error)&&(e.errorComp=Fo(_.error,t)),V(_.loading)&&(e.loadingComp=Fo(_.loading,t),_.delay===0?e.loading=!0:o=setTimeout(function(){o=null,me(e.resolved)&&me(e.error)&&(e.loading=!0,u(!1))},_.delay||200)),V(_.timeout)&&(l=setTimeout(function(){l=null,me(e.resolved)&&m(null)},_.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function Bc(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(V(n)&&(V(n.componentOptions)||Jt(n)))return n}}function Hc(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&No(e,t)}var Ni;function ko(e,t){Ni.$on(e,t)}function Uc(e,t){Ni.$off(e,t)}function Mo(e,t){var n=Ni;return function r(){var s=t.apply(null,arguments);s!==null&&n.$off(e,r)}}function No(e,t,n){Ni=e,Ac(t,n||{},ko,Uc,Mo,e),Ni=void 0}function Bo(e){var t=/^hook:/;e.prototype.$on=function(n,r){var s=this;if(Array.isArray(n))for(var o=0,l=n.length;o<l;o++)s.$on(n[o],r);else(s._events[n]||(s._events[n]=[])).push(r),t.test(n)&&(s._hasHookEvent=!0);return s},e.prototype.$once=function(n,r){var s=this;function o(){s.$off(n,o),r.apply(s,arguments)}return o.fn=r,s.$on(n,o),s},e.prototype.$off=function(n,r){var s=this;if(!arguments.length)return s._events=Object.create(null),s;if(Array.isArray(n)){for(var o=0,l=n.length;o<l;o++)s.$off(n[o],r);return s}var u=s._events[n];if(!u)return s;if(!r)return s._events[n]=null,s;for(var f,m=u.length;m--;)if(f=u[m],f===r||f.fn===r){u.splice(m,1);break}return s},e.prototype.$emit=function(n){var r=this;if(!1)var s;var o=r._events[n];if(o){o=o.length>1?Ei(o):o;for(var l=Ei(arguments,1),u='event handler for "'+n+'"',f=0,m=o.length;f<m;f++)Fi(o[f],r,l,r,u)}return r}}var ei=null,Rd=!1;function _s(e){var t=ei;return ei=e,function(){ei=t}}function $c(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function fl(e){e.prototype._update=function(t,n){var r=this,s=r.$el,o=r._vnode,l=_s(r);r._vnode=t,o?r.$el=r.__patch__(o,t):r.$el=r.__patch__(r.$el,t,n,!1),l(),s&&(s.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},e.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},e.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){jn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var n=t.$parent;n&&!n._isBeingDestroyed&&!t.$options.abstract&&cr(n.$children,t),t._watcher&&t._watcher.teardown();for(var r=t._watchers.length;r--;)t._watchers[r].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),jn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Fd(e,t,n){e.$el=t,e.$options.render||(e.$options.render=Qr),jn(e,"beforeMount");var r;return r=function(){e._update(e._render(),n)},new Gn(e,r,Yt,{before:function(){e._isMounted&&!e._isDestroyed&&jn(e,"beforeUpdate")}},!0),n=!1,e.$vnode==null&&(e._isMounted=!0,jn(e,"mounted")),e}function Wc(e,t,n,r,s){var o=r.data.scopedSlots,l=e.$scopedSlots,u=!!(o&&!o.$stable||l!==Ie&&!l.$stable||o&&e.$scopedSlots.$key!==o.$key||!o&&e.$scopedSlots.$key),f=!!(s||e.$options._renderChildren||u);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=s,e.$attrs=r.data.attrs||Ie,e.$listeners=n||Ie,t&&e.$options.props){Tr(!1);for(var m=e._props,_=e.$options._propKeys||[],P=0;P<_.length;P++){var j=_[P],Q=e.$options.props;m[j]=qa(j,Q,t,e)}Tr(!0),e.$options.propsData=t}n=n||Ie;var oe=e.$options._parentListeners;e.$options._parentListeners=n,No(e,n,oe),f&&(e.$slots=sl(s,r.context),e.$forceUpdate())}function rr(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Ho(e,t){if(t){if(e._directInactive=!1,rr(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Ho(e.$children[n]);jn(e,"activated")}}function dl(e,t){if(!(t&&(e._directInactive=!0,rr(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)dl(e.$children[n]);jn(e,"deactivated")}}function jn(e,t){ps();var n=e.$options[t],r=t+" hook";if(n)for(var s=0,o=n.length;s<o;s++)Fi(n[s],e,null,e,r);e._hasHookEvent&&e.$emit("hook:"+t),An()}var kd=100,pr=[],pl=[],Dn={},zc={},As=!1,Es=!1,gr=0;function Bi(){gr=pr.length=pl.length=0,Dn={},As=Es=!1}var Te=0,Hi=Date.now;if(Ft&&!Sn){var Cs=window.performance;Cs&&typeof Cs.now=="function"&&Hi()>document.createEvent("Event").timeStamp&&(Hi=function(){return Cs.now()})}function ti(){Te=Hi(),Es=!0;var e,t;for(pr.sort(function(s,o){return s.id-o.id}),gr=0;gr<pr.length;gr++)e=pr[gr],e.before&&e.before(),t=e.id,Dn[t]=null,e.run();var n=pl.slice(),r=pr.slice();Bi(),jc(n),Md(r),Xe&&zt.devtools&&Xe.emit("flush")}function Md(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&jn(r,"updated")}}function gl(e){e._inactive=!1,pl.push(e)}function jc(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Ho(e[t],!0)}function Qt(e){var t=e.id;if(Dn[t]==null){if(Dn[t]=!0,!Es)pr.push(e);else{for(var n=pr.length-1;n>gr&&pr[n].id>e.id;)n--;pr.splice(n+1,0,e)}As||(As=!0,wo(ti))}}var Nd=0,Gn=function(t,n,r,s,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),s?(this.deep=!!s.deep,this.user=!!s.user,this.lazy=!!s.lazy,this.sync=!!s.sync,this.before=s.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++Nd,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ds,this.newDepIds=new ds,this.expression="",typeof n=="function"?this.getter=n:(this.getter=fs(n),this.getter||(this.getter=Yt)),this.value=this.lazy?void 0:this.get()};Gn.prototype.get=function(){ps(this);var t,n=this.vm;try{t=this.getter.call(n,n)}catch(r){if(this.user)Vr(r,n,'getter for watcher "'+this.expression+'"');else throw r}finally{this.deep&&bs(t),An(),this.cleanupDeps()}return t},Gn.prototype.addDep=function(t){var n=t.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(t),this.depIds.has(n)||t.addSub(this))},Gn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var n=this.deps[t];this.newDepIds.has(n.id)||n.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},Gn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qt(this)},Gn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||gt(t)||this.deep){var n=this.value;if(this.value=t,this.user){var r='callback for watcher "'+this.expression+'"';Fi(this.cb,this.vm,[t,n],this.vm,r)}else this.cb.call(this.vm,t,n)}}},Gn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Gn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Gn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||cr(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var vr={enumerable:!0,configurable:!0,get:Yt,set:Yt};function vl(e,t,n){vr.get=function(){return this[t][n]},vr.set=function(s){this[t][n]=s},Object.defineProperty(e,n,vr)}function Gc(e){e._watchers=[];var t=e.$options;t.props&&Bd(e,t.props),t.methods&&$d(e,t.methods),t.data?Hd(e):Or(e._data={},!0),t.computed&&rn(e,t.computed),t.watch&&t.watch!==io&&Wd(e,t.watch)}function Bd(e,t){var n=e.$options.propsData||{},r=e._props={},s=e.$options._propKeys=[],o=!e.$parent;o||Tr(!1);var l=function(f){s.push(f);var m=qa(f,t,n,e);if(!1)var _;else Dr(r,f,m);f in e||vl(e,"_props",f)};for(var u in t)l(u);Tr(!0)}function Hd(e){var t=e.$options.data;t=e._data=typeof t=="function"?Ud(t,e):t||{},Lt(t)||(t={});for(var n=Object.keys(t),r=e.$options.props,s=e.$options.methods,o=n.length;o--;){var l=n[o];r&&At(r,l)||hc(l)||vl(e,"_data",l)}Or(t,!0)}function Ud(e,t){ps();try{return e.call(t,t)}catch(n){return Vr(n,t,"data()"),{}}finally{An()}}var mr={lazy:!0};function rn(e,t){var n=e._computedWatchers=Object.create(null),r=Zt();for(var s in t){var o=t[s],l=typeof o=="function"?o:o.get;r||(n[s]=new Gn(e,l||Yt,Yt,mr)),s in e||Uo(e,s,o)}}function Uo(e,t,n){var r=!Zt();typeof n=="function"?(vr.get=r?Kc(t):$o(n),vr.set=Yt):(vr.get=n.get?r&&n.cache!==!1?Kc(t):$o(n.get):Yt,vr.set=n.set||Yt),Object.defineProperty(e,t,vr)}function Kc(e){return function(){var n=this._computedWatchers&&this._computedWatchers[e];if(n)return n.dirty&&n.evaluate(),_n.target&&n.depend(),n.value}}function $o(e){return function(){return e.call(this,this)}}function $d(e,t){var n=e.$options.props;for(var r in t)e[r]=typeof t[r]!="function"?Yt:Kr(t[r],e)}function Wd(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var s=0;s<r.length;s++)ni(e,n,r[s]);else ni(e,n,r)}}function ni(e,t,n,r){return Lt(n)&&(r=n,n=n.handler),typeof n=="string"&&(n=e[n]),e.$watch(t,n,r)}function Xc(e){var t={};t.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ja,e.prototype.$delete=dc,e.prototype.$watch=function(r,s,o){var l=this;if(Lt(s))return ni(l,r,s,o);o=o||{},o.user=!0;var u=new Gn(l,r,s,o);if(o.immediate){var f='callback for immediate watcher "'+u.expression+'"';ps(),Fi(s,l,[u.value],l,f),An()}return function(){u.teardown()}}}var Yc=0;function zd(e){e.prototype._init=function(t){var n=this;n._uid=Yc++;var r,s;n._isVue=!0,t&&t._isComponent?jd(n,t):n.$options=dn(ml(n.constructor),t||{},n),n._renderProxy=n,n._self=n,$c(n),Hc(n),Nc(n),jn(n,"beforeCreate"),xs(n),Gc(n),Pd(n),jn(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}function jd(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var s=r.componentOptions;n.propsData=s.propsData,n._parentListeners=s.listeners,n._renderChildren=s.children,n._componentTag=s.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function ml(e){var t=e.options;if(e.super){var n=ml(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var s=Gd(e);s&&it(e.extendOptions,s),t=e.options=dn(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Gd(e){var t,n=e.options,r=e.sealedOptions;for(var s in n)n[s]!==r[s]&&(t||(t={}),t[s]=n[s]);return t}function bt(e){this._init(e)}zd(bt),Xc(bt),Bo(bt),fl(bt),Ld(bt);function Zc(e){e.use=function(t){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(t)>-1)return this;var r=Ei(arguments,1);return r.unshift(this),typeof t.install=="function"?t.install.apply(t,r):typeof t=="function"&&t.apply(null,r),n.push(t),this}}function Kd(e){e.mixin=function(t){return this.options=dn(this.options,t),this}}function bl(e){e.cid=0;var t=1;e.extend=function(n){n=n||{};var r=this,s=r.cid,o=n._Ctor||(n._Ctor={});if(o[s])return o[s];var l=n.name||r.options.name,u=function(m){this._init(m)};return u.prototype=Object.create(r.prototype),u.prototype.constructor=u,u.cid=t++,u.options=dn(r.options,n),u.super=r,u.options.props&&Jc(u),u.options.computed&&Ps(u),u.extend=r.extend,u.mixin=r.mixin,u.use=r.use,Et.forEach(function(f){u[f]=r[f]}),l&&(u.options.components[l]=u),u.superOptions=r.options,u.extendOptions=n,u.sealedOptions=it({},u.options),o[s]=u,u}}function Jc(e){var t=e.options.props;for(var n in t)vl(e.prototype,"_props",n)}function Ps(e){var t=e.options.computed;for(var n in t)Uo(e.prototype,n,t[n])}function yl(e){Et.forEach(function(t){e[t]=function(n,r){return r?(t==="component"&&Lt(r)&&(r.name=r.name||n,r=this.options._base.extend(r)),t==="directive"&&typeof r=="function"&&(r={bind:r,update:r}),this.options[t+"s"][n]=r,r):this.options[t+"s"][n]}})}function xl(e){return e&&(e.Ctor.options.name||e.tag)}function Is(e,t){return Array.isArray(e)?e.indexOf(t)>-1:typeof e=="string"?e.split(",").indexOf(t)>-1:ls(e)?e.test(t):!1}function Ts(e,t){var n=e.cache,r=e.keys,s=e._vnode;for(var o in n){var l=n[o];if(l){var u=l.name;u&&!t(u)&&Wo(n,o,r,s)}}}function Wo(e,t,n,r){var s=e[t];s&&(!r||s.tag!==r.tag)&&s.componentInstance.$destroy(),e[t]=null,cr(n,t)}var Kn=[String,RegExp,Array],ri={name:"keep-alive",abstract:!0,props:{include:Kn,exclude:Kn,max:[String,Number]},methods:{cacheVNode:function(){var t=this,n=t.cache,r=t.keys,s=t.vnodeToCache,o=t.keyToCache;if(s){var l=s.tag,u=s.componentInstance,f=s.componentOptions;n[o]={name:xl(f),tag:l,componentInstance:u},r.push(o),this.max&&r.length>parseInt(this.max)&&Wo(n,r[0],r,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Wo(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",function(n){Ts(t,function(r){return Is(n,r)})}),this.$watch("exclude",function(n){Ts(t,function(r){return!Is(n,r)})})},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,n=Bc(t),r=n&&n.componentOptions;if(r){var s=xl(r),o=this,l=o.include,u=o.exclude;if(l&&(!s||!Is(l,s))||u&&s&&Is(u,s))return n;var f=this,m=f.cache,_=f.keys,P=n.key==null?r.Ctor.cid+(r.tag?"::"+r.tag:""):n.key;m[P]?(n.componentInstance=m[P].componentInstance,cr(_,P),_.push(P)):(this.vnodeToCache=n,this.keyToCache=P),n.data.keepAlive=!0}return n||t&&t[0]}},Xd={KeepAlive:ri};function Qc(e){var t={};t.get=function(){return zt},Object.defineProperty(e,"config",t),e.util={warn:$t,extend:it,mergeOptions:dn,defineReactive:Dr},e.set=Ja,e.delete=dc,e.nextTick=wo,e.observable=function(n){return Or(n),n},e.options=Object.create(null),Et.forEach(function(n){e.options[n+"s"]=Object.create(null)}),e.options._base=e,it(e.options.components,Xd),Zc(e),Kd(e),bl(e),yl(e)}Qc(bt),Object.defineProperty(bt.prototype,"$isServer",{get:Zt}),Object.defineProperty(bt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(bt,"FunctionalRenderContext",{value:Oo}),bt.version="2.6.14";var Yd=Rt("style,class"),Zd=Rt("input,textarea,option,select,progress"),Vc=function(e,t,n){return n==="value"&&Zd(e)&&t!=="button"||n==="selected"&&e==="option"||n==="checked"&&e==="input"||n==="muted"&&e==="video"},qc=Rt("contenteditable,draggable,spellcheck"),Jd=Rt("events,caret,typing,plaintext-only"),Qd=function(e,t){return zo(t)||t==="false"?"false":e==="contenteditable"&&Jd(t)?t:"true"},Vd=Rt("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),wl="http://www.w3.org/1999/xlink",Sl=function(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"},eh=function(e){return Sl(e)?e.slice(6,e.length):""},zo=function(e){return e==null||e===!1};function th(e){for(var t=e.data,n=e,r=e;V(r.componentInstance);)r=r.componentInstance._vnode,r&&r.data&&(t=_l(r.data,t));for(;V(n=n.parent);)n&&n.data&&(t=_l(t,n.data));return nh(t.staticClass,t.class)}function _l(e,t){return{staticClass:Al(e.staticClass,t.staticClass),class:V(e.class)?[e.class,t.class]:t.class}}function nh(e,t){return V(e)||V(t)?Al(e,El(t)):""}function Al(e,t){return e?t?e+" "+t:e:t||""}function El(e){return Array.isArray(e)?qd(e):gt(e)?rh(e):typeof e=="string"?e:""}function qd(e){for(var t="",n,r=0,s=e.length;r<s;r++)V(n=El(e[r]))&&n!==""&&(t&&(t+=" "),t+=n);return t}function rh(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var ep={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},tp=Rt("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Cl=Rt("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),np=function(e){return e==="pre"},Pl=function(e){return tp(e)||Cl(e)};function ih(e){if(Cl(e))return"svg";if(e==="math")return"math"}var sn=Object.create(null);function rp(e){if(!Ft)return!0;if(Pl(e))return!1;if(e=e.toLowerCase(),sn[e]!=null)return sn[e];var t=document.createElement(e);return e.indexOf("-")>-1?sn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:sn[e]=/HTMLUnknownElement/.test(t.toString())}var Il=Rt("text,number,password,search,email,tel,url");function Tl(e){if(typeof e=="string"){var t=document.querySelector(e);return t||document.createElement("div")}else return e}function sh(e,t){var n=document.createElement(e);return e!=="select"||t.data&&t.data.attrs&&t.data.attrs.multiple!==void 0&&n.setAttribute("multiple","multiple"),n}function ip(e,t){return document.createElementNS(ep[e],t)}function sp(e){return document.createTextNode(e)}function op(e){return document.createComment(e)}function ap(e,t,n){e.insertBefore(t,n)}function Ol(e,t){e.removeChild(t)}function lp(e,t){e.appendChild(t)}function up(e){return e.parentNode}function cp(e){return e.nextSibling}function hp(e){return e.tagName}function fp(e,t){e.textContent=t}function dp(e,t){e.setAttribute(t,"")}var pp=Object.freeze({createElement:sh,createElementNS:ip,createTextNode:sp,createComment:op,insertBefore:ap,removeChild:Ol,appendChild:lp,parentNode:up,nextSibling:cp,tagName:hp,setTextContent:fp,setStyleScope:dp}),gp={create:function(t,n){Ui(n)},update:function(t,n){t.data.ref!==n.data.ref&&(Ui(t,!0),Ui(n))},destroy:function(t){Ui(t,!0)}};function Ui(e,t){var n=e.data.ref;if(!!V(n)){var r=e.context,s=e.componentInstance||e.elm,o=r.$refs;t?Array.isArray(o[n])?cr(o[n],s):o[n]===s&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(s)<0&&o[n].push(s):o[n]=[s]:o[n]=s}}var ii=new hn("",{},[]),Os=["create","activate","update","remove","destroy"];function si(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&V(e.data)===V(t.data)&&vp(e,t)||ke(e.isAsyncPlaceholder)&&me(t.asyncFactory.error))}function vp(e,t){if(e.tag!=="input")return!0;var n,r=V(n=e.data)&&V(n=n.attrs)&&n.type,s=V(n=t.data)&&V(n=n.attrs)&&n.type;return r===s||Il(r)&&Il(s)}function mp(e,t,n){var r,s,o={};for(r=t;r<=n;++r)s=e[r].key,V(s)&&(o[s]=r);return o}function bp(e){var t,n,r={},s=e.modules,o=e.nodeOps;for(t=0;t<Os.length;++t)for(r[Os[t]]=[],n=0;n<s.length;++n)V(s[n][Os[t]])&&r[Os[t]].push(s[n][Os[t]]);function l(ee){return new hn(o.tagName(ee).toLowerCase(),{},[],void 0,ee)}function u(ee,J){function he(){--he.listeners==0&&f(ee)}return he.listeners=J,he}function f(ee){var J=o.parentNode(ee);V(J)&&o.removeChild(J,ee)}function m(ee,J){return!J&&!ee.ns&&!(zt.ignoredElements.length&&zt.ignoredElements.some(function(he){return ls(he)?he.test(ee.tag):he===ee.tag}))&&zt.isUnknownElement(ee.tag)}var _=0;function P(ee,J,he,Se,He,lt,et){if(V(ee.elm)&&V(lt)&&(ee=lt[et]=Ya(ee)),ee.isRootInsert=!He,!j(ee,J,he,Se)){var tt=ee.data,pt=ee.children,ht=ee.tag;V(ht)?(ee.elm=ee.ns?o.createElementNS(ee.ns,ht):o.createElement(ht,ee),Ve(ee),pe(ee,pt,J),V(tt)&&Oe(ee,J),de(he,ee.elm,Se)):ke(ee.isComment)?(ee.elm=o.createComment(ee.text),de(he,ee.elm,Se)):(ee.elm=o.createTextNode(ee.text),de(he,ee.elm,Se))}}function j(ee,J,he,Se){var He=ee.data;if(V(He)){var lt=V(ee.componentInstance)&&He.keepAlive;if(V(He=He.hook)&&V(He=He.init)&&He(ee,!1),V(ee.componentInstance))return Q(ee,J),de(he,ee.elm,Se),ke(lt)&&oe(ee,J,he,Se),!0}}function Q(ee,J){V(ee.data.pendingInsert)&&(J.push.apply(J,ee.data.pendingInsert),ee.data.pendingInsert=null),ee.elm=ee.componentInstance.$el,we(ee)?(Oe(ee,J),Ve(ee)):(Ui(ee),J.push(ee))}function oe(ee,J,he,Se){for(var He,lt=ee;lt.componentInstance;)if(lt=lt.componentInstance._vnode,V(He=lt.data)&&V(He=He.transition)){for(He=0;He<r.activate.length;++He)r.activate[He](ii,lt);J.push(lt);break}de(he,ee.elm,Se)}function de(ee,J,he){V(ee)&&(V(he)?o.parentNode(he)===ee&&o.insertBefore(ee,J,he):o.appendChild(ee,J))}function pe(ee,J,he){if(Array.isArray(J))for(var Se=0;Se<J.length;++Se)P(J[Se],he,ee.elm,null,!0,J,Se);else as(ee.text)&&o.appendChild(ee.elm,o.createTextNode(String(ee.text)))}function we(ee){for(;ee.componentInstance;)ee=ee.componentInstance._vnode;return V(ee.tag)}function Oe(ee,J){for(var he=0;he<r.create.length;++he)r.create[he](ii,ee);t=ee.data.hook,V(t)&&(V(t.create)&&t.create(ii,ee),V(t.insert)&&J.push(ee))}function Ve(ee){var J;if(V(J=ee.fnScopeId))o.setStyleScope(ee.elm,J);else for(var he=ee;he;)V(J=he.context)&&V(J=J.$options._scopeId)&&o.setStyleScope(ee.elm,J),he=he.parent;V(J=ei)&&J!==ee.context&&J!==ee.fnContext&&V(J=J.$options._scopeId)&&o.setStyleScope(ee.elm,J)}function qe(ee,J,he,Se,He,lt){for(;Se<=He;++Se)P(he[Se],lt,ee,J,!1,he,Se)}function st(ee){var J,he,Se=ee.data;if(V(Se))for(V(J=Se.hook)&&V(J=J.destroy)&&J(ee),J=0;J<r.destroy.length;++J)r.destroy[J](ee);if(V(J=ee.children))for(he=0;he<ee.children.length;++he)st(ee.children[he])}function _e(ee,J,he){for(;J<=he;++J){var Se=ee[J];V(Se)&&(V(Se.tag)?(ze(Se),st(Se)):f(Se.elm))}}function ze(ee,J){if(V(J)||V(ee.data)){var he,Se=r.remove.length+1;for(V(J)?J.listeners+=Se:J=u(ee.elm,Se),V(he=ee.componentInstance)&&V(he=he._vnode)&&V(he.data)&&ze(he,J),he=0;he<r.remove.length;++he)r.remove[he](ee,J);V(he=ee.data.hook)&&V(he=he.remove)?he(ee,J):J()}else f(ee.elm)}function Nr(ee,J,he,Se,He){for(var lt=0,et=0,tt=J.length-1,pt=J[0],ht=J[tt],ft=he.length-1,Xt=he[0],sr=he[ft],Bs,Qi,Vi,rm,lv=!He;lt<=tt&&et<=ft;)me(pt)?pt=J[++lt]:me(ht)?ht=J[--tt]:si(pt,Xt)?(at(pt,Xt,Se,he,et),pt=J[++lt],Xt=he[++et]):si(ht,sr)?(at(ht,sr,Se,he,ft),ht=J[--tt],sr=he[--ft]):si(pt,sr)?(at(pt,sr,Se,he,ft),lv&&o.insertBefore(ee,pt.elm,o.nextSibling(ht.elm)),pt=J[++lt],sr=he[--ft]):si(ht,Xt)?(at(ht,Xt,Se,he,et),lv&&o.insertBefore(ee,ht.elm,pt.elm),ht=J[--tt],Xt=he[++et]):(me(Bs)&&(Bs=mp(J,lt,tt)),Qi=V(Xt.key)?Bs[Xt.key]:Br(Xt,J,lt,tt),me(Qi)?P(Xt,Se,ee,pt.elm,!1,he,et):(Vi=J[Qi],si(Vi,Xt)?(at(Vi,Xt,Se,he,et),J[Qi]=void 0,lv&&o.insertBefore(ee,Vi.elm,pt.elm)):P(Xt,Se,ee,pt.elm,!1,he,et)),Xt=he[++et]);lt>tt?(rm=me(he[ft+1])?null:he[ft+1].elm,qe(ee,rm,he,et,ft,Se)):et>ft&&_e(J,lt,tt)}function bu(ee){for(var J={},he=0;he<ee.length;he++){var Se=ee[he],He=Se.key;V(He)&&(J[He]?$t("Duplicate keys detected: '"+He+"'. This may cause an update error.",Se.context):J[He]=!0)}}function Br(ee,J,he,Se){for(var He=he;He<Se;He++){var lt=J[He];if(V(lt)&&si(ee,lt))return He}}function at(ee,J,he,Se,He,lt){if(ee!==J){V(J.elm)&&V(Se)&&(J=Se[He]=Ya(J));var et=J.elm=ee.elm;if(ke(ee.isAsyncPlaceholder)){V(J.asyncFactory.resolved)?Mn(ee.elm,J,he):J.isAsyncPlaceholder=!0;return}if(ke(J.isStatic)&&ke(ee.isStatic)&&J.key===ee.key&&(ke(J.isCloned)||ke(J.isOnce))){J.componentInstance=ee.componentInstance;return}var tt,pt=J.data;V(pt)&&V(tt=pt.hook)&&V(tt=tt.prepatch)&&tt(ee,J);var ht=ee.children,ft=J.children;if(V(pt)&&we(J)){for(tt=0;tt<r.update.length;++tt)r.update[tt](ee,J);V(tt=pt.hook)&&V(tt=tt.update)&&tt(ee,J)}me(J.text)?V(ht)&&V(ft)?ht!==ft&&Nr(et,ht,ft,he,lt):V(ft)?(V(ee.text)&&o.setTextContent(et,""),qe(et,null,ft,0,ft.length-1,he)):V(ht)?_e(ht,0,ht.length-1):V(ee.text)&&o.setTextContent(et,""):ee.text!==J.text&&o.setTextContent(et,J.text),V(pt)&&V(tt=pt.hook)&&V(tt=tt.postpatch)&&tt(ee,J)}}function Je(ee,J,he){if(ke(he)&&V(ee.parent))ee.parent.data.pendingInsert=J;else for(var Se=0;Se<J.length;++Se)J[Se].data.hook.insert(J[Se])}var Kt=!1,Pt=Rt("attrs,class,staticClass,staticStyle,key");function Mn(ee,J,he,Se){var He,lt=J.tag,et=J.data,tt=J.children;if(Se=Se||et&&et.pre,J.elm=ee,ke(J.isComment)&&V(J.asyncFactory))return J.isAsyncPlaceholder=!0,!0;if(V(et)&&(V(He=et.hook)&&V(He=He.init)&&He(J,!0),V(He=J.componentInstance)))return Q(J,he),!0;if(V(lt)){if(V(tt))if(!ee.hasChildNodes())pe(J,tt,he);else if(V(He=et)&&V(He=He.domProps)&&V(He=He.innerHTML)){if(He!==ee.innerHTML)return!1}else{for(var pt=!0,ht=ee.firstChild,ft=0;ft<tt.length;ft++){if(!ht||!Mn(ht,tt[ft],he,Se)){pt=!1;break}ht=ht.nextSibling}if(!pt||ht)return!1}if(V(et)){var Xt=!1;for(var sr in et)if(!Pt(sr)){Xt=!0,Oe(J,he);break}!Xt&&et.class&&bs(et.class)}}else ee.data!==J.text&&(ee.data=J.text);return!0}function Yn(ee,J,he){return V(J.tag)?J.tag.indexOf("vue-component")===0||!m(J,he)&&J.tag.toLowerCase()===(ee.tagName&&ee.tagName.toLowerCase()):ee.nodeType===(J.isComment?8:3)}return function(J,he,Se,He){if(me(he)){V(J)&&st(J);return}var lt=!1,et=[];if(me(J))lt=!0,P(he,et);else{var tt=V(J.nodeType);if(!tt&&si(J,he))at(J,he,et,null,null,He);else{if(tt){if(J.nodeType===1&&J.hasAttribute(cc)&&(J.removeAttribute(cc),Se=!0),ke(Se)&&Mn(J,he,et))return Je(he,et,!0),J;J=l(J)}var pt=J.elm,ht=o.parentNode(pt);if(P(he,et,pt._leaveCb?null:ht,o.nextSibling(pt)),V(he.parent))for(var ft=he.parent,Xt=we(he);ft;){for(var sr=0;sr<r.destroy.length;++sr)r.destroy[sr](ft);if(ft.elm=he.elm,Xt){for(var Bs=0;Bs<r.create.length;++Bs)r.create[Bs](ii,ft);var Qi=ft.data.hook.insert;if(Qi.merged)for(var Vi=1;Vi<Qi.fns.length;Vi++)Qi.fns[Vi]()}else Ui(ft);ft=ft.parent}V(ht)?_e([J],0,0):V(J.tag)&&st(J)}}return Je(he,et,lt),he.elm}}var yp={create:Dl,update:Dl,destroy:function(t){Dl(t,ii)}};function Dl(e,t){(e.data.directives||t.data.directives)&&xp(e,t)}function xp(e,t){var n=e===ii,r=t===ii,s=oh(e.data.directives,e.context),o=oh(t.data.directives,t.context),l=[],u=[],f,m,_;for(f in o)m=s[f],_=o[f],m?(_.oldValue=m.value,_.oldArg=m.arg,$i(_,"update",t,e),_.def&&_.def.componentUpdated&&u.push(_)):($i(_,"bind",t,e),_.def&&_.def.inserted&&l.push(_));if(l.length){var P=function(){for(var j=0;j<l.length;j++)$i(l[j],"inserted",t,e)};n?nr(t,"insert",P):P()}if(u.length&&nr(t,"postpatch",function(){for(var j=0;j<u.length;j++)$i(u[j],"componentUpdated",t,e)}),!n)for(f in s)o[f]||$i(s[f],"unbind",e,e,r)}var wp=Object.create(null);function oh(e,t){var n=Object.create(null);if(!e)return n;var r,s;for(r=0;r<e.length;r++)s=e[r],s.modifiers||(s.modifiers=wp),n[Ll(s)]=s,s.def=ho(t.$options,"directives",s.name,!0);return n}function Ll(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function $i(e,t,n,r,s){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,s)}catch(l){Vr(l,n.context,"directive "+e.name+" "+t+" hook")}}var Sp=[gp,yp];function ah(e,t){var n=t.componentOptions;if(!(V(n)&&n.Ctor.options.inheritAttrs===!1)&&!(me(e.data.attrs)&&me(t.data.attrs))){var r,s,o,l=t.elm,u=e.data.attrs||{},f=t.data.attrs||{};V(f.__ob__)&&(f=t.data.attrs=it({},f));for(r in f)s=f[r],o=u[r],o!==s&&lh(l,r,s,t.data.pre);(Sn||Ka)&&f.value!==u.value&&lh(l,"value",f.value);for(r in u)me(f[r])&&(Sl(r)?l.removeAttributeNS(wl,eh(r)):qc(r)||l.removeAttribute(r))}}function lh(e,t,n,r){r||e.tagName.indexOf("-")>-1?uh(e,t,n):Vd(t)?zo(n)?e.removeAttribute(t):(n=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t,e.setAttribute(t,n)):qc(t)?e.setAttribute(t,Qd(t,n)):Sl(t)?zo(n)?e.removeAttributeNS(wl,eh(t)):e.setAttributeNS(wl,t,n):uh(e,t,n)}function uh(e,t,n){if(zo(n))e.removeAttribute(t);else{if(Sn&&!Ii&&e.tagName==="TEXTAREA"&&t==="placeholder"&&n!==""&&!e.__ieph){var r=function(s){s.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var _p={create:ah,update:ah};function ch(e,t){var n=t.elm,r=t.data,s=e.data;if(!(me(r.staticClass)&&me(r.class)&&(me(s)||me(s.staticClass)&&me(s.class)))){var o=th(t),l=n._transitionClasses;V(l)&&(o=Al(o,El(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var Ap={create:ch,update:ch},Ep=/[\w).+\-_$\]]/;function jo(e){var t=!1,n=!1,r=!1,s=!1,o=0,l=0,u=0,f=0,m,_,P,j,Q;for(P=0;P<e.length;P++)if(_=m,m=e.charCodeAt(P),t)m===39&&_!==92&&(t=!1);else if(n)m===34&&_!==92&&(n=!1);else if(r)m===96&&_!==92&&(r=!1);else if(s)m===47&&_!==92&&(s=!1);else if(m===124&&e.charCodeAt(P+1)!==124&&e.charCodeAt(P-1)!==124&&!o&&!l&&!u)j===void 0?(f=P+1,j=e.slice(0,P).trim()):pe();else{switch(m){case 34:n=!0;break;case 39:t=!0;break;case 96:r=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(m===47){for(var oe=P-1,de=void 0;oe>=0&&(de=e.charAt(oe),de===" ");oe--);(!de||!Ep.test(de))&&(s=!0)}}j===void 0?j=e.slice(0,P).trim():f!==0&&pe();function pe(){(Q||(Q=[])).push(e.slice(f,P).trim()),f=P+1}if(Q)for(P=0;P<Q.length;P++)j=Cp(j,Q[P]);return j}function Cp(e,t){var n=t.indexOf("(");if(n<0)return'_f("'+t+'")('+e+")";var r=t.slice(0,n),s=t.slice(n+1);return'_f("'+r+'")('+e+(s!==")"?","+s:s)}function oi(e,t){console.error("[Vue compiler]: "+e)}function Ds(e,t){return e?e.map(function(n){return n[t]}).filter(function(n){return n}):[]}function ai(e,t,n,r,s){(e.props||(e.props=[])).push(Ls({name:t,value:n,dynamic:s},r)),e.plain=!1}function Rl(e,t,n,r,s){var o=s?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[]);o.push(Ls({name:t,value:n,dynamic:s},r)),e.plain=!1}function Fl(e,t,n,r){e.attrsMap[t]=n,e.attrsList.push(Ls({name:t,value:n},r))}function Pp(e,t,n,r,s,o,l,u){(e.directives||(e.directives=[])).push(Ls({name:t,rawName:n,value:r,arg:s,isDynamicArg:o,modifiers:l},u)),e.plain=!1}function kl(e,t,n){return n?"_p("+t+',"'+e+'")':e+t}function br(e,t,n,r,s,o,l,u){r=r||Ie,r.right?u?t="("+t+")==='click'?'contextmenu':("+t+")":t==="click"&&(t="contextmenu",delete r.right):r.middle&&(u?t="("+t+")==='click'?'mouseup':("+t+")":t==="click"&&(t="mouseup")),r.capture&&(delete r.capture,t=kl("!",t,u)),r.once&&(delete r.once,t=kl("~",t,u)),r.passive&&(delete r.passive,t=kl("&",t,u));var f;r.native?(delete r.native,f=e.nativeEvents||(e.nativeEvents={})):f=e.events||(e.events={});var m=Ls({value:n.trim(),dynamic:u},l);r!==Ie&&(m.modifiers=r);var _=f[t];Array.isArray(_)?s?_.unshift(m):_.push(m):_?f[t]=s?[m,_]:[_,m]:f[t]=m,e.plain=!1}function Ip(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}function Ln(e,t,n){var r=kt(e,":"+t)||kt(e,"v-bind:"+t);if(r!=null)return jo(r);if(n!==!1){var s=kt(e,t);if(s!=null)return JSON.stringify(s)}}function kt(e,t,n){var r;if((r=e.attrsMap[t])!=null){for(var s=e.attrsList,o=0,l=s.length;o<l;o++)if(s[o].name===t){s.splice(o,1);break}}return n&&delete e.attrsMap[t],r}function hh(e,t){for(var n=e.attrsList,r=0,s=n.length;r<s;r++){var o=n[r];if(t.test(o.name))return n.splice(r,1),o}}function Ls(e,t){return t&&(t.start!=null&&(e.start=t.start),t.end!=null&&(e.end=t.end)),e}function fh(e,t,n){var r=n||{},s=r.number,o=r.trim,l="$$v",u=l;o&&(u="(typeof "+l+" === 'string'? "+l+".trim(): "+l+")"),s&&(u="_n("+u+")");var f=Fr(t,u);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ("+l+") {"+f+"}"}}function Fr(e,t){var n=Tp(e);return n.key===null?e+"="+t:"$set("+n.exp+", "+n.key+", "+t+")"}var Ml,dh,Wi,ir,Go,Nl;function Tp(e){if(e=e.trim(),Ml=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<Ml-1)return ir=e.lastIndexOf("."),ir>-1?{exp:e.slice(0,ir),key:'"'+e.slice(ir+1)+'"'}:{exp:e,key:null};for(dh=e,ir=Go=Nl=0;!zi();)Wi=Bl(),ph(Wi)?gh(Wi):Wi===91&&Op(Wi);return{exp:e.slice(0,Go),key:e.slice(Go+1,Nl)}}function Bl(){return dh.charCodeAt(++ir)}function zi(){return ir>=Ml}function ph(e){return e===34||e===39}function Op(e){var t=1;for(Go=ir;!zi();){if(e=Bl(),ph(e)){gh(e);continue}if(e===91&&t++,e===93&&t--,t===0){Nl=ir;break}}}function gh(e){for(var t=e;!zi()&&(e=Bl(),e!==t););}var Dp,Ko="__r",Hl="__c";function Lp(e,t,n){Dp=n;var r=t.value,s=t.modifiers,o=e.tag,l=e.attrsMap.type;if(e.component)return fh(e,r,s),!1;if(o==="select")kp(e,r,s);else if(o==="input"&&l==="checkbox")Rp(e,r,s);else if(o==="input"&&l==="radio")Fp(e,r,s);else if(o==="input"||o==="textarea")Mp(e,r,s);else if(!zt.isReservedTag(o))return fh(e,r,s),!1;return!0}function Rp(e,t,n){var r=n&&n.number,s=Ln(e,"value")||"null",o=Ln(e,"true-value")||"true",l=Ln(e,"false-value")||"false";ai(e,"checked","Array.isArray("+t+")?_i("+t+","+s+")>-1"+(o==="true"?":("+t+")":":_q("+t+","+o+")")),br(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+l+");if(Array.isArray($$a)){var $$v="+(r?"_n("+s+")":s)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Fr(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Fr(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Fr(t,"$$c")+"}",null,!0)}function Fp(e,t,n){var r=n&&n.number,s=Ln(e,"value")||"null";s=r?"_n("+s+")":s,ai(e,"checked","_q("+t+","+s+")"),br(e,"change",Fr(t,s),null,!0)}function kp(e,t,n){var r=n&&n.number,s='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",l="var $$selectedVal = "+s+";";l=l+" "+Fr(t,o),br(e,"change",l,null,!0)}function Mp(e,t,n){var r=e.attrsMap.type;if(!1)var s,o,l;var u=n||{},f=u.lazy,m=u.number,_=u.trim,P=!f&&r!=="range",j=f?"change":r==="range"?Ko:"input",Q="$event.target.value";_&&(Q="$event.target.value.trim()"),m&&(Q="_n("+Q+")");var oe=Fr(t,Q);P&&(oe="if($event.target.composing)return;"+oe),ai(e,"value","("+t+")"),br(e,j,oe,null,!0),(_||m)&&br(e,"blur","$forceUpdate()")}function Xo(e){if(V(e[Ko])){var t=Sn?"change":"input";e[t]=[].concat(e[Ko],e[t]||[]),delete e[Ko]}V(e[Hl])&&(e.change=[].concat(e[Hl],e.change||[]),delete e[Hl])}var Rs;function vh(e,t,n){var r=Rs;return function s(){var o=t.apply(null,arguments);o!==null&&$l(e,s,n,r)}}var mh=nl&&!(Ti&&Number(Ti[1])<=53);function Ul(e,t,n,r){if(mh){var s=Te,o=t;t=o._wrapper=function(l){if(l.target===l.currentTarget||l.timeStamp>=s||l.timeStamp<=0||l.target.ownerDocument!==document)return o.apply(this,arguments)}}Rs.addEventListener(e,t,x?{capture:n,passive:r}:n)}function $l(e,t,n,r){(r||Rs).removeEventListener(e,t._wrapper||t,n)}function Wl(e,t){if(!(me(e.data.on)&&me(t.data.on))){var n=t.data.on||{},r=e.data.on||{};Rs=t.elm,Xo(n),Ac(n,r,Ul,$l,vh,t.context),Rs=void 0}}var bh={create:Wl,update:Wl},Fs;function yh(e,t){if(!(me(e.data.domProps)&&me(t.data.domProps))){var n,r,s=t.elm,o=e.data.domProps||{},l=t.data.domProps||{};V(l.__ob__)&&(l=t.data.domProps=it({},l));for(n in o)n in l||(s[n]="");for(n in l){if(r=l[n],n==="textContent"||n==="innerHTML"){if(t.children&&(t.children.length=0),r===o[n])continue;s.childNodes.length===1&&s.removeChild(s.childNodes[0])}if(n==="value"&&s.tagName!=="PROGRESS"){s._value=r;var u=me(r)?"":String(r);Np(s,u)&&(s.value=u)}else if(n==="innerHTML"&&Cl(s.tagName)&&me(s.innerHTML)){Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+r+"</svg>";for(var f=Fs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;f.firstChild;)s.appendChild(f.firstChild)}else if(r!==o[n])try{s[n]=r}catch(m){}}}}function Np(e,t){return!e.composing&&(e.tagName==="OPTION"||Bp(e,t)||Yo(e,t))}function Bp(e,t){var n=!0;try{n=document.activeElement!==e}catch(r){}return n&&e.value!==t}function Yo(e,t){var n=e.value,r=e._vModifiers;if(V(r)){if(r.number)return Ai(n)!==Ai(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var Zo={create:yh,update:yh},xh=cn(function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach(function(s){if(s){var o=s.split(r);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t});function zl(e){var t=Jo(e.style);return e.staticStyle?it(e.staticStyle,t):t}function Jo(e){return Array.isArray(e)?uc(e):typeof e=="string"?xh(e):e}function wh(e,t){var n={},r;if(t)for(var s=e;s.componentInstance;)s=s.componentInstance._vnode,s&&s.data&&(r=zl(s.data))&&it(n,r);(r=zl(e.data))&&it(n,r);for(var o=e;o=o.parent;)o.data&&(r=zl(o.data))&&it(n,r);return n}var Hp=/^--/,Sh=/\s*!important$/,_h=function(e,t,n){if(Hp.test(t))e.style.setProperty(t,n);else if(Sh.test(n))e.style.setProperty(tr(t),n.replace(Sh,""),"important");else{var r=Up(t);if(Array.isArray(n))for(var s=0,o=n.length;s<o;s++)e.style[r]=n[s];else e.style[r]=n}},Ah=["Webkit","Moz","ms"],Qo,Up=cn(function(e){if(Qo=Qo||document.createElement("div").style,e=tn(e),e!=="filter"&&e in Qo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Ah.length;n++){var r=Ah[n]+t;if(r in Qo)return r}});function Eh(e,t){var n=t.data,r=e.data;if(!(me(n.staticStyle)&&me(n.style)&&me(r.staticStyle)&&me(r.style))){var s,o,l=t.elm,u=r.staticStyle,f=r.normalizedStyle||r.style||{},m=u||f,_=Jo(t.data.style)||{};t.data.normalizedStyle=V(_.__ob__)?it({},_):_;var P=wh(t,!0);for(o in m)me(P[o])&&_h(l,o,"");for(o in P)s=P[o],s!==m[o]&&_h(l,o,s==null?"":s)}}var $p={create:Eh,update:Eh},Ch=/\s+/;function Ph(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(Ch).forEach(function(r){return e.classList.add(r)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Ih(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(Ch).forEach(function(s){return e.classList.remove(s)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Th(e){if(!!e){if(typeof e=="object"){var t={};return e.css!==!1&&it(t,Rn(e.name||"v")),it(t,e),t}else if(typeof e=="string")return Rn(e)}}var Rn=cn(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),Oh=Ft&&!Ii,ji="transition",yr="animation",Ne="transition",Vo="transitionend",Vt="animation",Ct="animationend";Oh&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(Ne="WebkitTransition",Vo="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(Vt="WebkitAnimation",Ct="webkitAnimationEnd"));var Dh=Ft?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function xr(e){Dh(function(){Dh(e)})}function li(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Ph(e,t))}function wr(e,t){e._transitionClasses&&cr(e._transitionClasses,t),Ih(e,t)}function Lh(e,t,n){var r=Rh(e,t),s=r.type,o=r.timeout,l=r.propCount;if(!s)return n();var u=s===ji?Vo:Ct,f=0,m=function(){e.removeEventListener(u,_),n()},_=function(P){P.target===e&&++f>=l&&m()};setTimeout(function(){f<l&&m()},o+1),e.addEventListener(u,_)}var Wp=/\b(transform|all)(,|$)/;function Rh(e,t){var n=window.getComputedStyle(e),r=(n[Ne+"Delay"]||"").split(", "),s=(n[Ne+"Duration"]||"").split(", "),o=qo(r,s),l=(n[Vt+"Delay"]||"").split(", "),u=(n[Vt+"Duration"]||"").split(", "),f=qo(l,u),m,_=0,P=0;t===ji?o>0&&(m=ji,_=o,P=s.length):t===yr?f>0&&(m=yr,_=f,P=u.length):(_=Math.max(o,f),m=_>0?o>f?ji:yr:null,P=m?m===ji?s.length:u.length:0);var j=m===ji&&Wp.test(n[Ne+"Property"]);return{type:m,timeout:_,propCount:P,hasTransform:j}}function qo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(n,r){return Fh(n)+Fh(e[r])}))}function Fh(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Xn(e,t){var n=e.elm;V(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Th(e.data.transition);if(!me(r)&&!(V(n._enterCb)||n.nodeType!==1)){for(var s=r.css,o=r.type,l=r.enterClass,u=r.enterToClass,f=r.enterActiveClass,m=r.appearClass,_=r.appearToClass,P=r.appearActiveClass,j=r.beforeEnter,Q=r.enter,oe=r.afterEnter,de=r.enterCancelled,pe=r.beforeAppear,we=r.appear,Oe=r.afterAppear,Ve=r.appearCancelled,qe=r.duration,st=ei,_e=ei.$vnode;_e&&_e.parent;)st=_e.context,_e=_e.parent;var ze=!st._isMounted||!e.isRootInsert;if(!(ze&&!we&&we!=="")){var Nr=ze&&m?m:l,bu=ze&&P?P:f,Br=ze&&_?_:u,at=ze&&pe||j,Je=ze&&typeof we=="function"?we:Q,Kt=ze&&Oe||oe,Pt=ze&&Ve||de,Mn=Ai(gt(qe)?qe.enter:qe),Yn=s!==!1&&!Ii,ee=xt(Je),J=n._enterCb=ro(function(){Yn&&(wr(n,Br),wr(n,bu)),J.cancelled?(Yn&&wr(n,Nr),Pt&&Pt(n)):Kt&&Kt(n),n._enterCb=null});e.data.show||nr(e,"insert",function(){var he=n.parentNode,Se=he&&he._pending&&he._pending[e.key];Se&&Se.tag===e.tag&&Se.elm._leaveCb&&Se.elm._leaveCb(),Je&&Je(n,J)}),at&&at(n),Yn&&(li(n,Nr),li(n,bu),xr(function(){wr(n,Nr),J.cancelled||(li(n,Br),ee||(yt(Mn)?setTimeout(J,Mn):Lh(n,o,J)))})),e.data.show&&(t&&t(),Je&&Je(n,J)),!Yn&&!ee&&J()}}}function jl(e,t){var n=e.elm;V(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Th(e.data.transition);if(me(r)||n.nodeType!==1)return t();if(V(n._leaveCb))return;var s=r.css,o=r.type,l=r.leaveClass,u=r.leaveToClass,f=r.leaveActiveClass,m=r.beforeLeave,_=r.leave,P=r.afterLeave,j=r.leaveCancelled,Q=r.delayLeave,oe=r.duration,de=s!==!1&&!Ii,pe=xt(_),we=Ai(gt(oe)?oe.leave:oe),Oe=n._leaveCb=ro(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),de&&(wr(n,u),wr(n,f)),Oe.cancelled?(de&&wr(n,l),j&&j(n)):(t(),P&&P(n)),n._leaveCb=null});Q?Q(Ve):Ve();function Ve(){Oe.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),m&&m(n),de&&(li(n,l),li(n,f),xr(function(){wr(n,l),Oe.cancelled||(li(n,u),pe||(yt(we)?setTimeout(Oe,we):Lh(n,o,Oe)))})),_&&_(n,Oe),!de&&!pe&&Oe())}}function Gl(e,t,n){typeof e!="number"?$t("<transition> explicit "+t+" duration is not a valid number - got "+JSON.stringify(e)+".",n.context):isNaN(e)&&$t("<transition> explicit "+t+" duration is NaN - the duration expression might be incorrect.",n.context)}function yt(e){return typeof e=="number"&&!isNaN(e)}function xt(e){if(me(e))return!1;var t=e.fns;return V(t)?xt(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Kl(e,t){t.data.show!==!0&&Xn(t)}var zp=Ft?{create:Kl,activate:Kl,remove:function(t,n){t.data.show!==!0?jl(t,n):n()}}:{},jp=[_p,Ap,bh,Zo,$p,zp],Gp=jp.concat(Sp),Kp=bp({nodeOps:pp,modules:Gp});Ii&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Xi(e,"input")});var kh={inserted:function(t,n,r,s){r.tag==="select"?(s.elm&&!s.elm._vOptions?nr(r,"postpatch",function(){kh.componentUpdated(t,n,r)}):Mh(t,n,r.context),t._vOptions=[].map.call(t.options,Ki)):(r.tag==="textarea"||Il(t.type))&&(t._vModifiers=n.modifiers,n.modifiers.lazy||(t.addEventListener("compositionstart",Xp),t.addEventListener("compositionend",Yl),t.addEventListener("change",Yl),Ii&&(t.vmodel=!0)))},componentUpdated:function(t,n,r){if(r.tag==="select"){Mh(t,n,r.context);var s=t._vOptions,o=t._vOptions=[].map.call(t.options,Ki);if(o.some(function(u,f){return!Xr(u,s[f])})){var l=t.multiple?n.value.some(function(u){return Gi(u,o)}):n.value!==n.oldValue&&Gi(n.value,o);l&&Xi(t,"change")}}}};function Mh(e,t,n){Xl(e,t,n),(Sn||Ka)&&setTimeout(function(){Xl(e,t,n)},0)}function Xl(e,t,n){var r=t.value,s=e.multiple;if(!(s&&!Array.isArray(r))){for(var o,l,u=0,f=e.options.length;u<f;u++)if(l=e.options[u],s)o=Wa(r,Ki(l))>-1,l.selected!==o&&(l.selected=o);else if(Xr(Ki(l),r)){e.selectedIndex!==u&&(e.selectedIndex=u);return}s||(e.selectedIndex=-1)}}function Gi(e,t){return t.every(function(n){return!Xr(n,e)})}function Ki(e){return"_value"in e?e._value:e.value}function Xp(e){e.target.composing=!0}function Yl(e){!e.target.composing||(e.target.composing=!1,Xi(e.target,"input"))}function Xi(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function on(e){return e.componentInstance&&(!e.data||!e.data.transition)?on(e.componentInstance._vnode):e}var Yi={bind:function(t,n,r){var s=n.value;r=on(r);var o=r.data&&r.data.transition,l=t.__vOriginalDisplay=t.style.display==="none"?"":t.style.display;s&&o?(r.data.show=!0,Xn(r,function(){t.style.display=l})):t.style.display=s?l:"none"},update:function(t,n,r){var s=n.value,o=n.oldValue;if(!s!=!o){r=on(r);var l=r.data&&r.data.transition;l?(r.data.show=!0,s?Xn(r,function(){t.style.display=t.__vOriginalDisplay}):jl(r,function(){t.style.display="none"})):t.style.display=s?t.__vOriginalDisplay:"none"}},unbind:function(t,n,r,s,o){o||(t.style.display=t.__vOriginalDisplay)}},Yp={model:kh,show:Yi},Nh={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Zl(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Zl(Bc(t.children)):e}function Bh(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var s=n._parentListeners;for(var o in s)t[tn(o)]=s[o];return t}function Hh(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Uh(e){for(;e=e.parent;)if(e.data.transition)return!0}function Sr(e,t){return t.key===e.key&&t.tag===e.tag}var Ge=function(e){return e.tag||Jt(e)},$h=function(e){return e.name==="show"},Fn={name:"transition",props:Nh,abstract:!0,render:function(t){var n=this,r=this.$slots.default;if(!!r&&(r=r.filter(Ge),!!r.length)){var s=this.mode,o=r[0];if(Uh(this.$vnode))return o;var l=Zl(o);if(!l)return o;if(this._leaving)return Hh(t,o);var u="__transition-"+this._uid+"-";l.key=l.key==null?l.isComment?u+"comment":u+l.tag:as(l.key)?String(l.key).indexOf(u)===0?l.key:u+l.key:l.key;var f=(l.data||(l.data={})).transition=Bh(this),m=this._vnode,_=Zl(m);if(l.data.directives&&l.data.directives.some($h)&&(l.data.show=!0),_&&_.data&&!Sr(l,_)&&!Jt(_)&&!(_.componentInstance&&_.componentInstance._vnode.isComment)){var P=_.data.transition=it({},f);if(s==="out-in")return this._leaving=!0,nr(P,"afterLeave",function(){n._leaving=!1,n.$forceUpdate()}),Hh(t,o);if(s==="in-out"){if(Jt(l))return m;var j,Q=function(){j()};nr(f,"afterEnter",Q),nr(f,"enterCancelled",Q),nr(P,"delayLeave",function(oe){j=oe})}}return o}}},Jl=it({tag:String,moveClass:String},Nh);delete Jl.mode;var Zp={props:Jl,beforeMount:function(){var t=this,n=this._update;this._update=function(r,s){var o=_s(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),n.call(t,r,s)}},render:function(t){for(var n=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),s=this.prevChildren=this.children,o=this.$slots.default||[],l=this.children=[],u=Bh(this),f=0;f<o.length;f++){var m=o[f];if(m.tag){if(m.key!=null&&String(m.key).indexOf("__vlist")!==0)l.push(m),r[m.key]=m,(m.data||(m.data={})).transition=u;else if(!1)var _,P}}if(s){for(var j=[],Q=[],oe=0;oe<s.length;oe++){var de=s[oe];de.data.transition=u,de.data.pos=de.elm.getBoundingClientRect(),r[de.key]?j.push(de):Q.push(de)}this.kept=t(n,null,j),this.removed=Q}return t(n,null,l)},updated:function(){var t=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";!t.length||!this.hasMove(t[0].elm,n)||(t.forEach(ot),t.forEach(Jp),t.forEach(Wh),this._reflow=document.body.offsetHeight,t.forEach(function(r){if(r.data.moved){var s=r.elm,o=s.style;li(s,n),o.transform=o.WebkitTransform=o.transitionDuration="",s.addEventListener(Vo,s._moveCb=function l(u){u&&u.target!==s||(!u||/transform$/.test(u.propertyName))&&(s.removeEventListener(Vo,l),s._moveCb=null,wr(s,n))})}}))},methods:{hasMove:function(t,n){if(!Oh)return!1;if(this._hasMove)return this._hasMove;var r=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(o){Ih(r,o)}),Ph(r,n),r.style.display="none",this.$el.appendChild(r);var s=Rh(r);return this.$el.removeChild(r),this._hasMove=s.hasTransform}}};function ot(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Jp(e){e.data.newPos=e.elm.getBoundingClientRect()}function Wh(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,s=t.top-n.top;if(r||s){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+s+"px)",o.transitionDuration="0s"}}var ea={Transition:Fn,TransitionGroup:Zp};bt.config.mustUseProp=Vc,bt.config.isReservedTag=Pl,bt.config.isReservedAttr=Yd,bt.config.getTagNamespace=ih,bt.config.isUnknownElement=rp,it(bt.options.directives,Yp),it(bt.options.components,ea),bt.prototype.__patch__=Ft?Kp:Yt,bt.prototype.$mount=function(e,t){return e=e&&Ft?Tl(e):void 0,Fd(this,e,t)},Ft&&setTimeout(function(){zt.devtools&&Xe&&Xe.emit("init",bt)},0);var Qp=/\{\{((?:.|\r?\n)+?)\}\}/g,zh=/[-.*+?^${}()|[\]\/\\]/g,Vp=cn(function(e){var t=e[0].replace(zh,"\\$&"),n=e[1].replace(zh,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+n,"g")});function qp(e,t){var n=t?Vp(t):Qp;if(!!n.test(e)){for(var r=[],s=[],o=n.lastIndex=0,l,u,f;l=n.exec(e);){u=l.index,u>o&&(s.push(f=e.slice(o,u)),r.push(JSON.stringify(f)));var m=jo(l[1].trim());r.push("_s("+m+")"),s.push({"@binding":m}),o=u+l[0].length}return o<e.length&&(s.push(f=e.slice(o)),r.push(JSON.stringify(f))),{expression:r.join("+"),tokens:s}}}function eg(e,t){var n=t.warn||oi,r=kt(e,"class");if(!1)var s;r&&(e.staticClass=JSON.stringify(r));var o=Ln(e,"class",!1);o&&(e.classBinding=o)}function tg(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}var ng={staticKeys:["staticClass"],transformNode:eg,genData:tg};function rg(e,t){var n=t.warn||oi,r=kt(e,"style");if(r){if(!1)var s;e.staticStyle=JSON.stringify(xh(r))}var o=Ln(e,"style",!1);o&&(e.styleBinding=o)}function ig(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}var sg={staticKeys:["staticStyle"],transformNode:rg,genData:ig},ta,og={decode:function(t){return ta=ta||document.createElement("div"),ta.innerHTML=t,ta.textContent}},ag=Rt("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Ql=Rt("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),lg=Rt("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Vl=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ug=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,jh="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+za.source+"]*",Gh="((?:"+jh+"\\:)?"+jh+")",Ht=new RegExp("^<"+Gh),gn=/^\s*(\/?)>/,Kh=new RegExp("^<\\/"+Gh+"[^>]*>"),cg=/^<!DOCTYPE [^>]+>/i,Xh=/^<!\--/,ql=/^<!\[/,Yh=Rt("script,style,textarea",!0),Zh={},hg={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":`
`,"&#9;":"	","&#39;":"'"},Jh=/&(?:lt|gt|quot|amp|#39);/g,fg=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,dg=Rt("pre,textarea",!0),Qh=function(e,t){return e&&dg(e)&&t[0]===`
`};function Vh(e,t){var n=t?fg:Jh;return e.replace(n,function(r){return hg[r]})}function qh(e,t){for(var n=[],r=t.expectHTML,s=t.isUnaryTag||nn,o=t.canBeLeftOpenTag||nn,l=0,u,f;e;){if(u=e,!f||!Yh(f)){var m=e.indexOf("<");if(m===0){if(Xh.test(e)){var _=e.indexOf("-->");if(_>=0){t.shouldKeepComment&&t.comment(e.substring(4,_),l,l+_+3),ze(_+3);continue}}if(ql.test(e)){var P=e.indexOf("]>");if(P>=0){ze(P+2);continue}}var j=e.match(cg);if(j){ze(j[0].length);continue}var Q=e.match(Kh);if(Q){var oe=l;ze(Q[0].length),Br(Q[1],oe,l);continue}var de=Nr();if(de){bu(de),Qh(de.tagName,e)&&ze(1);continue}}var pe=void 0,we=void 0,Oe=void 0;if(m>=0){for(we=e.slice(m);!Kh.test(we)&&!Ht.test(we)&&!Xh.test(we)&&!ql.test(we)&&(Oe=we.indexOf("<",1),!(Oe<0));)m+=Oe,we=e.slice(m);pe=e.substring(0,m)}m<0&&(pe=e),pe&&ze(pe.length),t.chars&&pe&&t.chars(pe,l-pe.length,l)}else{var Ve=0,qe=f.toLowerCase(),st=Zh[qe]||(Zh[qe]=new RegExp("([\\s\\S]*?)(</"+qe+"[^>]*>)","i")),_e=e.replace(st,function(at,Je,Kt){return Ve=Kt.length,!Yh(qe)&&qe!=="noscript"&&(Je=Je.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Qh(qe,Je)&&(Je=Je.slice(1)),t.chars&&t.chars(Je),""});l+=e.length-_e.length,e=_e,Br(qe,l-Ve,l)}if(e===u){t.chars&&t.chars(e);break}}Br();function ze(at){l+=at,e=e.substring(at)}function Nr(){var at=e.match(Ht);if(at){var Je={tagName:at[1],attrs:[],start:l};ze(at[0].length);for(var Kt,Pt;!(Kt=e.match(gn))&&(Pt=e.match(ug)||e.match(Vl));)Pt.start=l,ze(Pt[0].length),Pt.end=l,Je.attrs.push(Pt);if(Kt)return Je.unarySlash=Kt[1],ze(Kt[0].length),Je.end=l,Je}}function bu(at){var Je=at.tagName,Kt=at.unarySlash;r&&(f==="p"&&lg(Je)&&Br(f),o(Je)&&f===Je&&Br(Je));for(var Pt=s(Je)||!!Kt,Mn=at.attrs.length,Yn=new Array(Mn),ee=0;ee<Mn;ee++){var J=at.attrs[ee],he=J[3]||J[4]||J[5]||"",Se=Je==="a"&&J[1]==="href"?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;Yn[ee]={name:J[1],value:Vh(he,Se)}}Pt||(n.push({tag:Je,lowerCasedTag:Je.toLowerCase(),attrs:Yn,start:at.start,end:at.end}),f=Je),t.start&&t.start(Je,Yn,Pt,at.start,at.end)}function Br(at,Je,Kt){var Pt,Mn;if(Je==null&&(Je=l),Kt==null&&(Kt=l),at)for(Mn=at.toLowerCase(),Pt=n.length-1;Pt>=0&&n[Pt].lowerCasedTag!==Mn;Pt--);else Pt=0;if(Pt>=0){for(var Yn=n.length-1;Yn>=Pt;Yn--)t.end&&t.end(n[Yn].tag,Je,Kt);n.length=Pt,f=Pt&&n[Pt-1].tag}else Mn==="br"?t.start&&t.start(at,[],!0,Je,Kt):Mn==="p"&&(t.start&&t.start(at,[],!1,Je,Kt),t.end&&t.end(at,Je,Kt))}}var eu=/^@|^v-on:/,na=/^v-|^@|^:|^#/,pg=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ef=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Zi=/^\(|\)$/g,ra=/^\[.*\]$/,gg=/:(.*)$/,tf=/^:|^\.|^v-bind:/,nf=/\.[^.\]]+(?=[^\]]*$)/g,tu=/^v-slot(:|$)|^#/,rf=/[\r\n]/,sf=/[ \f\t\r\n]+/g,Av=/[\s"'<>\/=]/,vg=cn(og.decode),ia="_empty_",kr,of,nu,ru,iu,su,ou,af,mg;function au(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:Dg(t),rawAttrsMap:{},parent:n,children:[]}}function bg(e,t){kr=t.warn||oi,su=t.isPreTag||nn,ou=t.mustUseProp||nn,af=t.getTagNamespace||nn;var n=t.isReservedTag||nn;mg=function(de){return!!(de.component||de.attrsMap[":is"]||de.attrsMap["v-bind:is"]||!(de.attrsMap.is?n(de.attrsMap.is):n(de.tag)))},nu=Ds(t.modules,"transformNode"),ru=Ds(t.modules,"preTransformNode"),iu=Ds(t.modules,"postTransformNode"),of=t.delimiters;var r=[],s=t.preserveWhitespace!==!1,o=t.whitespace,l,u,f=!1,m=!1,_=!1;function P(de,pe){_||(_=!0,kr(de,pe))}function j(de){if(Q(de),!f&&!de.processed&&(de=sa(de,t)),!r.length&&de!==l&&l.if&&(de.elseif||de.else)&&Ji(l,{exp:de.elseif,block:de}),u&&!de.forbidden)if(de.elseif||de.else)Eg(de,u);else{if(de.slotScope){var pe=de.slotTarget||'"default"';(u.scopedSlots||(u.scopedSlots={}))[pe]=de}u.children.push(de),de.parent=u}de.children=de.children.filter(function(Oe){return!Oe.slotScope}),Q(de),de.pre&&(f=!1),su(de.tag)&&(m=!1);for(var we=0;we<iu.length;we++)iu[we](de,t)}function Q(de){if(!m)for(var pe;(pe=de.children[de.children.length-1])&&pe.type===3&&pe.text===" ";)de.children.pop()}function oe(de){(de.tag==="slot"||de.tag==="template")&&P("Cannot use <"+de.tag+"> as component root element because it may contain multiple nodes.",{start:de.start}),de.attrsMap.hasOwnProperty("v-for")&&P("Cannot use v-for on stateful component root element because it renders multiple elements.",de.rawAttrsMap["v-for"])}return qh(e,{warn:kr,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(pe,we,Oe,Ve,qe){var st=u&&u.ns||af(pe);Sn&&st==="svg"&&(we=Fg(we));var _e=au(pe,we,u);st&&(_e.ns=st),vn(_e)&&!Zt()&&(_e.forbidden=!0);for(var ze=0;ze<ru.length;ze++)_e=ru[ze](_e,t)||_e;f||(yg(_e),_e.pre&&(f=!0)),su(_e.tag)&&(m=!0),f?xg(_e):_e.processed||(lf(_e),Ag(_e),lu(_e)),l||(l=_e),Oe?j(_e):(u=_e,r.push(_e))},end:function(pe,we,Oe){var Ve=r[r.length-1];r.length-=1,u=r[r.length-1],j(Ve)},chars:function(pe,we,Oe){if(!!u&&!(Sn&&u.tag==="textarea"&&u.attrsMap.placeholder===pe)){var Ve=u.children;if(m||pe.trim()?pe=Lg(u)?pe:vg(pe):Ve.length?o?o==="condense"?pe=rf.test(pe)?"":" ":pe=" ":pe=s?" ":"":pe="",pe){!m&&o==="condense"&&(pe=pe.replace(sf," "));var qe,st;!f&&pe!==" "&&(qe=qp(pe,of))?st={type:2,expression:qe.expression,tokens:qe.tokens,text:pe}:(pe!==" "||!Ve.length||Ve[Ve.length-1].text!==" ")&&(st={type:3,text:pe}),st&&Ve.push(st)}}},comment:function(pe,we,Oe){if(u){var Ve={type:3,text:pe,isComment:!0};u.children.push(Ve)}}}),l}function yg(e){kt(e,"v-pre")!=null&&(e.pre=!0)}function xg(e){var t=e.attrsList,n=t.length;if(n)for(var r=e.attrs=new Array(n),s=0;s<n;s++)r[s]={name:t[s].name,value:JSON.stringify(t[s].value)},t[s].start!=null&&(r[s].start=t[s].start,r[s].end=t[s].end);else e.pre||(e.plain=!0)}function sa(e,t){wg(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,Sg(e),uf(e),Pg(e),Ig(e);for(var n=0;n<nu.length;n++)e=nu[n](e,t)||e;return Tg(e),e}function wg(e){var t=Ln(e,"key");if(t){if(!1)var n,r;e.key=t}}function Sg(e){var t=Ln(e,"ref");t&&(e.ref=t,e.refInFor=cu(e))}function lf(e){var t;if(t=kt(e,"v-for")){var n=_g(t);n&&it(e,n)}}function _g(e){var t=e.match(pg);if(!!t){var n={};n.for=t[2].trim();var r=t[1].trim().replace(Zi,""),s=r.match(ef);return s?(n.alias=r.replace(ef,"").trim(),n.iterator1=s[1].trim(),s[2]&&(n.iterator2=s[2].trim())):n.alias=r,n}}function Ag(e){var t=kt(e,"v-if");if(t)e.if=t,Ji(e,{exp:t,block:e});else{kt(e,"v-else")!=null&&(e.else=!0);var n=kt(e,"v-else-if");n&&(e.elseif=n)}}function Eg(e,t){var n=Cg(t.children);n&&n.if&&Ji(n,{exp:e.elseif,block:e})}function Cg(e){for(var t=e.length;t--;){if(e[t].type===1)return e[t];e.pop()}}function Ji(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function lu(e){var t=kt(e,"v-once");t!=null&&(e.once=!0)}function uf(e){var t;e.tag==="template"?(t=kt(e,"scope"),e.slotScope=t||kt(e,"slot-scope")):(t=kt(e,"slot-scope"))&&(e.slotScope=t);var n=Ln(e,"slot");if(n&&(e.slotTarget=n==='""'?'"default"':n,e.slotTargetDynamic=!!(e.attrsMap[":slot"]||e.attrsMap["v-bind:slot"]),e.tag!=="template"&&!e.slotScope&&Rl(e,"slot",n,Ip(e,"slot"))),e.tag==="template"){var r=hh(e,tu);if(r){var s=uu(r),o=s.name,l=s.dynamic;e.slotTarget=o,e.slotTargetDynamic=l,e.slotScope=r.value||ia}}else{var u=hh(e,tu);if(u){var f=e.scopedSlots||(e.scopedSlots={}),m=uu(u),_=m.name,P=m.dynamic,j=f[_]=au("template",[],e);j.slotTarget=_,j.slotTargetDynamic=P,j.children=e.children.filter(function(Q){if(!Q.slotScope)return Q.parent=j,!0}),j.slotScope=u.value||ia,e.children=[],e.plain=!1}}}function uu(e){var t=e.name.replace(tu,"");return t||e.name[0]!=="#"&&(t="default"),ra.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function Pg(e){e.tag==="slot"&&(e.slotName=Ln(e,"name"))}function Ig(e){var t;(t=Ln(e,"is"))&&(e.component=t),kt(e,"inline-template")!=null&&(e.inlineTemplate=!0)}function Tg(e){var t=e.attrsList,n,r,s,o,l,u,f,m;for(n=0,r=t.length;n<r;n++)if(s=o=t[n].name,l=t[n].value,na.test(s))if(e.hasBindings=!0,u=Og(s.replace(na,"")),u&&(s=s.replace(nf,"")),tf.test(s))s=s.replace(tf,""),l=jo(l),m=ra.test(s),m&&(s=s.slice(1,-1)),u&&(u.prop&&!m&&(s=tn(s),s==="innerHtml"&&(s="innerHTML")),u.camel&&!m&&(s=tn(s)),u.sync&&(f=Fr(l,"$event"),m?br(e,'"update:"+('+s+")",f,null,!1,kr,t[n],!0):(br(e,"update:"+tn(s),f,null,!1,kr,t[n]),tr(s)!==tn(s)&&br(e,"update:"+tr(s),f,null,!1,kr,t[n])))),u&&u.prop||!e.component&&ou(e.tag,e.attrsMap.type,s)?ai(e,s,l,t[n],m):Rl(e,s,l,t[n],m);else if(eu.test(s))s=s.replace(eu,""),m=ra.test(s),m&&(s=s.slice(1,-1)),br(e,s,l,u,!1,kr,t[n],m);else{s=s.replace(na,"");var _=s.match(gg),P=_&&_[1];m=!1,P&&(s=s.slice(0,-(P.length+1)),ra.test(P)&&(P=P.slice(1,-1),m=!0)),Pp(e,s,o,l,P,m,u,t[n])}else{if(!1)var j;Rl(e,s,JSON.stringify(l),t[n]),!e.component&&s==="muted"&&ou(e.tag,e.attrsMap.type,s)&&ai(e,s,"true",t[n])}}function cu(e){for(var t=e;t;){if(t.for!==void 0)return!0;t=t.parent}return!1}function Og(e){var t=e.match(nf);if(t){var n={};return t.forEach(function(r){n[r.slice(1)]=!0}),n}}function Dg(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}function Lg(e){return e.tag==="script"||e.tag==="style"}function vn(e){return e.tag==="style"||e.tag==="script"&&(!e.attrsMap.type||e.attrsMap.type==="text/javascript")}var hu=/^xmlns:NS\d+/,Rg=/^NS\d+:/;function Fg(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];hu.test(r.name)||(r.name=r.name.replace(Rg,""),t.push(r))}return t}function Ev(e,t){for(var n=e;n;)n.for&&n.alias===t&&kr("<"+e.tag+' v-model="'+t+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.',e.rawAttrsMap["v-model"]),n=n.parent}function kg(e,t){if(e.tag==="input"){var n=e.attrsMap;if(!n["v-model"])return;var r;if((n[":type"]||n["v-bind:type"])&&(r=Ln(e,"type")),!n.type&&!r&&n["v-bind"]&&(r="("+n["v-bind"]+").type"),r){var s=kt(e,"v-if",!0),o=s?"&&("+s+")":"",l=kt(e,"v-else",!0)!=null,u=kt(e,"v-else-if",!0),f=ks(e);lf(f),Fl(f,"type","checkbox"),sa(f,t),f.processed=!0,f.if="("+r+")==='checkbox'"+o,Ji(f,{exp:f.if,block:f});var m=ks(e);kt(m,"v-for",!0),Fl(m,"type","radio"),sa(m,t),Ji(f,{exp:"("+r+")==='radio'"+o,block:m});var _=ks(e);return kt(_,"v-for",!0),Fl(_,":type",r),sa(_,t),Ji(f,{exp:s,block:_}),l?f.else=!0:u&&(f.elseif=u),f}}}function ks(e){return au(e.tag,e.attrsList.slice(),e.parent)}var Mg={preTransformNode:kg},oa=[ng,sg,Mg];function Ng(e,t){t.value&&ai(e,"textContent","_s("+t.value+")",t)}function Bg(e,t){t.value&&ai(e,"innerHTML","_s("+t.value+")",t)}var Hg={model:Lp,text:Ng,html:Bg},Ug={expectHTML:!0,modules:oa,directives:Hg,isPreTag:np,isUnaryTag:ag,mustUseProp:Vc,canBeLeftOpenTag:Ql,isReservedTag:Pl,getTagNamespace:ih,staticKeys:$a(oa)},fu,du,$g=cn(pu);function Wg(e,t){!e||(fu=$g(t.staticKeys||""),du=t.isReservedTag||nn,Ms(e),gu(e,!1))}function pu(e){return Rt("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))}function Ms(e){if(e.static=zg(e),e.type===1){if(!du(e.tag)&&e.tag!=="slot"&&e.attrsMap["inline-template"]==null)return;for(var t=0,n=e.children.length;t<n;t++){var r=e.children[t];Ms(r),r.static||(e.static=!1)}if(e.ifConditions)for(var s=1,o=e.ifConditions.length;s<o;s++){var l=e.ifConditions[s].block;Ms(l),l.static||(e.static=!1)}}}function gu(e,t){if(e.type===1){if((e.static||e.once)&&(e.staticInFor=t),e.static&&e.children.length&&!(e.children.length===1&&e.children[0].type===3)){e.staticRoot=!0;return}else e.staticRoot=!1;if(e.children)for(var n=0,r=e.children.length;n<r;n++)gu(e.children[n],t||!!e.for);if(e.ifConditions)for(var s=1,o=e.ifConditions.length;s<o;s++)gu(e.ifConditions[s].block,t)}}function zg(e){return e.type===2?!1:e.type===3?!0:!!(e.pre||!e.hasBindings&&!e.if&&!e.for&&!sc(e.tag)&&du(e.tag)&&!jg(e)&&Object.keys(e).every(fu))}function jg(e){for(;e.parent;){if(e=e.parent,e.tag!=="template")return!1;if(e.for)return!0}return!1}var Gg=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Kg=/\([^)]*?\);*$/,cf=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,hf={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Xg={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},_r=function(e){return"if("+e+")return null;"},ff={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:_r("$event.target !== $event.currentTarget"),ctrl:_r("!$event.ctrlKey"),shift:_r("!$event.shiftKey"),alt:_r("!$event.altKey"),meta:_r("!$event.metaKey"),left:_r("'button' in $event && $event.button !== 0"),middle:_r("'button' in $event && $event.button !== 1"),right:_r("'button' in $event && $event.button !== 2")};function df(e,t){var n=t?"nativeOn:":"on:",r="",s="";for(var o in e){var l=pf(e[o]);e[o]&&e[o].dynamic?s+=o+","+l+",":r+='"'+o+'":'+l+","}return r="{"+r.slice(0,-1)+"}",s?n+"_d("+r+",["+s.slice(0,-1)+"])":n+r}function pf(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(_){return pf(_)}).join(",")+"]";var t=cf.test(e.value),n=Gg.test(e.value),r=cf.test(e.value.replace(Kg,""));if(e.modifiers){var s="",o="",l=[];for(var u in e.modifiers)if(ff[u])o+=ff[u],hf[u]&&l.push(u);else if(u==="exact"){var f=e.modifiers;o+=_r(["ctrl","shift","alt","meta"].filter(function(_){return!f[_]}).map(function(_){return"$event."+_+"Key"}).join("||"))}else l.push(u);l.length&&(s+=Yg(l)),o&&(s+=o);var m=t?"return "+e.value+".apply(null, arguments)":n?"return ("+e.value+").apply(null, arguments)":r?"return "+e.value:e.value;return"function($event){"+s+m+"}"}else return t||n?e.value:"function($event){"+(r?"return "+e.value:e.value)+"}"}function Yg(e){return"if(!$event.type.indexOf('key')&&"+e.map(Zg).join("&&")+")return null;"}function Zg(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var n=hf[e],r=Xg[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}function Jg(e,t){e.wrapListeners=function(n){return"_g("+n+","+t.value+")"}}function Qg(e,t){e.wrapData=function(n){return"_b("+n+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}}var Vg={on:Jg,bind:Qg,cloak:Yt},qg=function(t){this.options=t,this.warn=t.warn||oi,this.transforms=Ds(t.modules,"transformCode"),this.dataGenFns=Ds(t.modules,"genData"),this.directives=it(it({},Vg),t.directives);var n=t.isReservedTag||nn;this.maybeComponent=function(r){return!!r.component||!n(r.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function gf(e,t){var n=new qg(t),r=e?e.tag==="script"?"null":Ar(e,n):'_c("div")';return{render:"with(this){return "+r+"}",staticRenderFns:n.staticRenderFns}}function Ar(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return vf(e,t);if(e.once&&!e.onceProcessed)return i(e,t);if(e.for&&!e.forProcessed)return d(e,t);if(e.if&&!e.ifProcessed)return a(e,t);if(e.tag==="template"&&!e.slotTarget&&!t.pre)return fe(e,t)||"void 0";if(e.tag==="slot")return Ze(e,t);var n;if(e.component)n=Qe(e.component,e,t);else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=b(e,t));var s=e.inlineTemplate?null:fe(e,t,!0);n="_c('"+e.tag+"'"+(r?","+r:"")+(s?","+s:"")+")"}for(var o=0;o<t.transforms.length;o++)n=t.transforms[o](e,n);return n}function vf(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+Ar(e,t)+"}"),t.pre=n,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function i(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return a(e,t);if(e.staticInFor){for(var n="",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ar(e,t)+","+t.onceId+++","+n+")":Ar(e,t)}else return vf(e,t)}function a(e,t,n,r){return e.ifProcessed=!0,c(e.ifConditions.slice(),t,n,r)}function c(e,t,n,r){if(!e.length)return r||"_e()";var s=e.shift();if(s.exp)return"("+s.exp+")?"+o(s.block)+":"+c(e,t,n,r);return""+o(s.block);function o(l){return n?n(l,t):l.once?i(l,t):Ar(l,t)}}function d(e,t,n,r){var s=e.for,o=e.alias,l=e.iterator1?","+e.iterator1:"",u=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(r||"_l")+"(("+s+"),function("+o+l+u+"){return "+(n||Ar)(e,t)+"})"}function b(e,t){var n="{",r=E(e,t);r&&(n+=r+","),e.key&&(n+="key:"+e.key+","),e.ref&&(n+="ref:"+e.ref+","),e.refInFor&&(n+="refInFor:true,"),e.pre&&(n+="pre:true,"),e.component&&(n+='tag:"'+e.tag+'",');for(var s=0;s<t.dataGenFns.length;s++)n+=t.dataGenFns[s](e);if(e.attrs&&(n+="attrs:"+qt(e.attrs)+","),e.props&&(n+="domProps:"+qt(e.props)+","),e.events&&(n+=df(e.events,!1)+","),e.nativeEvents&&(n+=df(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(n+="slot:"+e.slotTarget+","),e.scopedSlots&&(n+=W(e,e.scopedSlots,t)+","),e.model&&(n+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=k(e,t);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",e.dynamicAttrs&&(n="_b("+n+',"'+e.tag+'",'+qt(e.dynamicAttrs)+")"),e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function E(e,t){var n=e.directives;if(!!n){var r="directives:[",s=!1,o,l,u,f;for(o=0,l=n.length;o<l;o++){u=n[o],f=!0;var m=t.directives[u.name];m&&(f=!!m(e,u,t.warn)),f&&(s=!0,r+='{name:"'+u.name+'",rawName:"'+u.rawName+'"'+(u.value?",value:("+u.value+"),expression:"+JSON.stringify(u.value):"")+(u.arg?",arg:"+(u.isDynamicArg?u.arg:'"'+u.arg+'"'):"")+(u.modifiers?",modifiers:"+JSON.stringify(u.modifiers):"")+"},")}if(s)return r.slice(0,-1)+"]"}}function k(e,t){var n=e.children[0];if(n&&n.type===1){var r=gf(n,t.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(s){return"function(){"+s+"}"}).join(",")+"]}"}}function W(e,t,n){var r=e.for||Object.keys(t).some(function(u){var f=t[u];return f.slotTargetDynamic||f.if||f.for||ue(f)}),s=!!e.if;if(!r)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==ia||o.for){r=!0;break}o.if&&(s=!0),o=o.parent}var l=Object.keys(t).map(function(u){return ce(t[u],n)}).join(",");return"scopedSlots:_u(["+l+"]"+(r?",null,true":"")+(!r&&s?",null,false,"+Z(l):"")+")"}function Z(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}function ue(e){return e.type===1?e.tag==="slot"?!0:e.children.some(ue):!1}function ce(e,t){var n=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!n)return a(e,t,ce,"null");if(e.for&&!e.forProcessed)return d(e,t,ce);var r=e.slotScope===ia?"":String(e.slotScope),s="function("+r+"){return "+(e.tag==="template"?e.if&&n?"("+e.if+")?"+(fe(e,t)||"undefined")+":undefined":fe(e,t)||"undefined":Ar(e,t))+"}",o=r?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+s+o+"}"}function fe(e,t,n,r,s){var o=e.children;if(o.length){var l=o[0];if(o.length===1&&l.for&&l.tag!=="template"&&l.tag!=="slot"){var u=n?t.maybeComponent(l)?",1":",0":"";return""+(r||Ar)(l,t)+u}var f=n?be(o,t.maybeComponent):0,m=s||De;return"["+o.map(function(_){return m(_,t)}).join(",")+"]"+(f?","+f:"")}}function be(e,t){for(var n=0,r=0;r<e.length;r++){var s=e[r];if(s.type===1){if(Ce(s)||s.ifConditions&&s.ifConditions.some(function(o){return Ce(o.block)})){n=2;break}(t(s)||s.ifConditions&&s.ifConditions.some(function(o){return t(o.block)}))&&(n=1)}}return n}function Ce(e){return e.for!==void 0||e.tag==="template"||e.tag==="slot"}function De(e,t){return e.type===1?Ar(e,t):e.type===3&&e.isComment?Le(e):Ke(e)}function Ke(e){return"_v("+(e.type===2?e.expression:en(JSON.stringify(e.text)))+")"}function Le(e){return"_e("+JSON.stringify(e.text)+")"}function Ze(e,t){var n=e.slotName||'"default"',r=fe(e,t),s="_t("+n+(r?",function(){return "+r+"}":""),o=e.attrs||e.dynamicAttrs?qt((e.attrs||[]).concat(e.dynamicAttrs||[]).map(function(u){return{name:tn(u.name),value:u.value,dynamic:u.dynamic}})):null,l=e.attrsMap["v-bind"];return(o||l)&&!r&&(s+=",null"),o&&(s+=","+o),l&&(s+=(o?"":",null")+","+l),s+")"}function Qe(e,t,n){var r=t.inlineTemplate?null:fe(t,n,!0);return"_c("+e+","+b(t,n)+(r?","+r:"")+")"}function qt(e){for(var t="",n="",r=0;r<e.length;r++){var s=e[r],o=en(s.value);s.dynamic?n+=s.name+","+o+",":t+='"'+s.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",n?"_d("+t+",["+n.slice(0,-1)+"])":t}function en(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Cn=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),Tt=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),kn=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Mr(e,t){e&&vu(e,t)}function vu(e,t){if(e.type===1){for(var n in e.attrsMap)if(na.test(n)){var r=e.attrsMap[n];if(r){var s=e.rawAttrsMap[n];n==="v-for"?sm(e,'v-for="'+r+'"',t,s):n==="v-slot"||n[0]==="#"?om(r,n+'="'+r+'"',t,s):eu.test(n)?im(r,n+'="'+r+'"',t,s):mf(r,n+'="'+r+'"',t,s)}}if(e.children)for(var o=0;o<e.children.length;o++)vu(e.children[o],t)}else e.type===2&&mf(e.expression,e.text,t,e)}function im(e,t,n,r){var s=e.replace(kn,""),o=s.match(Tt);o&&s.charAt(o.index-1)!=="$"&&n('avoid using JavaScript unary operator as property name: "'+o[0]+'" in expression '+t.trim(),r),mf(e,t,n,r)}function sm(e,t,n,r){mf(e.for||"",t,n,r),ev(e.alias,"v-for alias",t,n,r),ev(e.iterator1,"v-for iterator",t,n,r),ev(e.iterator2,"v-for iterator",t,n,r)}function ev(e,t,n,r,s){if(typeof e=="string")try{new Function("var "+e+"=_")}catch(o){r("invalid "+t+' "'+e+'" in expression: '+n.trim(),s)}}function mf(e,t,n,r){try{new Function("return "+e)}catch(o){var s=e.replace(kn,"").match(Cn);n(s?'avoid using JavaScript keyword as property name: "'+s[0]+`"
  Raw expression: `+t.trim():"invalid expression: "+o.message+` in

    `+e+`

  Raw expression: `+t.trim()+`
`,r)}}function om(e,t,n,r){try{new Function(e,"")}catch(s){n("invalid function parameter expression: "+s.message+` in

    `+e+`

  Raw expression: `+t.trim()+`
`,r)}}var Cv=2;function Mb(e,t,n){t===void 0&&(t=0),n===void 0&&(n=e.length);for(var r=e.split(/\r?\n/),s=0,o=[],l=0;l<r.length;l++)if(s+=r[l].length+1,s>=t){for(var u=l-Cv;u<=l+Cv||n>s;u++)if(!(u<0||u>=r.length)){o.push(""+(u+1)+bf(" ",3-String(u+1).length)+"|  "+r[u]);var f=r[u].length;if(u===l){var m=t-(s-f)+1,_=n>s?f-m:n-t;o.push("   |  "+bf(" ",m)+bf("^",_))}else if(u>l){if(n>s){var P=Math.min(n-s,f);o.push("   |  "+bf("^",P))}s+=f+1}}break}return o.join(`
`)}function bf(e,t){var n="";if(t>0)for(;t&1&&(n+=e),t>>>=1,!(t<=0);)e+=e;return n}function Pv(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),Yt}}function am(e){var t=Object.create(null);return function(r,s,o){s=it({},s);var l=s.warn||$t;delete s.warn;var u=s.delimiters?String(s.delimiters)+r:r;if(t[u])return t[u];var f=e(r,s),m={},_=[];return m.render=Pv(f.render,_),m.staticRenderFns=f.staticRenderFns.map(function(P){return Pv(P,_)}),t[u]=m}}function lm(e){return function(n){function r(s,o){var l=Object.create(n),u=[],f=[],m=function(Q,oe,de){(de?f:u).push(Q)};if(o){if(!1)var _;o.modules&&(l.modules=(n.modules||[]).concat(o.modules)),o.directives&&(l.directives=it(Object.create(n.directives||null),o.directives));for(var P in o)P!=="modules"&&P!=="directives"&&(l[P]=o[P])}l.warn=m;var j=e(s.trim(),l);return j.errors=u,j.tips=f,j}return{compile:r,compileToFunctions:am(r)}}}var um=lm(function(t,n){var r=bg(t.trim(),n);n.optimize!==!1&&Wg(r,n);var s=gf(r,n);return{ast:r,render:s.render,staticRenderFns:s.staticRenderFns}}),Iv=um(Ug),Nb=Iv.compile,Tv=Iv.compileToFunctions,yf;function Ov(e){return yf=yf||document.createElement("div"),yf.innerHTML=e?`<a href="
"/>`:`<div a="
"/>`,yf.innerHTML.indexOf("&#10;")>0}var cm=Ft?Ov(!1):!1,hm=Ft?Ov(!0):!1,fm=cn(function(e){var t=Tl(e);return t&&t.innerHTML}),dm=bt.prototype.$mount;bt.prototype.$mount=function(e,t){if(e=e&&Tl(e),e===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if(typeof r=="string")r.charAt(0)==="#"&&(r=fm(r));else if(r.nodeType)r=r.innerHTML;else return this;else e&&(r=pm(e));if(r){var s=Tv(r,{outputSourceRange:!1,shouldDecodeNewlines:cm,shouldDecodeNewlinesForHref:hm,delimiters:n.delimiters,comments:n.comments},this),o=s.render,l=s.staticRenderFns;n.render=o,n.staticRenderFns=l}}return dm.call(this,e,t)};function pm(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}bt.compile=Tv;var gm=bt;const vm=`
  <div class="toolbar">
    <button class="btnUndo" @mousedown.prevent="preventMousedown" v-bind:disabled="!canUndo" @click="onUndo"></button>
    <button class="btnRedo" @mousedown.prevent="preventMousedown" v-bind:disabled="!canRedo" @click="onRedo"></button>
    <span v-if="stackDepth > 0">{{currentStackIndex + 1}}/{{stackDepth}}</span>
    <button class="btnClearFormat" @mousedown.prevent="preventMousedown" @click="onClearFormat"></button>
    <select id="selTitle" @change="onSetTitle">
      <option value="-1">\u6B63\u6587</option>
      <option value="0">\u6807\u9898</option>
      <option value="1">\u526F\u6807\u9898</option>
      <option value="2">\u6807\u98981</option>
      <option value="3">\u6807\u98982</option>
      <option value="4">\u6807\u98983</option>
      <option value="5">\u6807\u98984</option>
    </select>
    <select id="selFont" v-model="format.font" @change="onSetFont">
      <option value="Default">\u9ED8\u8BA4\u5B57\u4F53</option>
      <option value="simsun">\u5B8B\u4F53</option>
      <option value="simhei">\u9ED1\u4F53</option>
      <option value="Weiruanyahei">\u5FAE\u8F6F\u96C5\u9ED1</option>
      <option value="fangsong">\u4EFF\u5B8B</option>
      <option value="kaiti">\u6977\u4F53</option>
      <option value="arial">arial</option>
      <option value="droid">droid</option>
      <option value="source">source</option>
    </select>
    <select id="selSize" v-model="format.size" @change="onSetSize">
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="14">14</option>
      <option value="16">16</option>
      <option value="18">18</option>
      <option value="22">22</option>
      <option value="24">24</option>
      <option value="30">30</option>
      <option value="36">36</option>
    </select>
    <button class="btnBold" @mousedown.prevent="preventMousedown" @click="onSetBold" v-bind:class="{'btnSelected': format.bold, 'btnBold': true}"></button>
    <button class="btnItalic" @mousedown.prevent="preventMousedown" @click="onSetItalic" v-bind:class="{'btnSelected': format.italic, 'btnItalic': true}"></button>
    <button class="btnUnderline" @mousedown.prevent="preventMousedown" @click="onSetUnderline" v-bind:class="{'btnSelected': format.underline, 'btnUnderline': true}"></button>
    <button class="btnStrike" @mousedown.prevent="preventMousedown" @click="onSetStrike" v-bind:class="{'btnSelected': format.strike, 'btnStrike': true}"></button>
    <button class="btnColor" @mousedown.prevent="preventMousedown" @click="onSetColor" class="btnColor" :style="{'background-color':format.color}"></button>
    <button class="btnHighlight" @mousedown.prevent="preventMousedown" @click="onSetHighlight" class="btnHighlight" :style="{'background-color':format.background}"></button>
    <select id="selList" v-model="format.listType" @change="onSetList">
      <option value='-1'>none</option>
      <option value="0">1. a. i. 1.</option>
      <option value="1">\u4E00\u3001 a). i. 1.</option>
      <option value="2">1. 1.1. 1.1.1. 1.1.1.1.</option>
      <option value="3">\u2022  \u25E6  \u25AA  \u25AB</option>
      <option value="4">\u29BF \u29BF \u29BF \u29BF</option>
      <option value="5">\u2192 \u25B4 \u25AA \u2022</option>
    </select>
    <button @mousedown.prevent="preventMousedown" @click="onSetIndentRight" class="btnIndentRight"></button>
    <button @mousedown.prevent="preventMousedown" @click="onSetIndentLeft" class="btnIndentLeft"></button>
    <select id="selAlign" v-model="format.align" @change="onSetAlign">
      <option value="left">\u5DE6\u5BF9\u9F50</option>
      <option value="center">\u5C45\u4E2D</option>
      <option value="right">\u53F3\u5BF9\u9F50</option>
      <option value="justify">\u4E24\u7AEF\u5BF9\u9F50</option>
      <option value="scattered">\u5206\u6563\u5BF9\u9F50</option>
    </select>
    <select v-model="format.linespacing" @change="onSetLinespacing">
      <option value="1.7">1.0</option>
      <option value="2">1.15</option>
      <option value="2.5">1.5</option>
      <option value="3.4">2.0</option>
      <option value="4.3">2.5</option>
      <option value="5.1">3.0</option>
    </select>
    <button class="btnQuote" @mousedown.prevent="preventMousedown" @click="onSetQuoteBlock"></button>
    <br>
    <input id="searchKeywords" type="text" v-model="searchKeywords" placeholder="search"/>
    <button class="btnSearch" @mousedown.prevent="preventMousedown" @click="onSearch"></button>
    <span v-if="searchResultCurrentIndex !== undefined">{{searchResultCurrentIndex + 1}}/{{searchResultCount}}</span>
    <input id="searchReplaceKeywords" type="text" v-model="searchReplaceKeywords" placeholder="replace"/>
    <button @mousedown.prevent="preventMousedown" @click="onReplace">\u66FF\u6362</button>
    <button @mousedown.prevent="preventMousedown" @click="onReplaceAll">\u66FF\u6362\u5168\u90E8</button>
    <button @mousedown.prevent="preventMousedown" @click="onClearSearch">\u6E05\u9664\u67E5\u627E</button>
    <button class="btnPrev" @mousedown.prevent="preventMousedown" @click="onPrevSearchResult"></button>
    <button class="btnNext" @mousedown.prevent="preventMousedown" @click="onNextSearchResult"></button>
    <input id="linkUrl" type="text" v-model="linkUrl" />
    <button class="btnLink" @mousedown.prevent="preventMousedown" @click="onSetLink"></button>
    <button class="btnImage" @mousedown.prevent="preventMousedown" @click="onInsertImage"></button>
    <input id="imageUrl" type="text" v-model="imageUrl" placeholder="replace"/>
    <button class="btnTable" @mousedown.prevent="preventMousedown" @click="onInsertTable"></button>
  </div>
`;function mm(e){return new gm({el:e,template:vm,data:{format:{},canUndo:!1,canRedo:!1,stackDepth:0,currentStackIndex:0,searchKeywords:"",searchReplaceKeywords:"",searchResultCount:0,searchResultCurrentIndex:void 0,linkUrl:"",imageUrl:"https://www.apple.com.cn/home/images/wechat/open_graph_logo.png"},methods:{preventMousedown(){},randomColor(){return`#${[Math.floor(Math.random()*256).toString(16),Math.floor(Math.random()*256).toString(16),Math.floor(Math.random()*256).toString(16)].map(r=>r.length===2?r:`0${r}`).join("")}`},setSearchResult(t,n){this.searchResultCount=t.length,this.searchResultCurrentIndex=n},setRedoUndoStatus(t){this.canRedo=t.canRedo,this.canUndo=t.canUndo,this.stackDepth=t.stackDepth,this.currentStackIndex=t.current},setCurrentFormat(t){var n;const r={};Object.keys(t).forEach(o=>{t[o]&&t[o].size===1&&(r[o]=t[o].values().next().value)}),r.listType=(n=r.listType)!=null?n:"-1",this.$set(this.$data,"format",r)},onClearFormat(){this.$emit("clearFormat")},onSetTitle(t){this.$emit("format",{title:parseInt(t.srcElement.value,10)})},onSetFont(t){console.log("set font"),this.$emit("format",{font:t.srcElement.value})},onSetSize(t){this.$emit("format",{size:parseInt(t.srcElement.value,10)})},onSetBold(){console.log("on SetBold"),this.$emit("format",{bold:!this.format.bold})},onSetItalic(){console.log("on SetItalic"),this.$emit("format",{italic:!this.format.italic})},onSetUnderline(){console.log("on SetUnderline"),this.$emit("format",{underline:!this.format.underline})},onSetStrike(){console.log("on SetStrike"),this.$emit("format",{strike:!this.format.strike})},onSetColor(){let t="#494949";this.format.color===t&&(t=this.randomColor()),this.$emit("format",{color:t})},onSetHighlight(){let t="#ffffff";this.format.background===t&&(t=this.randomColor()),this.$emit("format",{background:t})},onSetList(t){console.log("on SetList");const n=parseInt(t.srcElement.value,10);n===-1?this.$emit("setParagraph"):this.$emit("setList",n)},onSetIndentRight(){console.log("on SetIndentRight"),this.$emit("indent",!0)},onSetIndentLeft(){console.log("on SetIndentLeft"),this.$emit("indent",!1)},onSetAlign(t){console.log("on SetAlign "),this.$emit("format",{align:t.srcElement.value})},onSetLinespacing(t){console.log("on SetLinespacing"),this.$emit("format",{linespacing:t.srcElement.value})},onSetQuoteBlock(){console.log("on SetQuoteBlock"),this.$emit("setQuoteBlock")},onSearch(){console.log("on Search ",this.searchKeywords),this.$emit("search",this.searchKeywords)},onReplace(){console.log("on Replace "),this.$emit("replace",this.searchReplaceKeywords)},onReplaceAll(){console.log("on Replace All"),this.$emit("replace",this.searchReplaceKeywords,!0)},onClearSearch(){console.log("on Clear Search"),this.$emit("clearSearch")},onPrevSearchResult(){this.$emit("prevSearchResult")},onNextSearchResult(){this.$emit("nextSearchResult")},onSetLink(){console.log("on SetLink"),this.$emit("format",{link:this.linkUrl})},onInsertImage(){console.log("on insertImage"),this.$emit("insertImage",this.imageUrl)},onInsertTable(){console.log("on insertTable"),this.$emit("insertTable")},onRedo(){this.$emit("redo")},onUndo(){this.$emit("undo")}}})}const bm="#A5A5A5",tv=class extends lr{constructor(){super(...arguments);this.needMerge=!0,this.padding=10}readFromOps(e){const t=super.readOpsToLayoutFrame(e);this.addAll(t),super.setFrameStart()}layout(){if(this.needLayout){let e=null,t=0;for(let r=0,s=this.children.length;r<s;r++)e=this.children[r],e.layout(),e.x=20,t=Math.max(t,e.x+e.width);this.head!==null&&this.head.setPositionY(this.padding,!0,!0),this.needLayout=!1;let n=0;e!==null&&(n=e.y+e.height+this.padding),this.setHeight(n),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}}getSelectionRectangles(e,t,n){let r;return typeof n=="number"&&(r=Math.max(this.y+this.padding,n),r=Math.min(this.y+this.height-this.padding,r)),super.getSelectionRectangles(e,t,r)}toOp(e){const t=[];for(let n=0;n<this.children.length;n++){const s=this.children[n].toOp(e);t.push(...s)}return this.setBlockOpAttribute(t,tv.typeName),t}toHtml(e){return`<blockquote>${Mt(this,e)}</blockquote>`}createSelf(){return new tv}afterAdd(e,t,n,r,s){super.afterAdd(e,t,n,r,s),e.forEach(o=>{o.setOverrideDefaultAttributes({color:bm})})}afterRemove(e,t,n,r,s){super.afterRemove(e,t,n,r,s),e.forEach(o=>{o.setOverrideDefaultAttributes({color:void 0})})}onPointerEnter(e,t,n,r){super.onPointerEnter(e,t-this.padding,n,r)}onPointerMove(e,t,n,r){super.onPointerMove(e,t-this.padding,n,r)}onPointerDown(e,t){super.onPointerDown(e,t-this.padding)}onPointerUp(e,t){super.onPointerUp(e,t-this.padding)}onPointerTap(e,t){super.onPointerTap(e,t-this.padding)}draw(e,t,n,r){for(let s=0;s<this.children.length;s++){const o=this.children[s];n+this.y+o.y+o.height>=0&&o.y<r&&o.draw(e,this.x+t,this.y+n,r-o.y)}e.fillStyle="#f0f0f0",e.fillRect(this.x,this.y+this.padding+n,5,this.height-this.padding*2),super.draw(e,t,n,r)}setChildrenMaxWidth(e){e.setMaxWidth(this.width-20)}};let Ns=tv;Ns.typeName="quote";class ym extends Er{constructor(t,n,r,s){super(t);this.stack=n,this.contentService=r,this.paragraphService=s}setQuoteBlock(t){let n=new(y());t.forEach(r=>{const s=this.contentService.getBlocksInRange(r);if(s.filter(l=>l instanceof Ns).length===s.length)this.paragraphService.setParagraph(t);else{const l=[];let u;s[0].prevSibling instanceof Ns?(u=s[0].prevSibling,l.push(...u.toOp(!0))):(u=new Ns,this.doc.addBefore(u,s[0]));for(let j=0;j<s.length;j++){const Q=s[j];l.push(...Q.toOp(!0));const oe=Q.getAllLayoutFrames();oe.length&&(u.addAll(oe),this.doc.remove(Q))}if(u.nextSibling instanceof Ns){l.push(...u.nextSibling.toOp(!0));const j=u.nextSibling.removeAll();u.addAll(j),this.doc.remove(u.nextSibling)}u.needLayout=!0;let f=0,m=0;u.prevSibling&&(f=u.prevSibling.start+u.prevSibling.length,m=u.prevSibling.y+u.prevSibling.height),u.setStart(f,!0,!0,!0),u.setPositionY(m,!1,!0);const _=new(y())(l).diff(new(y())(u.toOp(!0))),P=new(y());u.start>0&&P.retain(u.start),n=n.compose(P.concat(_))}}),(n==null?void 0:n.ops.length)&&this.stack.pushDiff(n)}}const Dv={title:_t.Text};var xm=Object.defineProperty,Lv=Object.getOwnPropertySymbols,wm=Object.prototype.hasOwnProperty,Sm=Object.prototype.propertyIsEnumerable,Rv=(e,t,n)=>t in e?xm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_m=(e,t)=>{for(var n in t||(t={}))wm.call(t,n)&&Rv(e,n,t[n]);if(Lv)for(var n of Lv(t))Sm.call(t,n)&&Rv(e,n,t[n]);return e};const xf=class extends lr{constructor(){super(...arguments);this.defaultAttributes=Dv,this.attributes=_m({},Dv),this.originalAttributes=null,this.needMerge=!1}readFromOps(e){this.setAttributes(e[e.length-1].attributes);const t=super.readOpsToLayoutFrame(e);this.addLast(t[0]),this.length=t[0].length}layout(){this.needLayout&&this.head&&(this.head.layout(),this.head.x=0,this.head.y=0,this.head.start=0,this.needLayout=!1,this.setHeight(this.head.height),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height))}getDocumentPos(e,t,n){return this.head.getDocumentPos(e-this.x,t-this.y,n)}getSelectionRectangles(e,t,n){const r=e.index,s=t.index-r,o=r<0?s+r:s,l=this.head.getSelectionRectangles({index:Math.max(r,0),inner:null},{index:Math.max(r,0)+o,inner:null});for(let u=l.length-1;u>=0;u--){const f=l[u];if(f.y+=this.y,typeof n=="number"&&(n<f.y||n>f.y+f.height)){l.splice(u,1);continue}f.x+=this.x}return l}delete(e,t){this.head&&this.head.delete(e,t),this.length=this.head.length,this.needLayout=!0}toOp(e){const t=this.head.toOp(e);return this.setBlockOpAttribute(t,xf.typeName),t}toHtml(e){return`<p>${Mt(this,e)}</p>`}insertEnter(e,t){const n=ge(e.index,this.children,!0);if(!n)return null;const r=n.insertEnter({index:e.index-n.start,inner:e.inner},t);if(this.needLayout=!0,r){const s=new xf;return s.setWidth(this.width),s.addLast(r),this.calLength(),s}return this.calLength(),null}draw(e,t,n,r){this.head.draw(e,this.x+t,this.y+n,r-this.head.y),super.draw(e,t,n,r)}setAttributes(e){super.setAttributes(e),this.head&&(this.setFrameOverrideAttributes(this.head),this.setFrameOverrideDefaultAttributes(this.head))}afterAdd(e,t,n,r,s){super.afterAdd(e,t,n,r,s),e.forEach(o=>{this.setFrameOverrideAttributes(o),this.setFrameOverrideDefaultAttributes(o)})}afterRemove(e,t,n,r,s){super.afterRemove(e,t,n,r,s),e.forEach(o=>{this.removeFrameOverrideAttributes(o),this.removeFrameOverrideDefaultAttributes(o)})}createSelf(){return new xf}formatSelf(e,t){this.setAttributes(e)}setFrameOverrideAttributes(e){const t=this.getOverrideAttributes();Object.keys(t).length>0&&e.setOverrideAttributes(t)}removeFrameOverrideAttributes(e){const t=this.getOverrideAttributes();Object.keys(t).forEach(n=>{t[n]=void 0}),e.setOverrideAttributes(t)}getOverrideAttributes(){const e={};switch(this.attributes.title){case _t.Text:e.bold=void 0,e.size=void 0,e.linespacing=void 0;break;case _t.Title:e.bold=!0,e.size=20,e.linespacing=2;break;case _t.Subtitle:e.bold=!0,e.size=18,e.linespacing=2;break;case _t.H1:e.bold=!0,e.size=16;break;case _t.H2:e.bold=!0,e.size=14;break;case _t.H3:e.bold=!0,e.size=13;break;case _t.H4:e.bold=!0,e.size=12;break}return e}setFrameOverrideDefaultAttributes(e){this.attributes.title===_t.Subtitle?e.setOverrideDefaultAttributes({color:"#888"}):e.setOverrideDefaultAttributes({color:void 0})}removeFrameOverrideDefaultAttributes(e){this.attributes.title===_t.Subtitle&&e.setOverrideDefaultAttributes({color:void 0})}};let wf=xf;wf.typeName="para";class Am extends Er{constructor(t,n,r){super(t);this.stack=n,this.contentService=r}setParagraph(t){let n=new(y());t.forEach(r=>{const s=this.contentService.getBlocksInRange(r);if(s.length<=0)return;let o=0,l=0;s[0].prevSibling&&(o=s[0].prevSibling.start+s[0].prevSibling.length,l=s[0].prevSibling.y+s[0].prevSibling.height);let u=null,f=null;const m=[];for(let _=0;_<s.length;_++){m.push(...s[_].toOp(!0));const P=s[_].getAllLayoutFrames();for(let j=0;j<P.length;j++){const Q=P[j],oe=new wf;oe.addLast(Q),this.doc.addBefore(oe,s[_]),f=oe,_===0&&j===0&&(u=oe)}this.doc.remove(s[_])}if(u&&f){u.setStart(o,!0,!0,!0),u.setPositionY(l,!1,!0);const _=this.contentService.getBlocksInRange(r),P=this.doc.getBlocksOps(_),j=new(y())(m).diff(new(y())(P)),Q=new(y());_[0].start>0&&Q.retain(_[0].start);const oe=Q.concat(j);n=n.compose(oe)}}),n.ops.length>0&&this.stack.pushDiff(n)}}class Em extends Er{constructor(t,n,r){super(t);this.stack=n,this.contentService=r,this.contentService.on(re.AFTER_APPLY,this.onDocContentAfterApply.bind(this)),this.doc.em.on(It.NEED_LAYOUT_LISTITEM,this.onNeedLayoutListitem.bind(this))}setList(t,n){const r=n,s=new Set;let o=new(y());r.forEach(l=>{const u=this.contentService.getBlocksInRange(l);if(u.length<=0)return new(y());let f=0,m=0;u[0].prevSibling&&(f=u[0].prevSibling.start+u[0].prevSibling.length,m=u[0].prevSibling.y+u[0].prevSibling.height);let _;const P=z(),j=[];for(let we=0;we<u.length;we++){const Oe=u[we];if(j.push(...Oe.toOp(!0)),Oe instanceof Dt)s.add(Oe.attributes.listId),Oe.format({listType:t,listId:P}),Oe.needLayout=!0,we===0&&(_=Oe);else{const Ve=Oe.getAllLayoutFrames();for(let qe=0;qe<Ve.length;qe++){const st=Ve[qe],_e={};switch(t){case A.ol1:_e["list-type"]="decimal";case A.ol2:_e["list-type"]="ckj-decimal";case A.ol3:_e["list-type"]="upper-decimal",_e.listId=P;break;case A.ul1:_e["list-type"]="decimal";case A.ul2:_e["list-type"]="ring";case A.ul3:_e["list-type"]="arrow",_e.listId=P;break;default:_e["list-type"]="decimal",_e.listId=P;break}const ze=new Dt;ze.addAll([st]),ze.setAttributes(_e),this.doc.addBefore(ze,Oe),we===0&&qe===0&&(_=ze)}this.doc.remove(Oe)}}_.setStart(f,!0,!0,!0),_.setPositionY(m,!1,!0);const Q=this.contentService.getBlocksInRange(l),oe=this.doc.getBlocksOps(Q),de=new(y())(j).diff(new(y())(oe)),pe=new(y());_.start>0&&pe.retain(_.start),o=o.compose(pe.concat(de))}),o.ops.length>0&&this.stack.pushDiff(o)}markListItemToLayout(t){if(t.size>0)for(let n=0;n<this.doc.children.length;n++){const r=this.doc.children[n];r instanceof Dt&&t.has(r.attributes.listId)&&(r.needLayout=!0)}}onNeedLayoutListitem(t){const n=new Set;n.add(t),this.markListItemToLayout(n)}onDocContentAfterApply(t){const n=new Set;for(let r=0;r<t.oldBlocks.length;r++){const s=t.oldBlocks[r];s instanceof Dt&&n.add(s.attributes.listId)}for(let r=0;r<t.newBlocks.length;r++){const s=t.newBlocks[r];s instanceof Dt&&n.add(s.attributes.listId)}this.markListItemToLayout(n)}}var Cm=Object.defineProperty,Pm=Object.defineProperties,Im=Object.getOwnPropertyDescriptors,Fv=Object.getOwnPropertySymbols,Tm=Object.prototype.hasOwnProperty,Om=Object.prototype.propertyIsEnumerable,kv=(e,t,n)=>t in e?Cm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dm=(e,t)=>{for(var n in t||(t={}))Tm.call(t,n)&&kv(e,n,t[n]);if(Fv)for(var n of Fv(t))Om.call(t,n)&&kv(e,n,t[n]);return e},Lm=(e,t)=>Pm(e,Im(t));const Mv=Lm(Dm({},bn),{height:0,margin:0,oriHeight:0,oriWidth:0,width:0,src:""});var Nv=Object.defineProperty,Rm=Object.defineProperties,Fm=Object.getOwnPropertyDescriptor,km=Object.getOwnPropertyDescriptors,Bv=Object.getOwnPropertySymbols,Mm=Object.prototype.hasOwnProperty,Nm=Object.prototype.propertyIsEnumerable,Hv=(e,t,n)=>t in e?Nv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sf=(e,t)=>{for(var n in t||(t={}))Mm.call(t,n)&&Hv(e,n,t[n]);if(Bv)for(var n of Bv(t))Nm.call(t,n)&&Hv(e,n,t[n]);return e},Bm=(e,t)=>Rm(e,km(t)),Hm=(e,t,n,r)=>{for(var s=r>1?void 0:r?Fm(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Nv(t,n,s),s};let ui=class extends or{constructor(){super(...arguments);this.img=null,this.loaded=!1,this.fail=!1,this.defaultAttributes=Mv,this.originalAttributes=null,this.attributes=Sf({},Mv)}get typeName(){return ui.typeName}readFromOps(e){const t=e.attributes;t["ori-height"]!==void 0&&(t.oriHeight=parseInt(t["ori-height"],10),t.height=t.oriHeight),t["ori-width"]!==void 0&&(t.oriWidth=parseInt(t["ori-width"],10),t.width=t.oriWidth),t.height!==void 0&&(t.height=parseInt(t.height,10)),t.width!==void 0&&(t.width=parseInt(t.width,10)),this.setAttributes(t),this.calMetrics()}calTotalWidth(){return this.attributes.width}calMetrics(){this.metrics={baseline:this.attributes.height,bottom:this.attributes.height,xTop:0}}toOp(e){var t,n;const r=((t=this.originalAttributes)==null?void 0:t.hasOwnProperty("oriHeight"))?{"ori-height":this.originalAttributes.oriHeight}:null,s=((n=this.originalAttributes)==null?void 0:n.hasOwnProperty("oriWidth"))?{"ori-width":this.originalAttributes.oriWidth}:null,o={insert:1,attributes:Sf(Sf(Bm(Sf({},this.originalAttributes),{frag:ui.typeName}),r),s)};return e&&(o.key=this.id),o}toHtml(){return`<img style=${Ee(this.attributes)} src="${this.attributes.src}"/>`}toText(){return""}loadImage(e=0){!this.loaded&&!this.img&&(this.img=new Image,this.img.onload=()=>{this.loaded=!0,this.bubbleUp(It.NEED_DRAW,null)},this.img.onerror=()=>{e<2?(this.img=null,this.loadImage(e+1)):this.fail=!0},this.img.src=this.attributes.src)}compileAttributes(){super.compileAttributes(),this.calMetrics()}bubbleUp(e,t,n){throw new Error("this method should implemented in IGetAbsolutePosDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}};ui.typeName="img",ui=Hm([Ot],ui);class Um extends Si{constructor(t,n,r){super(t,n);this.service=r}insertImage(t){const n=new ui;n.setAttributes({width:300,height:300,src:t,oriWidth:300,oriHeight:300}),this.service.insertFragment(n)}}var $m=Object.defineProperty,Uv=Object.getOwnPropertySymbols,Wm=Object.prototype.hasOwnProperty,zm=Object.prototype.propertyIsEnumerable,$v=(e,t,n)=>t in e?$m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jm=(e,t)=>{for(var n in t||(t={}))Wm.call(t,n)&&$v(e,n,t[n]);if(Uv)for(var n of Uv(t))zm.call(t,n)&&$v(e,n,t[n]);return e},Wv;(function(e){e[e.NoRender=0]="NoRender",e[e.FastRender=1]="FastRender",e[e.Render=2]="Render"})(Wv||(Wv={}));class Gm{constructor(t,n){this.em=new(w()),this.scrollTop=0,this.cvsOffsetX=0,this.cvsDoc=document.createElement("canvas"),this.ctx=new ga(this.cvsDoc.getContext("2d")),this.heightPlaceholderContainer=document.createElement("div"),this.heightPlaceholder=document.createElement("div"),this.divCursor=document.createElement("div"),this.textInput=document.createElement("textarea"),this.toolbar=mm(document.querySelector("#toolbar")),this.composing=!1,this.doc=new Pf,this.needRender=0,this.isPointerHoverDoc=!1,this.currentPointerScreenX=0,this.currentPointerScreenY=0,this.setEditorHeight=p()(r=>{this.heightPlaceholder.style.height=`${r.height}px`,this.em.emit(g.EDITOR_CHANGE_SIZE,r)},100),this.onDocumentFormatChange=p()(r=>{this.em.emit(g.EDITOR_CHANGE_FORMAT,r)},100),this.changeCursorStatus=(()=>{let r=!1,s;const o=l=>{this.divCursor.style.opacity=l===!0?"1":"0",r=l};return l=>{l.color!==void 0&&(this.divCursor.style.borderLeftColor=l.color),l.x!==void 0&&(this.divCursor.style.left=`${l.x+this.cvsOffsetX}px`,this.textInput.style.left=`${l.x+this.cvsOffsetX}px`),l.y!==void 0&&(this.divCursor.style.top=`${l.y}px`,this.textInput.style.top=`${l.y}px`),l.height!==void 0&&(this.divCursor.style.height=`${l.height}px`,this.textInput.style.height=`${l.height}px`),window.clearInterval(s),l.visible===!0&&(s=window.setInterval(()=>{o(!r)},540)),l.visible!==void 0&&o(l.visible)}})(),this.render=()=>{this.needRender===1?this.doc.fastDraw(this.ctx,this.scrollTop,this.config.containerHeight):this.needRender===2&&this.doc.draw(this.ctx,this.scrollTop,this.config.containerHeight),this.needRender=0},this.onEditorScroll=()=>{this.scrollTop=this.heightPlaceholderContainer.scrollTop,this.startDrawing(!0)},this.onMouseDown=r=>{document.addEventListener("mouseup",this.onMouseUp,!0);const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY);this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY;const l={x:0,y:0,width:this.config.canvasWidth,height:this.config.containerHeight};Be(s,o-this.scrollTop,l)&&this.selectionService.startMouseSelection(s,o),this.doc.onPointerDown(s,o)},this.onMouseMove=r=>{const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY),l=this.doc.getChildrenStackByPos(s,o);this.heightPlaceholderContainer.style.cursor=l[l.length-1].getCursorType(),this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY,this.selectionService.updateMouseSelection(s,o);const u={x:0,y:0,width:this.config.canvasWidth,height:this.config.containerHeight};Be(s,o-this.scrollTop,u)?(this.isPointerHoverDoc||(this.doc.onPointerEnter(s,o,l,0),this.isPointerHoverDoc=!0),this.doc.onPointerMove(s,o,l,0)):this.isPointerHoverDoc&&(this.doc.onPointerLeave(),this.isPointerHoverDoc=!1)},this.onMouseUp=r=>{document.removeEventListener("mouseup",this.onMouseUp,!0);const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY);this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY,this.selectionService.endMouseSelection(s,o),this.doc.onPointerUp(s,o);const l=this.selectionService.getSelection();if(l.length===1&&X(l[0].start,l[0].end)===0){const u=this.heightPlaceholderContainer.scrollTop;this.selectionService.getSelectionRectangles().length>0&&(this.textInput.focus(),this.scrollTo(u))}else l.length>0&&this.textInput.focus()},this.onClick=r=>{const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY);this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY;const l={x:0,y:0,width:this.config.canvasWidth,height:this.config.containerHeight};Be(s,o-this.scrollTop,l)&&this.doc.onPointerTap(s,o)},this.calOffsetDocPos=(r,s)=>({x:r-this.container.offsetLeft-this.cvsOffsetX,y:s-this.container.offsetTop+this.scrollTop}),this.onSelectionChange=()=>{this.startDrawing(!0),this.updateCursorStatus(),this.getCurrentFormat()},this.onDocumentContentChange=()=>{this.startDrawing(),this.getCurrentFormat()},this.onDocumentNeedDraw=()=>{this.startDrawing(!0)},this.onSearchNeedDraw=()=>{this.startDrawing(!0)},this.onSearchResultChange=(r,s)=>{this.startDrawing(!0),this.toolbar.setSearchResult(r,s)},this.getCurrentFormat=()=>{let r={};const s=this.selectionService.getSelection();s&&s.length>0&&(r=this.contentService.getFormat(s)),this.toolbar.setCurrentFormat(r)},this.updateCursorStatus=()=>{const r=this.selectionService.getSelection();if(r.length===1&&X(r[0].start,r[0].end)===0){const s=this.selectionService.getSelectionRectangles();s.length>0&&this.changeCursorStatus({visible:!0,x:s[0].x,y:s[0].y,height:s[0].height})}else this.changeCursorStatus({visible:!1})},this.openLink=r=>{window.open(r)},this.config=jm({},n),this.container=t,this.initDOM(),this.doc.setWidth(this.config.canvasWidth),this.selectionService=new va(this.doc),this.historyStackService=new If(this.doc),this.tableService=new nd(this.doc,this.historyStackService),this.searchService=new rd(this.doc),this.contentService=new xe(this.doc,this.historyStackService,this.selectionService),this.paragraphService=new Am(this.doc,this.historyStackService,this.contentService),this.listService=new Em(this.doc,this.historyStackService,this.contentService),this.quoteBlockService=new ym(this.doc,this.historyStackService,this.contentService,this.paragraphService),this.tableController=new td(this,this.doc,this.contentService,this.tableService),this.contentController=new Um(this,this.doc,this.contentService),this.bindBasicEvents(),this.bindReadEvents(),this.config.canEdit&&(this.bindEditEvents(),this.bindToolbarEvents())}readFromChanges(t){this.historyStackService.setInitDelta(t),this.doc.readFromChanges(t),console.log("read finished",performance.now()-window.start),this.startDrawing()}startComposition(){this.composing=!0,this.contentService.startComposition(this.selectionService.getSelection())}updateComposition(t){this.contentService.updateComposition(this.selectionService.getSelection()[0].start,t.data,{})}endComposition(t){this.composing=!1,this.contentService.endComposition(t.data),this.textInput.value=""}clearData(){}scrollTo(t){this.heightPlaceholderContainer.scrollTop=t}search(t){const n=this.searchService.search(t);if(n.length>0){const r=n[0];this.scrollToViewPort(r.rects[0].y)}}clearSearch(){this.searchService.clearSearch()}nextSearchResult(){const t=this.searchService.nextSearchResult();t!==null&&(this.scrollToViewPort(t.res.rects[0].y),this.toolbar.setSearchResult(this.searchService.getSearchResult(),t.index))}prevSearchResult(){const t=this.searchService.prevSearchResult();t!==null&&(this.scrollToViewPort(t.res.rects[0].y),this.toolbar.setSearchResult(this.searchService.getSearchResult(),t.index))}replace(t,n=!1){const r=this.searchService.replace(t,n);this.historyStackService.pushDiff(r);const s=this.searchService.getSearchResult(),o=this.searchService.searchResultCurrentIndex;o!==void 0&&s.length>0&&this.scrollToViewPort(s[o].rects[0].y)}undo(){const t=this.historyStackService.undo();console.log("undo ",t==null?void 0:t.ops),t&&this.contentService.applyChanges(t)}redo(){const t=this.historyStackService.redo();console.log("redo ",t==null?void 0:t.ops),t&&this.contentService.applyChanges(t)}startDrawing(t=!1){this.needRender===0&&(requestAnimationFrame(this.render),this.needRender=1),t||(this.needRender=2)}scrollToViewPort(t){if(t>this.scrollTop+this.config.containerHeight||t<this.scrollTop){const n=Math.floor(t-this.config.containerHeight/2);this.scrollTo(n)}}bindBasicEvents(){this.heightPlaceholder.addEventListener("mousedown",this.onMouseDown,!0),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("click",this.onClick,!0),this.heightPlaceholderContainer.addEventListener("scroll",this.onEditorScroll)}bindReadEvents(){this.doc.em.addListener(g.DOCUMENT_CHANGE_SIZE,this.setEditorHeight),this.doc.em.addListener(g.DOCUMENT_CHANGE_CONTENT,this.onDocumentContentChange),this.doc.em.addListener(g.DOCUMENT_CHANGE_FORMAT,this.onDocumentFormatChange),this.doc.em.addListener(g.DOCUMENT_NEED_DRAW,this.onDocumentNeedDraw),this.searchService.addListener(g.SEARCH_NEED_DRAW,this.onSearchNeedDraw),this.searchService.addListener(g.SEARCH_RESULT_CHANGE,this.onSearchResultChange),this.doc.em.addListener("OPEN_LINK",this.openLink),this.selectionService.addListener(g.CHANGE_SELECTION,this.onSelectionChange)}bindEditEvents(){this.doc.em.addListener(g.DOCUMENT_AFTER_LAYOUT,this.updateCursorStatus),this.historyStackService.addListener(g.HISTORY_STACK_CHANGE,this.toolbar.setRedoUndoStatus.bind(this.toolbar)),this.textInput.addEventListener("keydown",t=>{t.key==="Backspace"?this.contentService.delete(!0):t.key==="ArrowUp"?this.selectionService.cursorMoveUp():t.key==="ArrowDown"?this.selectionService.cursorMoveDown():t.key==="ArrowLeft"?t.metaKey||t.ctrlKey?this.selectionService.cursorMoveToLineStart():this.selectionService.cursorMoveLeft():t.key==="ArrowRight"&&(t.metaKey||t.ctrlKey?this.selectionService.cursorMoveToLineEnd():this.selectionService.cursorMoveRight())}),this.textInput.addEventListener("input",()=>{this.composing||(this.contentService.input(this.textInput.value),this.textInput.value="")}),this.textInput.addEventListener("compositionstart",this.startComposition.bind(this)),this.textInput.addEventListener("compositionupdate",this.updateComposition.bind(this)),this.textInput.addEventListener("compositionend",this.endComposition.bind(this))}bindToolbarEvents(){this.toolbar.$on("format",this.onToolbarSetFormat.bind(this)),this.toolbar.$on("clearFormat",this.onToolbarClearFormat.bind(this)),this.toolbar.$on("indent",this.onToolbarSetIndent.bind(this)),this.toolbar.$on("search",this.search.bind(this)),this.toolbar.$on("replace",this.replace.bind(this)),this.toolbar.$on("clearSearch",this.clearSearch.bind(this)),this.toolbar.$on("prevSearchResult",this.prevSearchResult.bind(this)),this.toolbar.$on("nextSearchResult",this.nextSearchResult.bind(this)),this.toolbar.$on("setQuoteBlock",this.onSetQuoteBlock.bind(this)),this.toolbar.$on("setList",this.onSetList.bind(this)),this.toolbar.$on("setParagraph",this.onSetParagraph.bind(this)),this.toolbar.$on("insertImage",this.onInsertImage.bind(this)),this.toolbar.$on("insertTable",this.onInsertTable.bind(this)),this.toolbar.$on("redo",this.redo.bind(this)),this.toolbar.$on("undo",this.undo.bind(this))}initDOM(){this.cvsOffsetX=(this.config.containerWidth-this.config.canvasWidth)/2,this.container.style.width=`${this.config.containerWidth}px`,this.container.style.height=`${this.config.containerHeight}px`,this.cvsDoc.id="cvsDoc",this.cvsDoc.style.width=`${this.config.canvasWidth}px`,this.cvsDoc.style.height=`${this.config.containerHeight}px`,this.cvsDoc.style.left=`${this.cvsOffsetX}px`;const t=ct().getPixelRatio(this.ctx);this.cvsDoc.width=this.config.canvasWidth*t,this.cvsDoc.height=this.config.containerHeight*t,t!==1&&this.ctx.scale(t,t),this.heightPlaceholderContainer.id="heightPlaceholderContainer",this.heightPlaceholder.id="divHeightPlaceholder",this.divCursor=document.createElement("div"),this.divCursor.id="divCursor",this.divCursor.tabIndex=-1,this.textInput=document.createElement("textarea"),this.textInput.id="textInput",this.textInput.tabIndex=-1,this.textInput.autocomplete="off",this.textInput.autocapitalize="none",this.textInput.spellcheck=!1,this.heightPlaceholderContainer.appendChild(this.heightPlaceholder),this.heightPlaceholderContainer.appendChild(this.textInput),this.heightPlaceholderContainer.appendChild(this.divCursor),this.container.appendChild(this.cvsDoc),this.container.appendChild(this.heightPlaceholderContainer)}onToolbarSetFormat(t){console.log("format ",t),this.contentService.format(t,this.selectionService.getSelection())}onToolbarClearFormat(){console.log("clear format"),this.contentService.clearFormat(this.selectionService.getSelection())}onToolbarSetIndent(t){this.contentService.setIndent(t,this.selectionService.getSelection())}onSetQuoteBlock(){this.quoteBlockService.setQuoteBlock(this.selectionService.getSelection()),this.startDrawing()}onSetList(t){this.listService.setList(t,this.selectionService.getSelection()),this.startDrawing()}onSetParagraph(){this.paragraphService.setParagraph(this.selectionService.getSelection()),this.startDrawing()}onInsertImage(t){this.contentController.insertImage(t)}onInsertTable(){this.tableController.insertTable(this.selectionService.getSelection())}}function Km(e){return fetch(`sample_docs/${e||"006.txt"}`,{mode:"no-cors"}).then(t=>t.text()).then(t=>y().parse(t))}var Xm=Object.defineProperty,Ym=Object.defineProperties,Zm=Object.getOwnPropertyDescriptors,zv=Object.getOwnPropertySymbols,Jm=Object.prototype.hasOwnProperty,Qm=Object.prototype.propertyIsEnumerable,jv=(e,t,n)=>t in e?Xm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vm=(e,t)=>{for(var n in t||(t={}))Jm.call(t,n)&&jv(e,n,t[n]);if(zv)for(var n of zv(t))Qm.call(t,n)&&jv(e,n,t[n]);return e},qm=(e,t)=>Ym(e,Zm(t)),Gv;(function(e){e[e.Date=0]="Date",e[e.DateTime=1]="DateTime"})(Gv||(Gv={}));const nv=qm(Vm({},bn),{bold:!1,font:an.getFontValue("Default"),italic:!1,size:11,date:0,id:0,type:0});var eb=Object.defineProperty,tb=Object.defineProperties,nb=Object.getOwnPropertyDescriptors,Kv=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,ib=Object.prototype.propertyIsEnumerable,Xv=(e,t,n)=>t in e?eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_f=(e,t)=>{for(var n in t||(t={}))rb.call(t,n)&&Xv(e,n,t[n]);if(Kv)for(var n of Kv(t))ib.call(t,n)&&Xv(e,n,t[n]);return e},sb=(e,t)=>tb(e,nb(t));const rv=class extends or{constructor(){super(...arguments);this.stringContent="",this.defaultAttributes=nv,this.originalAttributes=null,this.attributes=_f({},nv)}get typeName(){return rv.typeName}readFromOps(e){var t;const n=e.attributes;n.font&&n.hasOwnProperty("font")&&(n.font=an.getFontValue(n.font)),this.setAttributes(n),this.stringContent=((t=this.originalAttributes)==null?void 0:t.date)?`\u23F0${new Date(this.originalAttributes.date).toDateString()}`:"",this.calMetrics()}calTotalWidth(){return ct().measureTextWidth(this.stringContent,this.attributes)}calMetrics(){this.metrics=ct().measureTextMetrics(this.attributes)}toOp(e){var t;const n=((t=this.originalAttributes)==null?void 0:t.font)?{font:an.getFontName(this.originalAttributes.font)}:null,r={insert:1,attributes:_f(sb(_f({},this.originalAttributes),{frag:rv.typeName}),n)};return e&&(r.key=this.id),r}toHtml(){return`<span style=${Ee(this.attributes)}>${this.stringContent}</span>`}toText(){return this.stringContent}clearFormat(){const e=_f({},nv);delete e.id,delete e.date,delete e.type,this.setAttributes(e)}compileAttributes(){super.compileAttributes(),this.calMetrics()}};let Af=rv;Af.typeName="date";var ob=Ye(5660),Yv=Ye.n(ob);const ab={language:"",theme:""};class lb{}class ub extends lb{constructor(){super(...arguments);this.codeBackground="#f7f7f7",this.lineNumBackground="transparent",this.lineNumColor="#d0d4d9"}getStyle(t){switch(t){case"comment":case"prolog":case"doctype":case"cdata":return{color:"slategray"};case"punctuation":return{color:"#999"};case"property":case"tag":case"boolean":case"number":case"constant":case"symbol":case"deleted":return{color:"#905"};case"selector":case"attr-name":case"string":case"char":case"builtin":case"inserted":return{color:"#690"};case"operator":case"entity":case"url":return{color:"#9a6e3a"};case"atrule":case"attr-value":case"keyword":return{color:"#07a"};case"function":case"class-name":return{color:"#DD4A68"};case"regex":case"important":case"variable":return{color:"#e90"};case"bold":return{bold:!0};case"italic":return{italic:!0};default:return null}}}class cb{constructor(){this.registeredThemes=new Map}registerTheme(t,n){this.registeredThemes.set(t,n)}unregisterTheme(t){this.registeredThemes.delete(t)}unregisterAllTheme(){this.registeredThemes.clear()}getThemeClass(t){return this.registeredThemes.get(t)}}var hb=new cb,fb=Object.defineProperty,Zv=Object.getOwnPropertySymbols,db=Object.prototype.hasOwnProperty,pb=Object.prototype.propertyIsEnumerable,Jv=(e,t,n)=>t in e?fb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mu=(e,t)=>{for(var n in t||(t={}))db.call(t,n)&&Jv(e,n,t[n]);if(Zv)for(var n of Zv(t))pb.call(t,n)&&Jv(e,n,t[n]);return e};const Qv=3,gb=2,iv=2,Vv=class extends lr{constructor(){super(...arguments);this.attributes=mu({},ab),this.codeLines=[],this.theme=new ub,this.lineNumWidth=0,this.idleColoring=({timeRemaining:e,didTimeout:t})=>{console.log("coloring");const n=this.tokenize();this.removeAll(),this.addAll(n),this.layoutFrames(),this.bubbleUp(It.NEED_DRAW,null,[this])}}readFromOps(e){const t=super.readOpsToLayoutFrame(e);for(let n=0;n<t.length;n++){const r=t[n];for(let s=0;s<r.children.length;s++)r.children[s].setAttributes({font:an.getFontValue("source")})}this.addAll(t),super.setFrameStart(),this.setAttributes(e[e.length-1].attributes)}setAttributes(e){if(typeof e.language=="string"&&(this.attributes.language=e.language),typeof e.theme=="string"){const t=hb.getThemeClass(e.theme);t&&(this.theme=t)}}layout(){this.needLayout&&(this.layoutFrames(),ct().requestIdleCallback(this.idleColoring))}draw(e,t,n,r){e.fillStyle=this.theme.codeBackground,e.fillRect(t+this.x+this.lineNumWidth,n+this.y,this.width-this.lineNumWidth,this.height),e.fillStyle=this.theme.lineNumBackground,e.fillRect(t+this.x,n+this.y,this.lineNumWidth,this.height);for(let s=0;s<this.children.length;s++){const o=this.children[s],l=n+this.y+o.y,u=l+o.height;l>=r||u<=0||(o.draw(e,this.x+t,this.y+n,r),e.textAlign="right",e.textBaseline="alphabetic",e.fillStyle=this.theme.lineNumColor,e.fillText((s+1).toString(),t+this.x+o.x-iv-Qv,o.lines[0].y+o.lines[0].baseline+o.y+this.y+n),e.textAlign="start")}super.draw(e,t,n,r)}getFormat(){const e={};return Ae(this.attributes,e),e}createSelf(){return new Vv}setChildrenMaxWidth(e){e.setMaxWidth(this.width-this.lineNumWidth-iv)}layoutFrames(){this.lineNumWidth=ct().measureTextWidth(this.children.length.toString(),{font:an.getFontValue("source"),italic:!1,bold:!1,size:Xs.size})+gb+Qv;let e=null,t=0;for(let r=0,s=this.children.length;r<s;r++)e=this.children[r],e.layout(),e.x=this.lineNumWidth+iv,t=Math.max(t,e.x+e.width);this.head!==null&&this.head.setPositionY(0,!0,!0),this.needLayout=!1;let n=0;e!==null&&(n=e.y+e.height),this.setHeight(n),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}tokenize(){let e="";for(let r=0;r<this.children.length;r++)e+=this.children[r].toText();const t=Yv().tokenize(e,Yv().languages.javascript),n=[];if(t.length>0){const r=wt(Un.typeName);this.parseTokenTree(t,n,r,"")}return n}parseTokenTree(e,t,n,r){for(let s=0;s<e.length;s++){const o=e[s];if(typeof o=="string")if(o.indexOf(`
`)>=0){const l=o.split(`
`);for(let u=0;u<l.length;u++){const f=l[u];if(f.length>0){const m=wt("");m.setContent(f);const _=this.theme.getStyle(r),P=an.getFontValue("source"),j=mu(mu({},_),typeof P=="string"?{font:P}:null);m.setAttributes(j),m.calMetrics(),n.addLast(m)}if(u!==l.length-1){const m=wt(Vn.typeName);m.calMetrics(),n.addLast(m),n.calLength(),t.push(n),n=wt(Un.typeName)}}}else{const l=wt("");l.setContent(o);const u=this.theme.getStyle(r),f=an.getFontValue("source"),m=mu(mu({},u),typeof f=="string"?{font:f}:null);l.setAttributes(m),l.calMetrics(),n.addLast(l)}else typeof o.content=="string"?n=this.parseTokenTree([o.content],t,n,o.type):n=this.parseTokenTree(o.content,t,n,o.type)}return n}};let sv=Vv;sv.typeName="code";var vb=Object.defineProperty,qv=Object.getOwnPropertySymbols,mb=Object.prototype.hasOwnProperty,bb=Object.prototype.propertyIsEnumerable,em=(e,t,n)=>t in e?vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tm=(e,t)=>{for(var n in t||(t={}))mb.call(t,n)&&em(e,n,t[n]);if(qv)for(var n of qv(t))bb.call(t,n)&&em(e,n,t[n]);return e};const nm=e=>{const t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},yb=(()=>{const e=document.createElement("span");e.style.display="none",document.body.appendChild(e);const t=new Array(49);for(let n=0;n<t.length;n++){e.style.fontSize=`${n}pt`;const r=window.getComputedStyle(e).fontSize;t[n]=parseFloat(r.substring(0,r.length-2))}return document.body.removeChild(e),t})(),ov=(()=>{let e=null,t="";return n=>e&&e.italic===n.italic&&e.bold===n.bold&&e.size===n.size&&e.font===n.font?(e=n,t):(e=tm({},n),t=n.italic?"italic ":"",n.bold&&(t+="bold "),t+=`${n.size}pt `,t+=n.font,t)})(),xb=(()=>{const e={},t={},n={},r=document.createElement("canvas").getContext("2d"),s=(()=>{const o={};let l=0;return u=>{let f=o[u];return f===void 0&&(f=(l++).toString(),o[u]=f),f}})();return(o,l)=>{const u=ov(l),f=s(u);if(o===" "){let P=t[f];return P===void 0&&(r.font=u,P=r.measureText(o).width,t[f]=P),P}if(o.length===1&&N(o)){let P=e[f];return P===void 0&&(r.font=u,P=r.measureText(o).width,e[f]=P),P}if(o.length===2&&N(o[0])&&N(o[1])){let P=e[f];return P===void 0&&(r.font=u,P=r.measureText(o[0]).width,e[f]=P),P*2}const m=`${f} ${o}`;let _=n[m];return _===void 0&&(r.font=u,_=r.measureText(o).width,n[m]=_),_}})(),wb=(()=>{const e={},t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.zIndex="-1",t.style.pointerEvents="none",t.style.lineHeight="initial",t.style.opacity="0";const n=document.createElement("span");n.textContent="f";const r=document.createElement("span");r.style.display="inline-block",t.appendChild(n),t.appendChild(r),document.body.appendChild(t);const s=document.createElement("canvas"),o=s.getContext("2d"),l=nm(o);return u=>{const f=`${u.font} ${u.bold} ${u.size}`,m=e[f];if(m!==void 0)return tm({},m);t.style.fontFamily=u.font,t.style.fontWeight=u.bold?"bold":"normal",t.style.fontSize=`${u.size}pt`;const _=n.offsetHeight,P=r.offsetTop-n.offsetTop,j=n.offsetWidth,Q=j*2*l,oe=n.offsetHeight*l;s.width=Q,s.height=oe,o.scale(l,l),o.font=ov(u),o.fillStyle="#FF0000",o.fillText("x",j,P);const de=o.getImageData(0,0,Q,oe).data;let pe=0;for(let Oe=0,Ve=de.length;Oe<Ve;Oe+=4)if(de[Oe]>0){pe=Oe/4/Q/l;break}const we={baseline:P,bottom:_,xTop:pe};return e[f]=we,we}})(),Sb=window.requestIdleCallback||(e=>setTimeout(()=>{const t=Date.now();e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},1)),_b=e=>Sb.call(window,e),Ab=window.cancelIdleCallback||(e=>{clearTimeout(e)});var Eb={getPixelRatio:nm,convertPt2Px:yb,createTextFontString:ov,measureTextWidth:xb,measureTextMetrics:wb,requestIdleCallback:_b,cancelIdleCallback:e=>{Ab.call(window,e)}},Cb=Object.defineProperty,Pb=Object.getOwnPropertyDescriptor,Ib=(e,t,n,r)=>{for(var s=r>1?void 0:r?Pb(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Cb(t,n,s),s};let aa=class extends yi{constructor(e){super();this.isSpace=!0,this.frag=e,this.height=this.calHeight()}draw(){}calHeight(){return this.height=ct().convertPt2Px[this.frag.attributes.size],this.height}calWidth(){return this.width=5,this.width}getDocumentPos(e,t,n){return{index:0,inner:null}}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}};aa.typeName="run-paraend",aa=Ib([Ot],aa);var Tb=Object.defineProperty,Ob=Object.getOwnPropertyDescriptor,Db=(e,t,n,r)=>{for(var s=r>1?void 0:r?Ob(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Tb(t,n,s),s};const Lb="#70b1e7";let la=class extends yi{constructor(e){super();this.frag=e,this.content=e.stringContent,this.height=this.calHeight()}draw(e,t,n,r){e.font=ct().createTextFontString(this.frag.attributes),e.fillStyle=Lb,e.fillText(this.content,this.x+t,r+n),window.runBorder&&(e.strokeStyle="green",e.strokeRect(this.x+t,this.y+n,this.width,this.height))}calHeight(){return this.height=ct().convertPt2Px[this.frag.attributes.size],this.height}calWidth(){return this.width=ct().measureTextWidth(this.content,this.frag.attributes),this.width}getDocumentPos(e,t,n){return e<this.width/2?{index:0,inner:null}:{index:1,inner:null}}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}};la.typeName="run-date",la=Db([Ot],la);var Rb=Object.defineProperty,Fb=Object.getOwnPropertyDescriptor,kb=(e,t,n,r)=>{for(var s=r>1?void 0:r?Fb(t,n):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,n,s):l(s))||s);return r&&s&&Rb(t,n,s),s};let ua=class extends yi{constructor(e){super();this.solidHeight=!0,this.frag=e}draw(e,t,n){console.log("draw image"),this.frag.loaded&&this.frag.img?e.drawImage(this.frag.img,this.x+t,this.y+n,this.frag.attributes.width,this.frag.attributes.height):this.frag.fail||this.frag.loadImage()}calHeight(){return this.height=this.frag.attributes.height,this.height}calWidth(){return this.width=this.frag.attributes.width,this.width}getDocumentPos(e,t,n){return e<this.width/2?{index:0,inner:null}:{index:1,inner:null}}bubbleUp(e,t,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(e){throw new Error("this method should implemented in IBubbleUpableDecorator")}};ua.typeName="run-image",ua=kb([Ot],ua);let ca;(()=>{const e=n=>{const s=new RegExp(`[\\?&]${n.replace(/[[]/,"\\[").replace(/[\]]/,"\\]")}=([^&#]*)`).exec(location.search);return s===null?"":decodeURIComponent(s[1].replace(/\+/g," "))},t=document.querySelector("#selFileName");ca=e("file"),ca.length===0?ca=t.value:t.value=ca,t.addEventListener("change",n=>{console.log("file change ",n),location.href=`${location.origin+location.pathname}?file=${t.value}`}),ca+=".qde"})(),Cf(Eb),Ut(wf.typeName,wf),Ut(Dt.typeName,Dt),Ut(Ns.typeName,Ns),Ut(qn.typeName,qn),Ut(sv.typeName,sv),Ut(ln.typeName,ln),Ut(Vn.typeName,Vn),Ut(Af.typeName,Af),Ut(ui.typeName,ui),Ut(Un.typeName,Un),Ut(un.typeName,un),Ut(aa.typeName,aa),Ut(la.typeName,la),Ut(ua.typeName,ua),pi(ln.typeName,un.typeName),pi(Vn.typeName,aa.typeName),pi(Af.typeName,la.typeName),pi(ui.typeName,ua.typeName);const av=new Gm(document.querySelector("#divEditor"),Qs);(()=>{const e=window;e.hit=0,e.cal=0,e.count=0,e.total=0,e.c=[],e.editor=av,e.s=JSON.stringify,e.Delta=y(),e.showDelta=(t=0)=>{const n=av.history.stack[t];console.log("redo: ",n.redo.ops),console.log("undo: ",n.undo.ops)}})(),Km(ca).then(e=>{window.start=performance.now(),av.readFromChanges(e)})}(),ha}()});
