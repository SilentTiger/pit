(function(yu,Xt){if(typeof exports=="object"&&typeof module=="object")module.exports=Xt();else if(typeof define=="function"&&define.amd)define([],Xt);else{var ha=Xt();for(var P in ha)(typeof exports=="object"?exports:yu)[P]=ha[P]}})(self,function(){return function(){var uv={9742:function(P,y){"use strict";y.byteLength=A,y.toByteArray=j,y.fromByteArray=N;for(var v=[],_=[],u=typeof Uint8Array!="undefined"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,O=f.length;g<O;++g)v[g]=f[g],_[f.charCodeAt(g)]=g;_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63;function L(W){var D=W.length;if(D%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var X=W.indexOf("=");X===-1&&(X=D);var q=X===D?0:4-X%4;return[X,q]}function A(W){var D=L(W),X=D[0],q=D[1];return(X+q)*3/4-q}function M(W,D,X){return(D+X)*3/4-X}function j(W){var D,X=L(W),q=X[0],nt=X[1],$=new u(M(W,q,nt)),F=0,Z=nt>0?q-4:q,U;for(U=0;U<Z;U+=4)D=_[W.charCodeAt(U)]<<18|_[W.charCodeAt(U+1)]<<12|_[W.charCodeAt(U+2)]<<6|_[W.charCodeAt(U+3)],$[F++]=D>>16&255,$[F++]=D>>8&255,$[F++]=D&255;return nt===2&&(D=_[W.charCodeAt(U)]<<2|_[W.charCodeAt(U+1)]>>4,$[F++]=D&255),nt===1&&(D=_[W.charCodeAt(U)]<<10|_[W.charCodeAt(U+1)]<<4|_[W.charCodeAt(U+2)]>>2,$[F++]=D>>8&255,$[F++]=D&255),$}function H(W){return v[W>>18&63]+v[W>>12&63]+v[W>>6&63]+v[W&63]}function I(W,D,X){for(var q,nt=[],$=D;$<X;$+=3)q=(W[$]<<16&16711680)+(W[$+1]<<8&65280)+(W[$+2]&255),nt.push(H(q));return nt.join("")}function N(W){for(var D,X=W.length,q=X%3,nt=[],$=16383,F=0,Z=X-q;F<Z;F+=$)nt.push(I(W,F,F+$>Z?Z:F+$));return q===1?(D=W[X-1],nt.push(v[D>>2]+v[D<<4&63]+"==")):q===2&&(D=(W[X-2]<<8)+W[X-1],nt.push(v[D>>10]+v[D>>4&63]+v[D<<2&63]+"=")),nt.join("")}},3076:function(P){"use strict";function y(O,L,A,M,j){for(var H=j+1;M<=j;){var I=M+j>>>1,N=O[I],W=A!==void 0?A(N,L):N-L;W>=0?(H=I,j=I-1):M=I+1}return H}function v(O,L,A,M,j){for(var H=j+1;M<=j;){var I=M+j>>>1,N=O[I],W=A!==void 0?A(N,L):N-L;W>0?(H=I,j=I-1):M=I+1}return H}function _(O,L,A,M,j){for(var H=M-1;M<=j;){var I=M+j>>>1,N=O[I],W=A!==void 0?A(N,L):N-L;W<0?(H=I,M=I+1):j=I-1}return H}function u(O,L,A,M,j){for(var H=M-1;M<=j;){var I=M+j>>>1,N=O[I],W=A!==void 0?A(N,L):N-L;W<=0?(H=I,M=I+1):j=I-1}return H}function f(O,L,A,M,j){for(;M<=j;){var H=M+j>>>1,I=O[H],N=A!==void 0?A(I,L):I-L;if(N===0)return H;N<=0?M=H+1:j=H-1}return-1}function g(O,L,A,M,j,H){return typeof A=="function"?H(O,L,A,M===void 0?0:M|0,j===void 0?O.length-1:j|0):H(O,L,void 0,A===void 0?0:A|0,M===void 0?O.length-1:M|0)}P.exports={ge:function(O,L,A,M,j){return g(O,L,A,M,j,y)},gt:function(O,L,A,M,j){return g(O,L,A,M,j,v)},lt:function(O,L,A,M,j){return g(O,L,A,M,j,_)},le:function(O,L,A,M,j){return g(O,L,A,M,j,u)},eq:function(O,L,A,M,j){return g(O,L,A,M,j,f)}}},6729:function(P){"use strict";var y=Object.prototype.hasOwnProperty,v="~";function _(){}Object.create&&(_.prototype=Object.create(null),new _().__proto__||(v=!1));function u(L,A,M){this.fn=L,this.context=A,this.once=M||!1}function f(L,A,M,j,H){if(typeof M!="function")throw new TypeError("The listener must be a function");var I=new u(M,j||L,H),N=v?v+A:A;return L._events[N]?L._events[N].fn?L._events[N]=[L._events[N],I]:L._events[N].push(I):(L._events[N]=I,L._eventsCount++),L}function g(L,A){--L._eventsCount==0?L._events=new _:delete L._events[A]}function O(){this._events=new _,this._eventsCount=0}O.prototype.eventNames=function(){var A=[],M,j;if(this._eventsCount===0)return A;for(j in M=this._events)y.call(M,j)&&A.push(v?j.slice(1):j);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(M)):A},O.prototype.listeners=function(A){var M=v?v+A:A,j=this._events[M];if(!j)return[];if(j.fn)return[j.fn];for(var H=0,I=j.length,N=new Array(I);H<I;H++)N[H]=j[H].fn;return N},O.prototype.listenerCount=function(A){var M=v?v+A:A,j=this._events[M];return j?j.fn?1:j.length:0},O.prototype.emit=function(A,M,j,H,I,N){var W=v?v+A:A;if(!this._events[W])return!1;var D=this._events[W],X=arguments.length,q,nt;if(D.fn){switch(D.once&&this.removeListener(A,D.fn,void 0,!0),X){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,M),!0;case 3:return D.fn.call(D.context,M,j),!0;case 4:return D.fn.call(D.context,M,j,H),!0;case 5:return D.fn.call(D.context,M,j,H,I),!0;case 6:return D.fn.call(D.context,M,j,H,I,N),!0}for(nt=1,q=new Array(X-1);nt<X;nt++)q[nt-1]=arguments[nt];D.fn.apply(D.context,q)}else{var $=D.length,F;for(nt=0;nt<$;nt++)switch(D[nt].once&&this.removeListener(A,D[nt].fn,void 0,!0),X){case 1:D[nt].fn.call(D[nt].context);break;case 2:D[nt].fn.call(D[nt].context,M);break;case 3:D[nt].fn.call(D[nt].context,M,j);break;case 4:D[nt].fn.call(D[nt].context,M,j,H);break;default:if(!q)for(F=1,q=new Array(X-1);F<X;F++)q[F-1]=arguments[F];D[nt].fn.apply(D[nt].context,q)}}return!0},O.prototype.on=function(A,M,j){return f(this,A,M,j,!1)},O.prototype.once=function(A,M,j){return f(this,A,M,j,!0)},O.prototype.removeListener=function(A,M,j,H){var I=v?v+A:A;if(!this._events[I])return this;if(!M)return g(this,I),this;var N=this._events[I];if(N.fn)N.fn===M&&(!H||N.once)&&(!j||N.context===j)&&g(this,I);else{for(var W=0,D=[],X=N.length;W<X;W++)(N[W].fn!==M||H&&!N[W].once||j&&N[W].context!==j)&&D.push(N[W]);D.length?this._events[I]=D.length===1?D[0]:D:g(this,I)}return this},O.prototype.removeAllListeners=function(A){var M;return A?(M=v?v+A:A,this._events[M]&&g(this,M)):(this._events=new _,this._eventsCount=0),this},O.prototype.off=O.prototype.removeListener,O.prototype.addListener=O.prototype.on,O.prefixed=v,O.EventEmitter=O,P.exports=O},4470:function(P){"use strict";var y=Object.prototype.hasOwnProperty,v=Object.prototype.toString,_=Object.defineProperty,u=Object.getOwnPropertyDescriptor,f=function(M){return typeof Array.isArray=="function"?Array.isArray(M):v.call(M)==="[object Array]"},g=function(M){if(!M||v.call(M)!=="[object Object]")return!1;var j=y.call(M,"constructor"),H=M.constructor&&M.constructor.prototype&&y.call(M.constructor.prototype,"isPrototypeOf");if(M.constructor&&!j&&!H)return!1;var I;for(I in M);return typeof I=="undefined"||y.call(M,I)},O=function(M,j){_&&j.name==="__proto__"?_(M,j.name,{enumerable:!0,configurable:!0,value:j.newValue,writable:!0}):M[j.name]=j.newValue},L=function(M,j){if(j==="__proto__")if(y.call(M,j)){if(u)return u(M,j).value}else return;return M[j]};P.exports=function A(){var M,j,H,I,N,W,D=arguments[0],X=1,q=arguments.length,nt=!1;for(typeof D=="boolean"&&(nt=D,D=arguments[1]||{},X=2),(D==null||typeof D!="object"&&typeof D!="function")&&(D={});X<q;++X)if(M=arguments[X],M!=null)for(j in M)H=L(D,j),I=L(M,j),D!==I&&(nt&&I&&(g(I)||(N=f(I)))?(N?(N=!1,W=H&&f(H)?H:[]):W=H&&g(H)?H:{},O(D,{name:j,newValue:A(nt,W,I)})):typeof I!="undefined"&&O(D,{name:j,newValue:I}));return D}},4063:function(P){"use strict";P.exports=function y(v,_){if(v===_)return!0;if(v&&_&&typeof v=="object"&&typeof _=="object"){if(v.constructor!==_.constructor)return!1;var u,f,g;if(Array.isArray(v)){if(u=v.length,u!=_.length)return!1;for(f=u;f--!=0;)if(!y(v[f],_[f]))return!1;return!0}if(v.constructor===RegExp)return v.source===_.source&&v.flags===_.flags;if(v.valueOf!==Object.prototype.valueOf)return v.valueOf()===_.valueOf();if(v.toString!==Object.prototype.toString)return v.toString()===_.toString();if(g=Object.keys(v),u=g.length,u!==Object.keys(_).length)return!1;for(f=u;f--!=0;)if(!Object.prototype.hasOwnProperty.call(_,g[f]))return!1;for(f=u;f--!=0;){var O=g[f];if(!y(v[O],_[O]))return!1}return!0}return v!==v&&_!==_}},8552:function(P,y,v){var _=v(852),u=v(5639),f=_(u,"DataView");P.exports=f},1989:function(P,y,v){var _=v(1789),u=v(401),f=v(7667),g=v(1327),O=v(1866);function L(A){var M=-1,j=A==null?0:A.length;for(this.clear();++M<j;){var H=A[M];this.set(H[0],H[1])}}L.prototype.clear=_,L.prototype.delete=u,L.prototype.get=f,L.prototype.has=g,L.prototype.set=O,P.exports=L},8407:function(P,y,v){var _=v(7040),u=v(4125),f=v(2117),g=v(7529),O=v(4705);function L(A){var M=-1,j=A==null?0:A.length;for(this.clear();++M<j;){var H=A[M];this.set(H[0],H[1])}}L.prototype.clear=_,L.prototype.delete=u,L.prototype.get=f,L.prototype.has=g,L.prototype.set=O,P.exports=L},7071:function(P,y,v){var _=v(852),u=v(5639),f=_(u,"Map");P.exports=f},3369:function(P,y,v){var _=v(4785),u=v(1285),f=v(6e3),g=v(9916),O=v(5265);function L(A){var M=-1,j=A==null?0:A.length;for(this.clear();++M<j;){var H=A[M];this.set(H[0],H[1])}}L.prototype.clear=_,L.prototype.delete=u,L.prototype.get=f,L.prototype.has=g,L.prototype.set=O,P.exports=L},3818:function(P,y,v){var _=v(852),u=v(5639),f=_(u,"Promise");P.exports=f},8525:function(P,y,v){var _=v(852),u=v(5639),f=_(u,"Set");P.exports=f},8668:function(P,y,v){var _=v(3369),u=v(619),f=v(2385);function g(O){var L=-1,A=O==null?0:O.length;for(this.__data__=new _;++L<A;)this.add(O[L])}g.prototype.add=g.prototype.push=u,g.prototype.has=f,P.exports=g},6384:function(P,y,v){var _=v(8407),u=v(7465),f=v(3779),g=v(7599),O=v(4758),L=v(4309);function A(M){var j=this.__data__=new _(M);this.size=j.size}A.prototype.clear=u,A.prototype.delete=f,A.prototype.get=g,A.prototype.has=O,A.prototype.set=L,P.exports=A},2705:function(P,y,v){var _=v(5639),u=_.Symbol;P.exports=u},1149:function(P,y,v){var _=v(5639),u=_.Uint8Array;P.exports=u},577:function(P,y,v){var _=v(852),u=v(5639),f=_(u,"WeakMap");P.exports=f},4963:function(P){function y(v,_){for(var u=-1,f=v==null?0:v.length,g=0,O=[];++u<f;){var L=v[u];_(L,u,v)&&(O[g++]=L)}return O}P.exports=y},4636:function(P,y,v){var _=v(2545),u=v(5694),f=v(1469),g=v(4144),O=v(5776),L=v(6719),A=Object.prototype,M=A.hasOwnProperty;function j(H,I){var N=f(H),W=!N&&u(H),D=!N&&!W&&g(H),X=!N&&!W&&!D&&L(H),q=N||W||D||X,nt=q?_(H.length,String):[],$=nt.length;for(var F in H)(I||M.call(H,F))&&!(q&&(F=="length"||D&&(F=="offset"||F=="parent")||X&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||O(F,$)))&&nt.push(F);return nt}P.exports=j},9932:function(P){function y(v,_){for(var u=-1,f=v==null?0:v.length,g=Array(f);++u<f;)g[u]=_(v[u],u,v);return g}P.exports=y},2488:function(P){function y(v,_){for(var u=-1,f=_.length,g=v.length;++u<f;)v[g+u]=_[u];return v}P.exports=y},2908:function(P){function y(v,_){for(var u=-1,f=v==null?0:v.length;++u<f;)if(_(v[u],u,v))return!0;return!1}P.exports=y},4286:function(P){function y(v){return v.split("")}P.exports=y},8470:function(P,y,v){var _=v(7813);function u(f,g){for(var O=f.length;O--;)if(_(f[O][0],g))return O;return-1}P.exports=u},1848:function(P){function y(v,_,u,f){for(var g=v.length,O=u+(f?1:-1);f?O--:++O<g;)if(_(v[O],O,v))return O;return-1}P.exports=y},8866:function(P,y,v){var _=v(2488),u=v(1469);function f(g,O,L){var A=O(g);return u(g)?A:_(A,L(g))}P.exports=f},4239:function(P,y,v){var _=v(2705),u=v(9607),f=v(2333),g="[object Null]",O="[object Undefined]",L=_?_.toStringTag:void 0;function A(M){return M==null?M===void 0?O:g:L&&L in Object(M)?u(M):f(M)}P.exports=A},2118:function(P,y,v){var _=v(1848),u=v(2722),f=v(2351);function g(O,L,A){return L===L?f(O,L,A):_(O,u,A)}P.exports=g},9454:function(P,y,v){var _=v(4239),u=v(7005),f="[object Arguments]";function g(O){return u(O)&&_(O)==f}P.exports=g},939:function(P,y,v){var _=v(2492),u=v(7005);function f(g,O,L,A,M){return g===O?!0:g==null||O==null||!u(g)&&!u(O)?g!==g&&O!==O:_(g,O,L,A,f,M)}P.exports=f},2492:function(P,y,v){var _=v(6384),u=v(7114),f=v(8351),g=v(6096),O=v(4160),L=v(1469),A=v(4144),M=v(6719),j=1,H="[object Arguments]",I="[object Array]",N="[object Object]",W=Object.prototype,D=W.hasOwnProperty;function X(q,nt,$,F,Z,U){var w=L(q),T=L(nt),R=w?I:O(q),B=T?I:O(nt);R=R==H?N:R,B=B==H?N:B;var rt=R==N,tt=B==N,st=R==B;if(st&&A(q)){if(!A(nt))return!1;w=!0,rt=!1}if(st&&!rt)return U||(U=new _),w||M(q)?u(q,nt,$,F,Z,U):f(q,nt,R,$,F,Z,U);if(!($&j)){var gt=rt&&D.call(q,"__wrapped__"),dt=tt&&D.call(nt,"__wrapped__");if(gt||dt){var _t=gt?q.value():q,Pt=dt?nt.value():nt;return U||(U=new _),Z(_t,Pt,$,F,U)}}return st?(U||(U=new _),g(q,nt,$,F,Z,U)):!1}P.exports=X},2722:function(P){function y(v){return v!==v}P.exports=y},8458:function(P,y,v){var _=v(3560),u=v(5346),f=v(3218),g=v(346),O=/[\\^$.*+?()[\]{}|]/g,L=/^\[object .+?Constructor\]$/,A=Function.prototype,M=Object.prototype,j=A.toString,H=M.hasOwnProperty,I=RegExp("^"+j.call(H).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N(W){if(!f(W)||u(W))return!1;var D=_(W)?I:L;return D.test(g(W))}P.exports=N},8749:function(P,y,v){var _=v(4239),u=v(1780),f=v(7005),g="[object Arguments]",O="[object Array]",L="[object Boolean]",A="[object Date]",M="[object Error]",j="[object Function]",H="[object Map]",I="[object Number]",N="[object Object]",W="[object RegExp]",D="[object Set]",X="[object String]",q="[object WeakMap]",nt="[object ArrayBuffer]",$="[object DataView]",F="[object Float32Array]",Z="[object Float64Array]",U="[object Int8Array]",w="[object Int16Array]",T="[object Int32Array]",R="[object Uint8Array]",B="[object Uint8ClampedArray]",rt="[object Uint16Array]",tt="[object Uint32Array]",st={};st[F]=st[Z]=st[U]=st[w]=st[T]=st[R]=st[B]=st[rt]=st[tt]=!0,st[g]=st[O]=st[nt]=st[L]=st[$]=st[A]=st[M]=st[j]=st[H]=st[I]=st[N]=st[W]=st[D]=st[X]=st[q]=!1;function gt(dt){return f(dt)&&u(dt.length)&&!!st[_(dt)]}P.exports=gt},280:function(P,y,v){var _=v(5726),u=v(6916),f=Object.prototype,g=f.hasOwnProperty;function O(L){if(!_(L))return u(L);var A=[];for(var M in Object(L))g.call(L,M)&&M!="constructor"&&A.push(M);return A}P.exports=O},4259:function(P){function y(v,_,u){var f=-1,g=v.length;_<0&&(_=-_>g?0:g+_),u=u>g?g:u,u<0&&(u+=g),g=_>u?0:u-_>>>0,_>>>=0;for(var O=Array(g);++f<g;)O[f]=v[f+_];return O}P.exports=y},2545:function(P){function y(v,_){for(var u=-1,f=Array(v);++u<v;)f[u]=_(u);return f}P.exports=y},531:function(P,y,v){var _=v(2705),u=v(9932),f=v(1469),g=v(3448),O=1/0,L=_?_.prototype:void 0,A=L?L.toString:void 0;function M(j){if(typeof j=="string")return j;if(f(j))return u(j,M)+"";if(g(j))return A?A.call(j):"";var H=j+"";return H=="0"&&1/j==-O?"-0":H}P.exports=M},7561:function(P,y,v){var _=v(7990),u=/^\s+/;function f(g){return g&&g.slice(0,_(g)+1).replace(u,"")}P.exports=f},7518:function(P){function y(v){return function(_){return v(_)}}P.exports=y},7415:function(P,y,v){var _=v(9932);function u(f,g){return _(g,function(O){return f[O]})}P.exports=u},4757:function(P){function y(v,_){return v.has(_)}P.exports=y},180:function(P,y,v){var _=v(4259);function u(f,g,O){var L=f.length;return O=O===void 0?L:O,!g&&O>=L?f:_(f,g,O)}P.exports=u},9817:function(P,y,v){var _=v(2118);function u(f,g){for(var O=-1,L=f.length;++O<L&&_(g,f[O],0)>-1;);return O}P.exports=u},278:function(P){function y(v,_){var u=-1,f=v.length;for(_||(_=Array(f));++u<f;)_[u]=v[u];return _}P.exports=y},4429:function(P,y,v){var _=v(5639),u=_["__core-js_shared__"];P.exports=u},7114:function(P,y,v){var _=v(8668),u=v(2908),f=v(4757),g=1,O=2;function L(A,M,j,H,I,N){var W=j&g,D=A.length,X=M.length;if(D!=X&&!(W&&X>D))return!1;var q=N.get(A),nt=N.get(M);if(q&&nt)return q==M&&nt==A;var $=-1,F=!0,Z=j&O?new _:void 0;for(N.set(A,M),N.set(M,A);++$<D;){var U=A[$],w=M[$];if(H)var T=W?H(w,U,$,M,A,N):H(U,w,$,A,M,N);if(T!==void 0){if(T)continue;F=!1;break}if(Z){if(!u(M,function(R,B){if(!f(Z,B)&&(U===R||I(U,R,j,H,N)))return Z.push(B)})){F=!1;break}}else if(!(U===w||I(U,w,j,H,N))){F=!1;break}}return N.delete(A),N.delete(M),F}P.exports=L},8351:function(P,y,v){var _=v(2705),u=v(1149),f=v(7813),g=v(7114),O=v(8776),L=v(1814),A=1,M=2,j="[object Boolean]",H="[object Date]",I="[object Error]",N="[object Map]",W="[object Number]",D="[object RegExp]",X="[object Set]",q="[object String]",nt="[object Symbol]",$="[object ArrayBuffer]",F="[object DataView]",Z=_?_.prototype:void 0,U=Z?Z.valueOf:void 0;function w(T,R,B,rt,tt,st,gt){switch(B){case F:if(T.byteLength!=R.byteLength||T.byteOffset!=R.byteOffset)return!1;T=T.buffer,R=R.buffer;case $:return!(T.byteLength!=R.byteLength||!st(new u(T),new u(R)));case j:case H:case W:return f(+T,+R);case I:return T.name==R.name&&T.message==R.message;case D:case q:return T==R+"";case N:var dt=O;case X:var _t=rt&A;if(dt||(dt=L),T.size!=R.size&&!_t)return!1;var Pt=gt.get(T);if(Pt)return Pt==R;rt|=M,gt.set(T,R);var kt=g(dt(T),dt(R),rt,tt,st,gt);return gt.delete(T),kt;case nt:if(U)return U.call(T)==U.call(R)}return!1}P.exports=w},6096:function(P,y,v){var _=v(8234),u=1,f=Object.prototype,g=f.hasOwnProperty;function O(L,A,M,j,H,I){var N=M&u,W=_(L),D=W.length,X=_(A),q=X.length;if(D!=q&&!N)return!1;for(var nt=D;nt--;){var $=W[nt];if(!(N?$ in A:g.call(A,$)))return!1}var F=I.get(L),Z=I.get(A);if(F&&Z)return F==A&&Z==L;var U=!0;I.set(L,A),I.set(A,L);for(var w=N;++nt<D;){$=W[nt];var T=L[$],R=A[$];if(j)var B=N?j(R,T,$,A,L,I):j(T,R,$,L,A,I);if(!(B===void 0?T===R||H(T,R,M,j,I):B)){U=!1;break}w||(w=$=="constructor")}if(U&&!w){var rt=L.constructor,tt=A.constructor;rt!=tt&&"constructor"in L&&"constructor"in A&&!(typeof rt=="function"&&rt instanceof rt&&typeof tt=="function"&&tt instanceof tt)&&(U=!1)}return I.delete(L),I.delete(A),U}P.exports=O},1957:function(P,y,v){var _=typeof v.g=="object"&&v.g&&v.g.Object===Object&&v.g;P.exports=_},8234:function(P,y,v){var _=v(8866),u=v(9551),f=v(3674);function g(O){return _(O,f,u)}P.exports=g},5050:function(P,y,v){var _=v(7019);function u(f,g){var O=f.__data__;return _(g)?O[typeof g=="string"?"string":"hash"]:O.map}P.exports=u},852:function(P,y,v){var _=v(8458),u=v(7801);function f(g,O){var L=u(g,O);return _(L)?L:void 0}P.exports=f},9607:function(P,y,v){var _=v(2705),u=Object.prototype,f=u.hasOwnProperty,g=u.toString,O=_?_.toStringTag:void 0;function L(A){var M=f.call(A,O),j=A[O];try{A[O]=void 0;var H=!0}catch(N){}var I=g.call(A);return H&&(M?A[O]=j:delete A[O]),I}P.exports=L},9551:function(P,y,v){var _=v(4963),u=v(479),f=Object.prototype,g=f.propertyIsEnumerable,O=Object.getOwnPropertySymbols,L=O?function(A){return A==null?[]:(A=Object(A),_(O(A),function(M){return g.call(A,M)}))}:u;P.exports=L},4160:function(P,y,v){var _=v(8552),u=v(7071),f=v(3818),g=v(8525),O=v(577),L=v(4239),A=v(346),M="[object Map]",j="[object Object]",H="[object Promise]",I="[object Set]",N="[object WeakMap]",W="[object DataView]",D=A(_),X=A(u),q=A(f),nt=A(g),$=A(O),F=L;(_&&F(new _(new ArrayBuffer(1)))!=W||u&&F(new u)!=M||f&&F(f.resolve())!=H||g&&F(new g)!=I||O&&F(new O)!=N)&&(F=function(Z){var U=L(Z),w=U==j?Z.constructor:void 0,T=w?A(w):"";if(T)switch(T){case D:return W;case X:return M;case q:return H;case nt:return I;case $:return N}return U}),P.exports=F},7801:function(P){function y(v,_){return v==null?void 0:v[_]}P.exports=y},2689:function(P){var y="\\ud800-\\udfff",v="\\u0300-\\u036f",_="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",f=v+_+u,g="\\ufe0e\\ufe0f",O="\\u200d",L=RegExp("["+O+y+f+g+"]");function A(M){return L.test(M)}P.exports=A},1789:function(P,y,v){var _=v(4536);function u(){this.__data__=_?_(null):{},this.size=0}P.exports=u},401:function(P){function y(v){var _=this.has(v)&&delete this.__data__[v];return this.size-=_?1:0,_}P.exports=y},7667:function(P,y,v){var _=v(4536),u="__lodash_hash_undefined__",f=Object.prototype,g=f.hasOwnProperty;function O(L){var A=this.__data__;if(_){var M=A[L];return M===u?void 0:M}return g.call(A,L)?A[L]:void 0}P.exports=O},1327:function(P,y,v){var _=v(4536),u=Object.prototype,f=u.hasOwnProperty;function g(O){var L=this.__data__;return _?L[O]!==void 0:f.call(L,O)}P.exports=g},1866:function(P,y,v){var _=v(4536),u="__lodash_hash_undefined__";function f(g,O){var L=this.__data__;return this.size+=this.has(g)?0:1,L[g]=_&&O===void 0?u:O,this}P.exports=f},5776:function(P){var y=9007199254740991,v=/^(?:0|[1-9]\d*)$/;function _(u,f){var g=typeof u;return f=f==null?y:f,!!f&&(g=="number"||g!="symbol"&&v.test(u))&&u>-1&&u%1==0&&u<f}P.exports=_},7019:function(P){function y(v){var _=typeof v;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?v!=="__proto__":v===null}P.exports=y},5346:function(P,y,v){var _=v(4429),u=function(){var g=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}();function f(g){return!!u&&u in g}P.exports=f},5726:function(P){var y=Object.prototype;function v(_){var u=_&&_.constructor,f=typeof u=="function"&&u.prototype||y;return _===f}P.exports=v},59:function(P){function y(v){for(var _,u=[];!(_=v.next()).done;)u.push(_.value);return u}P.exports=y},7040:function(P){function y(){this.__data__=[],this.size=0}P.exports=y},4125:function(P,y,v){var _=v(8470),u=Array.prototype,f=u.splice;function g(O){var L=this.__data__,A=_(L,O);if(A<0)return!1;var M=L.length-1;return A==M?L.pop():f.call(L,A,1),--this.size,!0}P.exports=g},2117:function(P,y,v){var _=v(8470);function u(f){var g=this.__data__,O=_(g,f);return O<0?void 0:g[O][1]}P.exports=u},7529:function(P,y,v){var _=v(8470);function u(f){return _(this.__data__,f)>-1}P.exports=u},4705:function(P,y,v){var _=v(8470);function u(f,g){var O=this.__data__,L=_(O,f);return L<0?(++this.size,O.push([f,g])):O[L][1]=g,this}P.exports=u},4785:function(P,y,v){var _=v(1989),u=v(8407),f=v(7071);function g(){this.size=0,this.__data__={hash:new _,map:new(f||u),string:new _}}P.exports=g},1285:function(P,y,v){var _=v(5050);function u(f){var g=_(this,f).delete(f);return this.size-=g?1:0,g}P.exports=u},6e3:function(P,y,v){var _=v(5050);function u(f){return _(this,f).get(f)}P.exports=u},9916:function(P,y,v){var _=v(5050);function u(f){return _(this,f).has(f)}P.exports=u},5265:function(P,y,v){var _=v(5050);function u(f,g){var O=_(this,f),L=O.size;return O.set(f,g),this.size+=O.size==L?0:1,this}P.exports=u},8776:function(P){function y(v){var _=-1,u=Array(v.size);return v.forEach(function(f,g){u[++_]=[g,f]}),u}P.exports=y},4536:function(P,y,v){var _=v(852),u=_(Object,"create");P.exports=u},6916:function(P,y,v){var _=v(5569),u=_(Object.keys,Object);P.exports=u},1167:function(P,y,v){P=v.nmd(P);var _=v(1957),u=y&&!y.nodeType&&y,f=u&&!0&&P&&!P.nodeType&&P,g=f&&f.exports===u,O=g&&_.process,L=function(){try{var A=f&&f.require&&f.require("util").types;return A||O&&O.binding&&O.binding("util")}catch(M){}}();P.exports=L},2333:function(P){var y=Object.prototype,v=y.toString;function _(u){return v.call(u)}P.exports=_},5569:function(P){function y(v,_){return function(u){return v(_(u))}}P.exports=y},5639:function(P,y,v){var _=v(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,f=_||u||Function("return this")();P.exports=f},619:function(P){var y="__lodash_hash_undefined__";function v(_){return this.__data__.set(_,y),this}P.exports=v},2385:function(P){function y(v){return this.__data__.has(v)}P.exports=y},1814:function(P){function y(v){var _=-1,u=Array(v.size);return v.forEach(function(f){u[++_]=f}),u}P.exports=y},7465:function(P,y,v){var _=v(8407);function u(){this.__data__=new _,this.size=0}P.exports=u},3779:function(P){function y(v){var _=this.__data__,u=_.delete(v);return this.size=_.size,u}P.exports=y},7599:function(P){function y(v){return this.__data__.get(v)}P.exports=y},4758:function(P){function y(v){return this.__data__.has(v)}P.exports=y},4309:function(P,y,v){var _=v(8407),u=v(7071),f=v(3369),g=200;function O(L,A){var M=this.__data__;if(M instanceof _){var j=M.__data__;if(!u||j.length<g-1)return j.push([L,A]),this.size=++M.size,this;M=this.__data__=new f(j)}return M.set(L,A),this.size=M.size,this}P.exports=O},2351:function(P){function y(v,_,u){for(var f=u-1,g=v.length;++f<g;)if(v[f]===_)return f;return-1}P.exports=y},3140:function(P,y,v){var _=v(4286),u=v(2689),f=v(676);function g(O){return u(O)?f(O):_(O)}P.exports=g},346:function(P){var y=Function.prototype,v=y.toString;function _(u){if(u!=null){try{return v.call(u)}catch(f){}try{return u+""}catch(f){}}return""}P.exports=_},7990:function(P){var y=/\s/;function v(_){for(var u=_.length;u--&&y.test(_.charAt(u)););return u}P.exports=v},676:function(P){var y="\\ud800-\\udfff",v="\\u0300-\\u036f",_="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",f=v+_+u,g="\\ufe0e\\ufe0f",O="["+y+"]",L="["+f+"]",A="\\ud83c[\\udffb-\\udfff]",M="(?:"+L+"|"+A+")",j="[^"+y+"]",H="(?:\\ud83c[\\udde6-\\uddff]){2}",I="[\\ud800-\\udbff][\\udc00-\\udfff]",N="\\u200d",W=M+"?",D="["+g+"]?",X="(?:"+N+"(?:"+[j,H,I].join("|")+")"+D+W+")*",q=D+W+X,nt="(?:"+[j+L+"?",L,H,I,O].join("|")+")",$=RegExp(A+"(?="+A+")|"+nt+q,"g");function F(Z){return Z.match($)||[]}P.exports=F},3279:function(P,y,v){var _=v(3218),u=v(7771),f=v(4841),g="Expected a function",O=Math.max,L=Math.min;function A(M,j,H){var I,N,W,D,X,q,nt=0,$=!1,F=!1,Z=!0;if(typeof M!="function")throw new TypeError(g);j=f(j)||0,_(H)&&($=!!H.leading,F="maxWait"in H,W=F?O(f(H.maxWait)||0,j):W,Z="trailing"in H?!!H.trailing:Z);function U(dt){var _t=I,Pt=N;return I=N=void 0,nt=dt,D=M.apply(Pt,_t),D}function w(dt){return nt=dt,X=setTimeout(B,j),$?U(dt):D}function T(dt){var _t=dt-q,Pt=dt-nt,kt=j-_t;return F?L(kt,W-Pt):kt}function R(dt){var _t=dt-q,Pt=dt-nt;return q===void 0||_t>=j||_t<0||F&&Pt>=W}function B(){var dt=u();if(R(dt))return rt(dt);X=setTimeout(B,T(dt))}function rt(dt){return X=void 0,Z&&I?U(dt):(I=N=void 0,D)}function tt(){X!==void 0&&clearTimeout(X),nt=0,I=q=N=X=void 0}function st(){return X===void 0?D:rt(u())}function gt(){var dt=u(),_t=R(dt);if(I=arguments,N=this,q=dt,_t){if(X===void 0)return w(q);if(F)return clearTimeout(X),X=setTimeout(B,j),U(q)}return X===void 0&&(X=setTimeout(B,j)),D}return gt.cancel=tt,gt.flush=st,gt}P.exports=A},7813:function(P){function y(v,_){return v===_||v!==v&&_!==_}P.exports=y},5694:function(P,y,v){var _=v(9454),u=v(7005),f=Object.prototype,g=f.hasOwnProperty,O=f.propertyIsEnumerable,L=_(function(){return arguments}())?_:function(A){return u(A)&&g.call(A,"callee")&&!O.call(A,"callee")};P.exports=L},1469:function(P){var y=Array.isArray;P.exports=y},8612:function(P,y,v){var _=v(3560),u=v(1780);function f(g){return g!=null&&u(g.length)&&!_(g)}P.exports=f},4144:function(P,y,v){P=v.nmd(P);var _=v(5639),u=v(5062),f=y&&!y.nodeType&&y,g=f&&!0&&P&&!P.nodeType&&P,O=g&&g.exports===f,L=O?_.Buffer:void 0,A=L?L.isBuffer:void 0,M=A||u;P.exports=M},8446:function(P,y,v){var _=v(939);function u(f,g){return _(f,g)}P.exports=u},3560:function(P,y,v){var _=v(4239),u=v(3218),f="[object AsyncFunction]",g="[object Function]",O="[object GeneratorFunction]",L="[object Proxy]";function A(M){if(!u(M))return!1;var j=_(M);return j==g||j==O||j==f||j==L}P.exports=A},1780:function(P){var y=9007199254740991;function v(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=y}P.exports=v},3218:function(P){function y(v){var _=typeof v;return v!=null&&(_=="object"||_=="function")}P.exports=y},7005:function(P){function y(v){return v!=null&&typeof v=="object"}P.exports=y},7037:function(P,y,v){var _=v(4239),u=v(1469),f=v(7005),g="[object String]";function O(L){return typeof L=="string"||!u(L)&&f(L)&&_(L)==g}P.exports=O},3448:function(P,y,v){var _=v(4239),u=v(7005),f="[object Symbol]";function g(O){return typeof O=="symbol"||u(O)&&_(O)==f}P.exports=g},6719:function(P,y,v){var _=v(8749),u=v(7518),f=v(1167),g=f&&f.isTypedArray,O=g?u(g):_;P.exports=O},3674:function(P,y,v){var _=v(4636),u=v(280),f=v(8612);function g(O){return f(O)?_(O):u(O)}P.exports=g},6486:function(P,y,v){P=v.nmd(P);var _;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var u,f="4.17.21",g=200,O="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",L="Expected a function",A="Invalid `variable` option passed into `_.template`",M="__lodash_hash_undefined__",j=500,H="__lodash_placeholder__",I=1,N=2,W=4,D=1,X=2,q=1,nt=2,$=4,F=8,Z=16,U=32,w=64,T=128,R=256,B=512,rt=30,tt="...",st=800,gt=16,dt=1,_t=2,Pt=3,kt=1/0,yt=9007199254740991,Ct=17976931348623157e292,jt=0/0,Zt=4294967295,qt=Zt-1,vt=Zt>>>1,Rt=[["ary",T],["bind",q],["bindKey",nt],["curry",F],["curryRight",Z],["flip",B],["partial",U],["partialRight",w],["rearg",R]],Ht="[object Arguments]",Ut="[object Array]",ue="[object AsyncFunction]",ne="[object Boolean]",Se="[object Date]",Me="[object DOMException]",Zn="[object Error]",ci="[object Function]",hi="[object GeneratorFunction]",Nn="[object Map]",Jn="[object Number]",Bn="[object Null]",Oe="[object Object]",Hr="[object Promise]",fi="[object Proxy]",$r="[object RegExp]",Cn="[object Set]",Te="[object String]",di="[object Symbol]",qi="[object Undefined]",$e="[object WeakMap]",xu="[object WeakSet]",we="[object ArrayBuffer]",Ur="[object DataView]",pi="[object Float32Array]",Hs="[object Float64Array]",$s="[object Int8Array]",fa="[object Int16Array]",wu="[object Int32Array]",Us="[object Uint8Array]",da="[object Uint8ClampedArray]",Ws="[object Uint16Array]",pa="[object Uint32Array]",Ef=/\b__p \+= '';/g,Su=/\b(__p \+=) '' \+/g,_u=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Au=/&(?:amp|lt|gt|quot|#39);/g,Eu=/[&<>"']/g,gi=RegExp(Au.source),cv=RegExp(Eu.source),Pu=/<%-([\s\S]+?)%>/g,Pf=/<%([\s\S]+?)%>/g,ce=/<%=([\s\S]+?)%>/g,Cf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Er=/^\w*$/,Tf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ga=/[\\^$.*+?()[\]{}|]/g,Wr=RegExp(ga.source),va=/^\s+/,Gs=/\s/,Cu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vi=/\{\n\/\* \[wrapped with (.+)\] \*/,Tu=/,? & /,If=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Iu=/[()=,{}\[\]\/\s]/,Of=/\\(\\)?/g,Df=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ma=/\w*$/,Ou=/^[-+]0x[0-9a-f]+$/i,Lf=/^0b[01]+$/i,Vn=/^\[object .+?Constructor\]$/,mi=/^0o[0-7]+$/i,Rf=/^(?:0|[1-9]\d*)$/,ba=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zs=/($^)/,Ff=/['\n\r\u2028\u2029\\]/g,js="\\ud800-\\udfff",kf="\\u0300-\\u036f",Xs="\\ufe20-\\ufe2f",mn="\\u20d0-\\u20ff",bn=kf+Xs+mn,_e="\\u2700-\\u27bf",Gr="a-z\\xdf-\\xf6\\xf8-\\xff",Du="\\xac\\xb1\\xd7\\xf7",Lu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",an="\\u2000-\\u206f",Mf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ru="A-Z\\xc0-\\xd6\\xd8-\\xde",Fu="\\ufe0e\\ufe0f",or=Du+Lu+an+Mf,ya="['\u2019]",Nf="["+js+"]",ku="["+or+"]",ts="["+bn+"]",Mu="\\d+",Bf="["+_e+"]",xa="["+Gr+"]",Nu="[^"+js+or+Mu+_e+Gr+Ru+"]",wa="\\ud83c[\\udffb-\\udfff]",Ks="(?:"+ts+"|"+wa+")",Bu="[^"+js+"]",Ys="(?:\\ud83c[\\udde6-\\uddff]){2}",Sa="[\\ud800-\\udbff][\\udc00-\\udfff]",bi="["+Ru+"]",_a="\\u200d",Hn="(?:"+xa+"|"+Nu+")",Aa="(?:"+bi+"|"+Nu+")",ln="(?:"+ya+"(?:d|ll|m|re|s|t|ve))?",yi="(?:"+ya+"(?:D|LL|M|RE|S|T|VE))?",Hu=Ks+"?",$u="["+Fu+"]?",Hf="(?:"+_a+"(?:"+[Bu,Ys,Sa].join("|")+")"+$u+Hu+")*",un="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$f="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Uu=$u+Hu+Hf,Uf="(?:"+[Bf,Ys,Sa].join("|")+")"+Uu,zr="(?:"+[Bu+ts+"?",ts,Ys,Sa,Nf].join("|")+")",Wf=RegExp(ya,"g"),Gf=RegExp(ts,"g"),Ea=RegExp(wa+"(?="+wa+")|"+zr+Uu,"g"),Wu=RegExp([bi+"?"+xa+"+"+ln+"(?="+[ku,bi,"$"].join("|")+")",Aa+"+"+yi+"(?="+[ku,bi+Hn,"$"].join("|")+")",bi+"?"+Hn+"+"+ln,bi+"+"+yi,$f,un,Mu,Uf].join("|"),"g"),zf=RegExp("["+_a+js+bn+Fu+"]"),jf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xf=-1,ve={};ve[pi]=ve[Hs]=ve[$s]=ve[fa]=ve[wu]=ve[Us]=ve[da]=ve[Ws]=ve[pa]=!0,ve[Ht]=ve[Ut]=ve[we]=ve[ne]=ve[Ur]=ve[Se]=ve[Zn]=ve[ci]=ve[Nn]=ve[Jn]=ve[Oe]=ve[$r]=ve[Cn]=ve[Te]=ve[$e]=!1;var de={};de[Ht]=de[Ut]=de[we]=de[Ur]=de[ne]=de[Se]=de[pi]=de[Hs]=de[$s]=de[fa]=de[wu]=de[Nn]=de[Jn]=de[Oe]=de[$r]=de[Cn]=de[Te]=de[di]=de[Us]=de[da]=de[Ws]=de[pa]=!0,de[Zn]=de[ci]=de[$e]=!1;var Kf={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},zu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ju=parseFloat,Jf=parseInt,Zs=typeof v.g=="object"&&v.g&&v.g.Object===Object&&v.g,Qn=typeof self=="object"&&self&&self.Object===Object&&self,Ne=Zs||Qn||Function("return this")(),Pa=y&&!y.nodeType&&y,es=Pa&&!0&&P&&!P.nodeType&&P,Ca=es&&es.exports===Pa,Ta=Ca&&Zs.process,Tn=function(){try{var K=es&&es.require&&es.require("util").types;return K||Ta&&Ta.binding&&Ta.binding("util")}catch(at){}}(),Ia=Tn&&Tn.isArrayBuffer,yn=Tn&&Tn.isDate,Xu=Tn&&Tn.isMap,Ku=Tn&&Tn.isRegExp,Yu=Tn&&Tn.isSet,$n=Tn&&Tn.isTypedArray;function xn(K,at,it){switch(it.length){case 0:return K.call(at);case 1:return K.call(at,it[0]);case 2:return K.call(at,it[0],it[1]);case 3:return K.call(at,it[0],it[1],it[2])}return K.apply(at,it)}function Zu(K,at,it,xt){for(var Tt=-1,mt=K==null?0:K.length;++Tt<mt;){var Q=K[Tt];at(xt,Q,it(Q),K)}return xt}function In(K,at){for(var it=-1,xt=K==null?0:K.length;++it<xt&&at(K[it],it,K)!==!1;);return K}function Vf(K,at){for(var it=K==null?0:K.length;it--&&at(K[it],it,K)!==!1;);return K}function Oa(K,at){for(var it=-1,xt=K==null?0:K.length;++it<xt;)if(!at(K[it],it,K))return!1;return!0}function ar(K,at){for(var it=-1,xt=K==null?0:K.length,Tt=0,mt=[];++it<xt;){var Q=K[it];at(Q,it,K)&&(mt[Tt++]=Q)}return mt}function xi(K,at){var it=K==null?0:K.length;return!!it&&wi(K,at,0)>-1}function ns(K,at,it){for(var xt=-1,Tt=K==null?0:K.length;++xt<Tt;)if(it(at,K[xt]))return!0;return!1}function me(K,at){for(var it=-1,xt=K==null?0:K.length,Tt=Array(xt);++it<xt;)Tt[it]=at(K[it],it,K);return Tt}function Pr(K,at){for(var it=-1,xt=at.length,Tt=K.length;++it<xt;)K[Tt+it]=at[it];return K}function Js(K,at,it,xt){var Tt=-1,mt=K==null?0:K.length;for(xt&&mt&&(it=K[++Tt]);++Tt<mt;)it=at(it,K[Tt],Tt,K);return it}function Qf(K,at,it,xt){var Tt=K==null?0:K.length;for(xt&&Tt&&(it=K[--Tt]);Tt--;)it=at(it,K[Tt],Tt,K);return it}function Da(K,at){for(var it=-1,xt=K==null?0:K.length;++it<xt;)if(at(K[it],it,K))return!0;return!1}var Ju=Fa("length");function La(K){return K.split("")}function qf(K){return K.match(If)||[]}function rs(K,at,it){var xt;return it(K,function(Tt,mt,Q){if(at(Tt,mt,Q))return xt=mt,!1}),xt}function is(K,at,it,xt){for(var Tt=K.length,mt=it+(xt?1:-1);xt?mt--:++mt<Tt;)if(at(K[mt],mt,K))return mt;return-1}function wi(K,at,it){return at===at?ec(K,at,it):is(K,Ra,it)}function Vs(K,at,it,xt){for(var Tt=it-1,mt=K.length;++Tt<mt;)if(xt(K[Tt],at))return Tt;return-1}function Ra(K){return K!==K}function Vu(K,at){var it=K==null?0:K.length;return it?Na(K,at)/it:jt}function Fa(K){return function(at){return at==null?u:at[K]}}function ka(K){return function(at){return K==null?u:K[at]}}function Ma(K,at,it,xt,Tt){return Tt(K,function(mt,Q,Ft){it=xt?(xt=!1,mt):at(it,mt,Q,Ft)}),it}function td(K,at){var it=K.length;for(K.sort(at);it--;)K[it]=K[it].value;return K}function Na(K,at){for(var it,xt=-1,Tt=K.length;++xt<Tt;){var mt=at(K[xt]);mt!==u&&(it=it===u?mt:it+mt)}return it}function Qs(K,at){for(var it=-1,xt=Array(K);++it<K;)xt[it]=at(it);return xt}function Qu(K,at){return me(at,function(it){return[it,K[it]]})}function qu(K){return K&&K.slice(0,nc(K)+1).replace(va,"")}function wn(K){return function(at){return K(at)}}function qn(K,at){return me(at,function(it){return K[it]})}function Si(K,at){return K.has(at)}function Ba(K,at){for(var it=-1,xt=K.length;++it<xt&&wi(at,K[it],0)>-1;);return it}function qs(K,at){for(var it=K.length;it--&&wi(at,K[it],0)>-1;);return it}function ed(K,at){for(var it=K.length,xt=0;it--;)K[it]===at&&++xt;return xt}var nd=ka(Kf),rd=ka(zu);function id(K){return"\\"+Zf[K]}function sd(K,at){return K==null?u:K[at]}function _i(K){return zf.test(K)}function od(K){return jf.test(K)}function lr(K){for(var at,it=[];!(at=K.next()).done;)it.push(at.value);return it}function ss(K){var at=-1,it=Array(K.size);return K.forEach(function(xt,Tt){it[++at]=[Tt,xt]}),it}function tc(K,at){return function(it){return K(at(it))}}function ur(K,at){for(var it=-1,xt=K.length,Tt=0,mt=[];++it<xt;){var Q=K[it];(Q===at||Q===H)&&(K[it]=H,mt[Tt++]=it)}return mt}function to(K){var at=-1,it=Array(K.size);return K.forEach(function(xt){it[++at]=xt}),it}function ad(K){var at=-1,it=Array(K.size);return K.forEach(function(xt){it[++at]=[xt,xt]}),it}function ec(K,at,it){for(var xt=it-1,Tt=K.length;++xt<Tt;)if(K[xt]===at)return xt;return-1}function eo(K,at,it){for(var xt=it+1;xt--;)if(K[xt]===at)return xt;return xt}function tr(K){return _i(K)?ud(K):Ju(K)}function De(K){return _i(K)?rc(K):La(K)}function nc(K){for(var at=K.length;at--&&Gs.test(K.charAt(at)););return at}var ld=ka(Yf);function ud(K){for(var at=Ea.lastIndex=0;Ea.test(K);)++at;return at}function rc(K){return K.match(Ea)||[]}function cd(K){return K.match(Wu)||[]}var hd=function K(at){at=at==null?Ne:os.defaults(Ne.Object(),at,os.pick(Ne,Gu));var it=at.Array,xt=at.Date,Tt=at.Error,mt=at.Function,Q=at.Math,Ft=at.Object,Ha=at.RegExp,as=at.String,ge=at.TypeError,jr=it.prototype,ic=mt.prototype,Le=Ft.prototype,ls=at["__core-js_shared__"],us=ic.toString,re=Le.hasOwnProperty,fd=0,Ai=function(){var i=/[^.]+$/.exec(ls&&ls.keys&&ls.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Re=Le.toString,sc=us.call(Ft),dd=Ne._,cr=Ha("^"+us.call(re).replace(ga,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),no=Ca?at.Buffer:u,Ae=at.Symbol,cn=at.Uint8Array,oc=no?no.allocUnsafe:u,en=tc(Ft.getPrototypeOf,Ft),$a=Ft.create,ac=Le.propertyIsEnumerable,er=jr.splice,lc=Ae?Ae.isConcatSpreadable:u,cs=Ae?Ae.iterator:u,Xr=Ae?Ae.toStringTag:u,Ei=function(){try{var i=ei(Ft,"defineProperty");return i({},"",{}),i}catch(a){}}(),ie=at.clearTimeout!==Ne.clearTimeout&&at.clearTimeout,uc=xt&&xt.now!==Ne.Date.now&&xt.now,Ye=at.setTimeout!==Ne.setTimeout&&at.setTimeout,nn=Q.ceil,hs=Q.floor,Ua=Ft.getOwnPropertySymbols,Kr=no?no.isBuffer:u,Wa=at.isFinite,ro=jr.join,cc=tc(Ft.keys,Ft),Ee=Q.max,We=Q.min,Ge=xt.now,Ga=at.parseInt,hc=Q.random,Pi=jr.reverse,za=ei(at,"DataView"),fs=ei(at,"Map"),ja=ei(at,"Promise"),Fe=ei(at,"Set"),Yr=ei(at,"WeakMap"),Ci=ei(Ft,"create"),Be=Yr&&new Yr,Sn={},Ti=ri(za),Xa=ri(fs),hv=ri(ja),pd=ri(Fe),fv=ri(Yr),Ka=Ae?Ae.prototype:u,Ii=Ka?Ka.valueOf:u,io=Ka?Ka.toString:u;function x(i){if(xe(i)&&!Mt(i)&&!(i instanceof zt)){if(i instanceof Ze)return i;if(re.call(i,"__wrapped__"))return Vc(i)}return new Ze(i)}var Zr=function(){function i(){}return function(a){if(!ye(a))return{};if($a)return $a(a);i.prototype=a;var h=new i;return i.prototype=u,h}}();function Jr(){}function Ze(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=u}x.templateSettings={escape:Pu,evaluate:Pf,interpolate:ce,variable:"",imports:{_:x}},x.prototype=Jr.prototype,x.prototype.constructor=x,Ze.prototype=Zr(Jr.prototype),Ze.prototype.constructor=Ze;function zt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Zt,this.__views__=[]}function Oi(){var i=new zt(this.__wrapped__);return i.__actions__=pn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=pn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=pn(this.__views__),i}function so(){if(this.__filtered__){var i=new zt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function ds(){var i=this.__wrapped__.value(),a=this.__dir__,h=Mt(i),p=a<0,b=h?i.length:0,E=Nd(0,b,this.__views__),k=E.start,G=E.end,Y=G-k,lt=p?G:k-1,ut=this.__iteratees__,ht=ut.length,bt=0,Et=We(Y,this.__takeCount__);if(!h||!p&&b==Y&&Et==Y)return Oc(i,this.__actions__);var Dt=[];t:for(;Y--&&bt<Et;){lt+=a;for(var Gt=-1,Lt=i[lt];++Gt<ht;){var Kt=ut[Gt],Jt=Kt.iteratee,qe=Kt.type,tn=Jt(Lt);if(qe==_t)Lt=tn;else if(!tn){if(qe==dt)continue t;break t}}Dt[bt++]=Lt}return Dt}zt.prototype=Zr(Jr.prototype),zt.prototype.constructor=zt;function Ue(i){var a=-1,h=i==null?0:i.length;for(this.clear();++a<h;){var p=i[a];this.set(p[0],p[1])}}function dv(){this.__data__=Ci?Ci(null):{},this.size=0}function pv(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function gv(i){var a=this.__data__;if(Ci){var h=a[i];return h===M?u:h}return re.call(a,i)?a[i]:u}function vv(i){var a=this.__data__;return Ci?a[i]!==u:re.call(a,i)}function mv(i,a){var h=this.__data__;return this.size+=this.has(i)?0:1,h[i]=Ci&&a===u?M:a,this}Ue.prototype.clear=dv,Ue.prototype.delete=pv,Ue.prototype.get=gv,Ue.prototype.has=vv,Ue.prototype.set=mv;function Cr(i){var a=-1,h=i==null?0:i.length;for(this.clear();++a<h;){var p=i[a];this.set(p[0],p[1])}}function bv(){this.__data__=[],this.size=0}function gd(i){var a=this.__data__,h=Li(a,i);if(h<0)return!1;var p=a.length-1;return h==p?a.pop():er.call(a,h,1),--this.size,!0}function _n(i){var a=this.__data__,h=Li(a,i);return h<0?u:a[h][1]}function oo(i){return Li(this.__data__,i)>-1}function ps(i,a){var h=this.__data__,p=Li(h,i);return p<0?(++this.size,h.push([i,a])):h[p][1]=a,this}Cr.prototype.clear=bv,Cr.prototype.delete=gd,Cr.prototype.get=_n,Cr.prototype.has=oo,Cr.prototype.set=ps;function An(i){var a=-1,h=i==null?0:i.length;for(this.clear();++a<h;){var p=i[a];this.set(p[0],p[1])}}function hn(){this.size=0,this.__data__={hash:new Ue,map:new(fs||Cr),string:new Ue}}function fc(i){var a=Hi(this,i).delete(i);return this.size-=a?1:0,a}function Vr(i){return Hi(this,i).get(i)}function Di(i){return Hi(this,i).has(i)}function Ya(i,a){var h=Hi(this,i),p=h.size;return h.set(i,a),this.size+=h.size==p?0:1,this}An.prototype.clear=hn,An.prototype.delete=fc,An.prototype.get=Vr,An.prototype.has=Di,An.prototype.set=Ya;function Tr(i){var a=-1,h=i==null?0:i.length;for(this.__data__=new An;++a<h;)this.add(i[a])}function ao(i){return this.__data__.set(i,M),this}function vd(i){return this.__data__.has(i)}Tr.prototype.add=Tr.prototype.push=ao,Tr.prototype.has=vd;function Un(i){var a=this.__data__=new Cr(i);this.size=a.size}function Za(){this.__data__=new Cr,this.size=0}function Ir(i){var a=this.__data__,h=a.delete(i);return this.size=a.size,h}function lo(i){return this.__data__.get(i)}function md(i){return this.__data__.has(i)}function bd(i,a){var h=this.__data__;if(h instanceof Cr){var p=h.__data__;if(!fs||p.length<g-1)return p.push([i,a]),this.size=++h.size,this;h=this.__data__=new An(p)}return h.set(i,a),this.size=h.size,this}Un.prototype.clear=Za,Un.prototype.delete=Ir,Un.prototype.get=lo,Un.prototype.has=md,Un.prototype.set=bd;function Or(i,a){var h=Mt(i),p=!h&&yr(i),b=!h&&!p&&xr(i),E=!h&&!p&&!b&&Yi(i),k=h||p||b||E,G=k?Qs(i.length,as):[],Y=G.length;for(var lt in i)(a||re.call(i,lt))&&!(k&&(lt=="length"||b&&(lt=="offset"||lt=="parent")||E&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||mr(lt,Y)))&&G.push(lt);return G}function Dr(i){var a=i.length;return a?i[Ao(0,a-1)]:u}function Ja(i,a){return Is(pn(i),Ri(a,0,i.length))}function dc(i){return Is(pn(i))}function uo(i,a,h){(h!==u&&!Rn(i[a],h)||h===u&&!(a in i))&&hr(i,a,h)}function fn(i,a,h){var p=i[a];(!(re.call(i,a)&&Rn(p,h))||h===u&&!(a in i))&&hr(i,a,h)}function Li(i,a){for(var h=i.length;h--;)if(Rn(i[h][0],a))return h;return-1}function Va(i,a,h,p){return dn(i,function(b,E,k){a(p,b,h(b),k)}),p}function pc(i,a){return i&&Gn(a,He(a),i)}function yd(i,a){return i&&Gn(a,gn(a),i)}function hr(i,a,h){a=="__proto__"&&Ei?Ei(i,a,{configurable:!0,enumerable:!0,value:h,writable:!0}):i[a]=h}function Qa(i,a){for(var h=-1,p=a.length,b=it(p),E=i==null;++h<p;)b[h]=E?u:Vl(i,a[h]);return b}function Ri(i,a,h){return i===i&&(h!==u&&(i=i<=h?i:h),a!==u&&(i=i>=a?i:a)),i}function On(i,a,h,p,b,E){var k,G=a&I,Y=a&N,lt=a&W;if(h&&(k=b?h(i,p,b,E):h(i)),k!==u)return k;if(!ye(i))return i;var ut=Mt(i);if(ut){if(k=vl(i),!G)return pn(i,k)}else{var ht=Ve(i),bt=ht==ci||ht==hi;if(xr(i))return Dc(i,G);if(ht==Oe||ht==Ht||bt&&!b){if(k=Y||bt?{}:jc(i),!G)return Y?Dd(i,yd(k,i)):Lo(i,pc(k,i))}else{if(!de[ht])return b?i:{};k=Bd(i,ht,G)}}E||(E=new Un);var Et=E.get(i);if(Et)return Et;E.set(i,k),Yl(i)?i.forEach(function(Lt){k.add(On(Lt,a,h,Lt,i,E))}):Xl(i)&&i.forEach(function(Lt,Kt){k.set(Kt,On(Lt,a,h,Kt,i,E))});var Dt=lt?Y?As:Gc:Y?gn:He,Gt=ut?u:Dt(i);return In(Gt||i,function(Lt,Kt){Gt&&(Kt=Lt,Lt=i[Kt]),fn(k,Kt,On(Lt,a,h,Kt,i,E))}),k}function xd(i){var a=He(i);return function(h){return gc(h,i,a)}}function gc(i,a,h){var p=h.length;if(i==null)return!p;for(i=Ft(i);p--;){var b=h[p],E=a[b],k=i[b];if(k===u&&!(b in i)||!E(k))return!1}return!0}function vc(i,a,h){if(typeof i!="function")throw new ge(L);return Cs(function(){i.apply(u,h)},a)}function co(i,a,h,p){var b=-1,E=xi,k=!0,G=i.length,Y=[],lt=a.length;if(!G)return Y;h&&(a=me(a,wn(h))),p?(E=ns,k=!1):a.length>=g&&(E=Si,k=!1,a=new Tr(a));t:for(;++b<G;){var ut=i[b],ht=h==null?ut:h(ut);if(ut=p||ut!==0?ut:0,k&&ht===ht){for(var bt=lt;bt--;)if(a[bt]===ht)continue t;Y.push(ut)}else E(a,ht,p)||Y.push(ut)}return Y}var dn=Nc(Wn),ho=Nc(po,!0);function qa(i,a){var h=!0;return dn(i,function(p,b,E){return h=!!a(p,b,E),h}),h}function fo(i,a,h){for(var p=-1,b=i.length;++p<b;){var E=i[p],k=a(E);if(k!=null&&(G===u?k===k&&!on(k):h(k,G)))var G=k,Y=E}return Y}function yv(i,a,h,p){var b=i.length;for(h=Wt(h),h<0&&(h=-h>b?0:b+h),p=p===u||p>b?b:Wt(p),p<0&&(p+=b),p=h>p?0:Uh(p);h<p;)i[h++]=a;return i}function mc(i,a){var h=[];return dn(i,function(p,b,E){a(p,b,E)&&h.push(p)}),h}function ze(i,a,h,p,b){var E=-1,k=i.length;for(h||(h=$d),b||(b=[]);++E<k;){var G=i[E];a>0&&h(G)?a>1?ze(G,a-1,h,p,b):Pr(b,G):p||(b[b.length]=G)}return b}var tl=Ro(),gs=Ro(!0);function Wn(i,a){return i&&tl(i,a,He)}function po(i,a){return i&&gs(i,a,He)}function go(i,a){return ar(a,function(h){return Kn(i[h])})}function Lr(i,a){a=Rr(a,i);for(var h=0,p=a.length;i!=null&&h<p;)i=i[Xn(a[h++])];return h&&h==p?i:u}function bc(i,a,h){var p=a(i);return Mt(i)?p:Pr(p,h(i))}function je(i){return i==null?i===u?qi:Bn:Xr&&Xr in Ft(i)?Md(i):jd(i)}function el(i,a){return i>a}function Qr(i,a){return i!=null&&re.call(i,a)}function Fi(i,a){return i!=null&&a in Ft(i)}function yc(i,a,h){return i>=We(a,h)&&i<Ee(a,h)}function vo(i,a,h){for(var p=h?ns:xi,b=i[0].length,E=i.length,k=E,G=it(E),Y=1/0,lt=[];k--;){var ut=i[k];k&&a&&(ut=me(ut,wn(a))),Y=We(ut.length,Y),G[k]=!h&&(a||b>=120&&ut.length>=120)?new Tr(k&&ut):u}ut=i[0];var ht=-1,bt=G[0];t:for(;++ht<b&&lt.length<Y;){var Et=ut[ht],Dt=a?a(Et):Et;if(Et=h||Et!==0?Et:0,!(bt?Si(bt,Dt):p(lt,Dt,h))){for(k=E;--k;){var Gt=G[k];if(!(Gt?Si(Gt,Dt):p(i[k],Dt,h)))continue t}bt&&bt.push(Dt),lt.push(Et)}}return lt}function nl(i,a,h,p){return Wn(i,function(b,E,k){a(p,h(b),E,k)}),p}function qr(i,a,h){a=Rr(a,i),i=Zc(i,a);var p=i==null?i:i[Xn(sn(a))];return p==null?u:xn(p,i,h)}function mo(i){return xe(i)&&je(i)==Ht}function bo(i){return xe(i)&&je(i)==we}function vs(i){return xe(i)&&je(i)==Se}function ms(i,a,h,p,b){return i===a?!0:i==null||a==null||!xe(i)&&!xe(a)?i!==i&&a!==a:yo(i,a,h,p,ms,b)}function yo(i,a,h,p,b,E){var k=Mt(i),G=Mt(a),Y=k?Ut:Ve(i),lt=G?Ut:Ve(a);Y=Y==Ht?Oe:Y,lt=lt==Ht?Oe:lt;var ut=Y==Oe,ht=lt==Oe,bt=Y==lt;if(bt&&xr(i)){if(!xr(a))return!1;k=!0,ut=!1}if(bt&&!ut)return E||(E=new Un),k||Yi(i)?kd(i,a,h,p,b,E):pr(i,a,Y,h,p,b,E);if(!(h&D)){var Et=ut&&re.call(i,"__wrapped__"),Dt=ht&&re.call(a,"__wrapped__");if(Et||Dt){var Gt=Et?i.value():i,Lt=Dt?a.value():a;return E||(E=new Un),b(Gt,Lt,h,p,E)}}return bt?(E||(E=new Un),pl(i,a,h,p,b,E)):!1}function wd(i){return xe(i)&&Ve(i)==Nn}function xo(i,a,h,p){var b=h.length,E=b,k=!p;if(i==null)return!E;for(i=Ft(i);b--;){var G=h[b];if(k&&G[2]?G[1]!==i[G[0]]:!(G[0]in i))return!1}for(;++b<E;){G=h[b];var Y=G[0],lt=i[Y],ut=G[1];if(k&&G[2]){if(lt===u&&!(Y in i))return!1}else{var ht=new Un;if(p)var bt=p(lt,ut,Y,i,a,ht);if(!(bt===u?ms(ut,lt,D|X,p,ht):bt))return!1}}return!0}function wo(i){if(!ye(i)||Ud(i))return!1;var a=Kn(i)?cr:Vn;return a.test(ri(i))}function xv(i){return xe(i)&&je(i)==$r}function wv(i){return xe(i)&&Ve(i)==Cn}function Sv(i){return xe(i)&&jl(i.length)&&!!ve[je(i)]}function Sd(i){return typeof i=="function"?i:i==null?vn:typeof i=="object"?Mt(i)?Ed(i[0],i[1]):Ad(i):fu(i)}function xc(i){if(!ni(i))return cc(i);var a=[];for(var h in Ft(i))re.call(i,h)&&h!="constructor"&&a.push(h);return a}function _v(i){if(!ye(i))return ml(i);var a=ni(i),h=[];for(var p in i)p=="constructor"&&(a||!re.call(i,p))||h.push(p);return h}function wc(i,a){return i<a}function _d(i,a){var h=-1,p=Qe(i)?it(i.length):[];return dn(i,function(b,E,k){p[++h]=a(b,E,k)}),p}function Ad(i){var a=Ps(i);return a.length==1&&a[0][2]?Yc(a[0][0],a[0][1]):function(h){return h===i||xo(h,i,a)}}function Ed(i,a){return $o(i)&&Kc(a)?Yc(Xn(i),a):function(h){var p=Vl(h,i);return p===u&&p===a?Ql(h,i):ms(a,p,D|X)}}function rl(i,a,h,p,b){i!==a&&tl(a,function(E,k){if(b||(b=new Un),ye(E))Sc(i,a,k,h,rl,p,b);else{var G=p?p(bl(i,k),E,k+"",i,a,b):u;G===u&&(G=E),uo(i,k,G)}},gn)}function Sc(i,a,h,p,b,E,k){var G=bl(i,h),Y=bl(a,h),lt=k.get(Y);if(lt){uo(i,h,lt);return}var ut=E?E(G,Y,h+"",i,a,k):u,ht=ut===u;if(ht){var bt=Mt(Y),Et=!bt&&xr(Y),Dt=!bt&&!Et&&Yi(Y);ut=Y,bt||Et||Dt?Mt(G)?ut=G:Pe(G)?ut=pn(G):Et?(ht=!1,ut=Dc(Y,!0)):Dt?(ht=!1,ut=hl(Y,!0)):ut=[]:ji(Y)||yr(Y)?(ut=G,yr(G)?ut=Jl(G):(!ye(G)||Kn(G))&&(ut=jc(Y))):ht=!1}ht&&(k.set(Y,ut),b(ut,Y,p,E,k),k.delete(Y)),uo(i,h,ut)}function bs(i,a){var h=i.length;if(!!h)return a+=a<0?h:0,mr(a,h)?i[a]:u}function So(i,a,h){a.length?a=me(a,function(E){return Mt(E)?function(k){return Lr(k,E.length===1?E[0]:E)}:E}):a=[vn];var p=-1;a=me(a,wn(It()));var b=_d(i,function(E,k,G){var Y=me(a,function(lt){return lt(E)});return{criteria:Y,index:++p,value:E}});return td(b,function(E,k){return Od(E,k,h)})}function _c(i,a){return _o(i,a,function(h,p){return Ql(i,p)})}function _o(i,a,h){for(var p=-1,b=a.length,E={};++p<b;){var k=a[p],G=Lr(i,k);h(G,k)&&xs(E,Rr(k,i),G)}return E}function Ac(i){return function(a){return Lr(a,i)}}function nr(i,a,h,p){var b=p?Vs:wi,E=-1,k=a.length,G=i;for(i===a&&(a=pn(a)),h&&(G=me(i,wn(h)));++E<k;)for(var Y=0,lt=a[E],ut=h?h(lt):lt;(Y=b(G,ut,Y,p))>-1;)G!==i&&er.call(G,Y,1),er.call(i,Y,1);return i}function Ec(i,a){for(var h=i?a.length:0,p=h-1;h--;){var b=a[h];if(h==p||b!==E){var E=b;mr(b)?er.call(i,b,1):al(i,b)}}return i}function Ao(i,a){return i+hs(hc()*(a-i+1))}function Pd(i,a,h,p){for(var b=-1,E=Ee(nn((a-i)/(h||1)),0),k=it(E);E--;)k[p?E:++b]=i,i+=h;return k}function ys(i,a){var h="";if(!i||a<1||a>yt)return h;do a%2&&(h+=i),a=hs(a/2),a&&(i+=i);while(a);return h}function Bt(i,a){return yl(be(i,a,vn),i+"")}function Pc(i){return Dr(Zi(i))}function Cd(i,a){var h=Zi(i);return Is(h,Ri(a,0,h.length))}function xs(i,a,h,p){if(!ye(i))return i;a=Rr(a,i);for(var b=-1,E=a.length,k=E-1,G=i;G!=null&&++b<E;){var Y=Xn(a[b]),lt=h;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return i;if(b!=k){var ut=G[Y];lt=p?p(ut,Y,G):u,lt===u&&(lt=ye(ut)?ut:mr(a[b+1])?[]:{})}fn(G,Y,lt),G=G[Y]}return i}var il=Be?function(i,a){return Be.set(i,a),i}:vn,sl=Ei?function(i,a){return Ei(i,"toString",{configurable:!0,enumerable:!1,value:cu(a),writable:!0})}:vn;function Td(i){return Is(Zi(i))}function Je(i,a,h){var p=-1,b=i.length;a<0&&(a=-a>b?0:b+a),h=h>b?b:h,h<0&&(h+=b),b=a>h?0:h-a>>>0,a>>>=0;for(var E=it(b);++p<b;)E[p]=i[p+a];return E}function Eo(i,a){var h;return dn(i,function(p,b,E){return h=a(p,b,E),!h}),!!h}function Po(i,a,h){var p=0,b=i==null?p:i.length;if(typeof a=="number"&&a===a&&b<=vt){for(;p<b;){var E=p+b>>>1,k=i[E];k!==null&&!on(k)&&(h?k<=a:k<a)?p=E+1:b=E}return b}return ol(i,a,vn,h)}function ol(i,a,h,p){var b=0,E=i==null?0:i.length;if(E===0)return 0;a=h(a);for(var k=a!==a,G=a===null,Y=on(a),lt=a===u;b<E;){var ut=hs((b+E)/2),ht=h(i[ut]),bt=ht!==u,Et=ht===null,Dt=ht===ht,Gt=on(ht);if(k)var Lt=p||Dt;else lt?Lt=Dt&&(p||bt):G?Lt=Dt&&bt&&(p||!Et):Y?Lt=Dt&&bt&&!Et&&(p||!Gt):Et||Gt?Lt=!1:Lt=p?ht<=a:ht<a;Lt?b=ut+1:E=ut}return We(E,qt)}function Cc(i,a){for(var h=-1,p=i.length,b=0,E=[];++h<p;){var k=i[h],G=a?a(k):k;if(!h||!Rn(G,Y)){var Y=G;E[b++]=k===0?0:k}}return E}function Tc(i){return typeof i=="number"?i:on(i)?jt:+i}function En(i){if(typeof i=="string")return i;if(Mt(i))return me(i,En)+"";if(on(i))return io?io.call(i):"";var a=i+"";return a=="0"&&1/i==-kt?"-0":a}function fr(i,a,h){var p=-1,b=xi,E=i.length,k=!0,G=[],Y=G;if(h)k=!1,b=ns;else if(E>=g){var lt=a?null:Fd(i);if(lt)return to(lt);k=!1,b=Si,Y=new Tr}else Y=a?[]:G;t:for(;++p<E;){var ut=i[p],ht=a?a(ut):ut;if(ut=h||ut!==0?ut:0,k&&ht===ht){for(var bt=Y.length;bt--;)if(Y[bt]===ht)continue t;a&&Y.push(ht),G.push(ut)}else b(Y,ht,h)||(Y!==G&&Y.push(ht),G.push(ut))}return G}function al(i,a){return a=Rr(a,i),i=Zc(i,a),i==null||delete i[Xn(sn(a))]}function Ic(i,a,h,p){return xs(i,a,h(Lr(i,a)),p)}function Co(i,a,h,p){for(var b=i.length,E=p?b:-1;(p?E--:++E<b)&&a(i[E],E,i););return h?Je(i,p?0:E,p?E+1:b):Je(i,p?E+1:0,p?b:E)}function Oc(i,a){var h=i;return h instanceof zt&&(h=h.value()),Js(a,function(p,b){return b.func.apply(b.thisArg,Pr([p],b.args))},h)}function To(i,a,h){var p=i.length;if(p<2)return p?fr(i[0]):[];for(var b=-1,E=it(p);++b<p;)for(var k=i[b],G=-1;++G<p;)G!=b&&(E[b]=co(E[b]||k,i[G],a,h));return fr(ze(E,1),a,h)}function ll(i,a,h){for(var p=-1,b=i.length,E=a.length,k={};++p<b;){var G=p<E?a[p]:u;h(k,i[p],G)}return k}function ul(i){return Pe(i)?i:[]}function Io(i){return typeof i=="function"?i:vn}function Rr(i,a){return Mt(i)?i:$o(i,a)?[i]:Wo(oe(i))}var Id=Bt;function dr(i,a,h){var p=i.length;return h=h===u?p:h,!a&&h>=p?i:Je(i,a,h)}var Oo=ie||function(i){return Ne.clearTimeout(i)};function Dc(i,a){if(a)return i.slice();var h=i.length,p=oc?oc(h):new i.constructor(h);return i.copy(p),p}function Do(i){var a=new i.constructor(i.byteLength);return new cn(a).set(new cn(i)),a}function Lc(i,a){var h=a?Do(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.byteLength)}function cl(i){var a=new i.constructor(i.source,ma.exec(i));return a.lastIndex=i.lastIndex,a}function Rc(i){return Ii?Ft(Ii.call(i)):{}}function hl(i,a){var h=a?Do(i.buffer):i.buffer;return new i.constructor(h,i.byteOffset,i.length)}function Fc(i,a){if(i!==a){var h=i!==u,p=i===null,b=i===i,E=on(i),k=a!==u,G=a===null,Y=a===a,lt=on(a);if(!G&&!lt&&!E&&i>a||E&&k&&Y&&!G&&!lt||p&&k&&Y||!h&&Y||!b)return 1;if(!p&&!E&&!lt&&i<a||lt&&h&&b&&!p&&!E||G&&h&&b||!k&&b||!Y)return-1}return 0}function Od(i,a,h){for(var p=-1,b=i.criteria,E=a.criteria,k=b.length,G=h.length;++p<k;){var Y=Fc(b[p],E[p]);if(Y){if(p>=G)return Y;var lt=h[p];return Y*(lt=="desc"?-1:1)}}return i.index-a.index}function kc(i,a,h,p){for(var b=-1,E=i.length,k=h.length,G=-1,Y=a.length,lt=Ee(E-k,0),ut=it(Y+lt),ht=!p;++G<Y;)ut[G]=a[G];for(;++b<k;)(ht||b<E)&&(ut[h[b]]=i[b]);for(;lt--;)ut[G++]=i[b++];return ut}function Mc(i,a,h,p){for(var b=-1,E=i.length,k=-1,G=h.length,Y=-1,lt=a.length,ut=Ee(E-G,0),ht=it(ut+lt),bt=!p;++b<ut;)ht[b]=i[b];for(var Et=b;++Y<lt;)ht[Et+Y]=a[Y];for(;++k<G;)(bt||b<E)&&(ht[Et+h[k]]=i[b++]);return ht}function pn(i,a){var h=-1,p=i.length;for(a||(a=it(p));++h<p;)a[h]=i[h];return a}function Gn(i,a,h,p){var b=!h;h||(h={});for(var E=-1,k=a.length;++E<k;){var G=a[E],Y=p?p(h[G],i[G],G,h,i):u;Y===u&&(Y=i[G]),b?hr(h,G,Y):fn(h,G,Y)}return h}function Lo(i,a){return Gn(i,gl(i),a)}function Dd(i,a){return Gn(i,zc(i),a)}function ws(i,a){return function(h,p){var b=Mt(h)?Zu:Va,E=a?a():{};return b(h,i,It(p,2),E)}}function ki(i){return Bt(function(a,h){var p=-1,b=h.length,E=b>1?h[b-1]:u,k=b>2?h[2]:u;for(E=i.length>3&&typeof E=="function"?(b--,E):u,k&&rn(h[0],h[1],k)&&(E=b<3?u:E,b=1),a=Ft(a);++p<b;){var G=h[p];G&&i(a,G,p,E)}return a})}function Nc(i,a){return function(h,p){if(h==null)return h;if(!Qe(h))return i(h,p);for(var b=h.length,E=a?b:-1,k=Ft(h);(a?E--:++E<b)&&p(k[E],E,k)!==!1;);return h}}function Ro(i){return function(a,h,p){for(var b=-1,E=Ft(a),k=p(a),G=k.length;G--;){var Y=k[i?G:++b];if(h(E[Y],Y,E)===!1)break}return a}}function Ld(i,a,h){var p=a&q,b=Ss(i);function E(){var k=this&&this!==Ne&&this instanceof E?b:i;return k.apply(p?h:this,arguments)}return E}function Fo(i){return function(a){a=oe(a);var h=_i(a)?De(a):u,p=h?h[0]:a.charAt(0),b=h?dr(h,1).join(""):a.slice(1);return p[i]()+b}}function Mi(i){return function(a){return Js(uf(sf(a).replace(Wf,"")),i,"")}}function Ss(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var h=Zr(i.prototype),p=i.apply(h,a);return ye(p)?p:h}}function Bc(i,a,h){var p=Ss(i);function b(){for(var E=arguments.length,k=it(E),G=E,Y=Bi(b);G--;)k[G]=arguments[G];var lt=E<3&&k[0]!==Y&&k[E-1]!==Y?[]:ur(k,Y);if(E-=lt.length,E<h)return Uc(i,a,ko,b.placeholder,u,k,lt,u,u,h-E);var ut=this&&this!==Ne&&this instanceof b?p:i;return xn(ut,this,k)}return b}function Hc(i){return function(a,h,p){var b=Ft(a);if(!Qe(a)){var E=It(h,3);a=He(a),h=function(G){return E(b[G],G,b)}}var k=i(a,h,p);return k>-1?b[E?a[k]:k]:u}}function Ni(i){return Dn(function(a){var h=a.length,p=h,b=Ze.prototype.thru;for(i&&a.reverse();p--;){var E=a[p];if(typeof E!="function")throw new ge(L);if(b&&!k&&gr(E)=="wrapper")var k=new Ze([],!0)}for(p=k?p:h;++p<h;){E=a[p];var G=gr(E),Y=G=="wrapper"?Es(E):u;Y&&Uo(Y[0])&&Y[1]==(T|F|U|R)&&!Y[4].length&&Y[9]==1?k=k[gr(Y[0])].apply(k,Y[3]):k=E.length==1&&Uo(E)?k[G]():k.thru(E)}return function(){var lt=arguments,ut=lt[0];if(k&&lt.length==1&&Mt(ut))return k.plant(ut).value();for(var ht=0,bt=h?a[ht].apply(this,lt):ut;++ht<h;)bt=a[ht].call(this,bt);return bt}})}function ko(i,a,h,p,b,E,k,G,Y,lt){var ut=a&T,ht=a&q,bt=a&nt,Et=a&(F|Z),Dt=a&B,Gt=bt?u:Ss(i);function Lt(){for(var Kt=arguments.length,Jt=it(Kt),qe=Kt;qe--;)Jt[qe]=arguments[qe];if(Et)var tn=Bi(Lt),Pn=ed(Jt,tn);if(p&&(Jt=kc(Jt,p,b,Et)),E&&(Jt=Mc(Jt,E,k,Et)),Kt-=Pn,Et&&Kt<lt){var Ie=ur(Jt,tn);return Uc(i,a,ko,Lt.placeholder,h,Jt,Ie,G,Y,lt-Kt)}var kn=ht?h:this,Mr=bt?kn[i]:i;return Kt=Jt.length,G?Jt=Xd(Jt,G):Dt&&Kt>1&&Jt.reverse(),ut&&Y<Kt&&(Jt.length=Y),this&&this!==Ne&&this instanceof Lt&&(Mr=Gt||Ss(Mr)),Mr.apply(kn,Jt)}return Lt}function $c(i,a){return function(h,p){return nl(h,i,a(p),{})}}function Mo(i,a){return function(h,p){var b;if(h===u&&p===u)return a;if(h!==u&&(b=h),p!==u){if(b===u)return p;typeof h=="string"||typeof p=="string"?(h=En(h),p=En(p)):(h=Tc(h),p=Tc(p)),b=i(h,p)}return b}}function No(i){return Dn(function(a){return a=me(a,wn(It())),Bt(function(h){var p=this;return i(a,function(b){return xn(b,p,h)})})})}function Bo(i,a){a=a===u?" ":En(a);var h=a.length;if(h<2)return h?ys(a,i):a;var p=ys(a,nn(i/tr(a)));return _i(a)?dr(De(p),0,i).join(""):p.slice(0,i)}function ti(i,a,h,p){var b=a&q,E=Ss(i);function k(){for(var G=-1,Y=arguments.length,lt=-1,ut=p.length,ht=it(ut+Y),bt=this&&this!==Ne&&this instanceof k?E:i;++lt<ut;)ht[lt]=p[lt];for(;Y--;)ht[lt++]=arguments[++G];return xn(bt,b?h:this,ht)}return k}function Rd(i){return function(a,h,p){return p&&typeof p!="number"&&rn(a,h,p)&&(h=p=u),a=Sr(a),h===u?(h=a,a=0):h=Sr(h),p=p===u?a<h?1:-1:Sr(p),Pd(a,h,p,i)}}function _s(i){return function(a,h){return typeof a=="string"&&typeof h=="string"||(a=Fn(a),h=Fn(h)),i(a,h)}}function Uc(i,a,h,p,b,E,k,G,Y,lt){var ut=a&F,ht=ut?k:u,bt=ut?u:k,Et=ut?E:u,Dt=ut?u:E;a|=ut?U:w,a&=~(ut?w:U),a&$||(a&=~(q|nt));var Gt=[i,a,b,Et,ht,Dt,bt,G,Y,lt],Lt=h.apply(u,Gt);return Uo(i)&&Jc(Lt,Gt),Lt.placeholder=p,xl(Lt,i,a)}function fl(i){var a=Q[i];return function(h,p){if(h=Fn(h),p=p==null?0:We(Wt(p),292),p&&Wa(h)){var b=(oe(h)+"e").split("e"),E=a(b[0]+"e"+(+b[1]+p));return b=(oe(E)+"e").split("e"),+(b[0]+"e"+(+b[1]-p))}return a(h)}}var Fd=Fe&&1/to(new Fe([,-0]))[1]==kt?function(i){return new Fe(i)}:oa;function Wc(i){return function(a){var h=Ve(a);return h==Nn?ss(a):h==Cn?ad(a):Qu(a,i(a))}}function rr(i,a,h,p,b,E,k,G){var Y=a&nt;if(!Y&&typeof i!="function")throw new ge(L);var lt=p?p.length:0;if(lt||(a&=~(U|w),p=b=u),k=k===u?k:Ee(Wt(k),0),G=G===u?G:Wt(G),lt-=b?b.length:0,a&w){var ut=p,ht=b;p=b=u}var bt=Y?u:Es(i),Et=[i,a,h,p,b,ut,ht,E,k,G];if(bt&&zd(Et,bt),i=Et[0],a=Et[1],h=Et[2],p=Et[3],b=Et[4],G=Et[9]=Et[9]===u?Y?0:i.length:Ee(Et[9]-lt,0),!G&&a&(F|Z)&&(a&=~(F|Z)),!a||a==q)var Dt=Ld(i,a,h);else a==F||a==Z?Dt=Bc(i,a,G):(a==U||a==(q|U))&&!b.length?Dt=ti(i,a,h,p):Dt=ko.apply(u,Et);var Gt=bt?il:Jc;return xl(Gt(Dt,Et),i,a)}function Ho(i,a,h,p){return i===u||Rn(i,Le[h])&&!re.call(p,h)?a:i}function dl(i,a,h,p,b,E){return ye(i)&&ye(a)&&(E.set(a,i),rl(i,a,u,dl,E),E.delete(a)),i}function zn(i){return ji(i)?u:i}function kd(i,a,h,p,b,E){var k=h&D,G=i.length,Y=a.length;if(G!=Y&&!(k&&Y>G))return!1;var lt=E.get(i),ut=E.get(a);if(lt&&ut)return lt==a&&ut==i;var ht=-1,bt=!0,Et=h&X?new Tr:u;for(E.set(i,a),E.set(a,i);++ht<G;){var Dt=i[ht],Gt=a[ht];if(p)var Lt=k?p(Gt,Dt,ht,a,i,E):p(Dt,Gt,ht,i,a,E);if(Lt!==u){if(Lt)continue;bt=!1;break}if(Et){if(!Da(a,function(Kt,Jt){if(!Si(Et,Jt)&&(Dt===Kt||b(Dt,Kt,h,p,E)))return Et.push(Jt)})){bt=!1;break}}else if(!(Dt===Gt||b(Dt,Gt,h,p,E))){bt=!1;break}}return E.delete(i),E.delete(a),bt}function pr(i,a,h,p,b,E,k){switch(h){case Ur:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case we:return!(i.byteLength!=a.byteLength||!E(new cn(i),new cn(a)));case ne:case Se:case Jn:return Rn(+i,+a);case Zn:return i.name==a.name&&i.message==a.message;case $r:case Te:return i==a+"";case Nn:var G=ss;case Cn:var Y=p&D;if(G||(G=to),i.size!=a.size&&!Y)return!1;var lt=k.get(i);if(lt)return lt==a;p|=X,k.set(i,a);var ut=kd(G(i),G(a),p,b,E,k);return k.delete(i),ut;case di:if(Ii)return Ii.call(i)==Ii.call(a)}return!1}function pl(i,a,h,p,b,E){var k=h&D,G=Gc(i),Y=G.length,lt=Gc(a),ut=lt.length;if(Y!=ut&&!k)return!1;for(var ht=Y;ht--;){var bt=G[ht];if(!(k?bt in a:re.call(a,bt)))return!1}var Et=E.get(i),Dt=E.get(a);if(Et&&Dt)return Et==a&&Dt==i;var Gt=!0;E.set(i,a),E.set(a,i);for(var Lt=k;++ht<Y;){bt=G[ht];var Kt=i[bt],Jt=a[bt];if(p)var qe=k?p(Jt,Kt,bt,a,i,E):p(Kt,Jt,bt,i,a,E);if(!(qe===u?Kt===Jt||b(Kt,Jt,h,p,E):qe)){Gt=!1;break}Lt||(Lt=bt=="constructor")}if(Gt&&!Lt){var tn=i.constructor,Pn=a.constructor;tn!=Pn&&"constructor"in i&&"constructor"in a&&!(typeof tn=="function"&&tn instanceof tn&&typeof Pn=="function"&&Pn instanceof Pn)&&(Gt=!1)}return E.delete(i),E.delete(a),Gt}function Dn(i){return yl(be(i,u,nh),i+"")}function Gc(i){return bc(i,He,gl)}function As(i){return bc(i,gn,zc)}var Es=Be?function(i){return Be.get(i)}:oa;function gr(i){for(var a=i.name+"",h=Sn[a],p=re.call(Sn,a)?h.length:0;p--;){var b=h[p],E=b.func;if(E==null||E==i)return b.name}return a}function Bi(i){var a=re.call(x,"placeholder")?x:i;return a.placeholder}function It(){var i=x.iteratee||hu;return i=i===hu?Sd:i,arguments.length?i(arguments[0],arguments[1]):i}function Hi(i,a){var h=i.__data__;return Xc(a)?h[typeof a=="string"?"string":"hash"]:h.map}function Ps(i){for(var a=He(i),h=a.length;h--;){var p=a[h],b=i[p];a[h]=[p,b,Kc(b)]}return a}function ei(i,a){var h=sd(i,a);return wo(h)?h:u}function Md(i){var a=re.call(i,Xr),h=i[Xr];try{i[Xr]=u;var p=!0}catch(E){}var b=Re.call(i);return p&&(a?i[Xr]=h:delete i[Xr]),b}var gl=Ua?function(i){return i==null?[]:(i=Ft(i),ar(Ua(i),function(a){return ac.call(i,a)}))}:pu,zc=Ua?function(i){for(var a=[];i;)Pr(a,gl(i)),i=en(i);return a}:pu,Ve=je;(za&&Ve(new za(new ArrayBuffer(1)))!=Ur||fs&&Ve(new fs)!=Nn||ja&&Ve(ja.resolve())!=Hr||Fe&&Ve(new Fe)!=Cn||Yr&&Ve(new Yr)!=$e)&&(Ve=function(i){var a=je(i),h=a==Oe?i.constructor:u,p=h?ri(h):"";if(p)switch(p){case Ti:return Ur;case Xa:return Nn;case hv:return Hr;case pd:return Cn;case fv:return $e}return a});function Nd(i,a,h){for(var p=-1,b=h.length;++p<b;){var E=h[p],k=E.size;switch(E.type){case"drop":i+=k;break;case"dropRight":a-=k;break;case"take":a=We(a,i+k);break;case"takeRight":i=Ee(i,a-k);break}}return{start:i,end:a}}function jn(i){var a=i.match(vi);return a?a[1].split(Tu):[]}function vr(i,a,h){a=Rr(a,i);for(var p=-1,b=a.length,E=!1;++p<b;){var k=Xn(a[p]);if(!(E=i!=null&&h(i,k)))break;i=i[k]}return E||++p!=b?E:(b=i==null?0:i.length,!!b&&jl(b)&&mr(k,b)&&(Mt(i)||yr(i)))}function vl(i){var a=i.length,h=new i.constructor(a);return a&&typeof i[0]=="string"&&re.call(i,"index")&&(h.index=i.index,h.input=i.input),h}function jc(i){return typeof i.constructor=="function"&&!ni(i)?Zr(en(i)):{}}function Bd(i,a,h){var p=i.constructor;switch(a){case we:return Do(i);case ne:case Se:return new p(+i);case Ur:return Lc(i,h);case pi:case Hs:case $s:case fa:case wu:case Us:case da:case Ws:case pa:return hl(i,h);case Nn:return new p;case Jn:case Te:return new p(i);case $r:return cl(i);case Cn:return new p;case di:return Rc(i)}}function Hd(i,a){var h=a.length;if(!h)return i;var p=h-1;return a[p]=(h>1?"& ":"")+a[p],a=a.join(h>2?", ":" "),i.replace(Cu,`{
/* [wrapped with `+a+`] */
`)}function $d(i){return Mt(i)||yr(i)||!!(lc&&i&&i[lc])}function mr(i,a){var h=typeof i;return a=a==null?yt:a,!!a&&(h=="number"||h!="symbol"&&Rf.test(i))&&i>-1&&i%1==0&&i<a}function rn(i,a,h){if(!ye(h))return!1;var p=typeof a;return(p=="number"?Qe(h)&&mr(a,h.length):p=="string"&&a in h)?Rn(h[a],i):!1}function $o(i,a){if(Mt(i))return!1;var h=typeof i;return h=="number"||h=="symbol"||h=="boolean"||i==null||on(i)?!0:Er.test(i)||!Cf.test(i)||a!=null&&i in Ft(a)}function Xc(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function Uo(i){var a=gr(i),h=x[a];if(typeof h!="function"||!(a in zt.prototype))return!1;if(i===h)return!0;var p=Es(h);return!!p&&i===p[0]}function Ud(i){return!!Ai&&Ai in i}var Wd=ls?Kn:Ms;function ni(i){var a=i&&i.constructor,h=typeof a=="function"&&a.prototype||Le;return i===h}function Kc(i){return i===i&&!ye(i)}function Yc(i,a){return function(h){return h==null?!1:h[i]===a&&(a!==u||i in Ft(h))}}function Gd(i){var a=Yo(i,function(p){return h.size===j&&h.clear(),p}),h=a.cache;return a}function zd(i,a){var h=i[1],p=a[1],b=h|p,E=b<(q|nt|T),k=p==T&&h==F||p==T&&h==R&&i[7].length<=a[8]||p==(T|R)&&a[7].length<=a[8]&&h==F;if(!(E||k))return i;p&q&&(i[2]=a[2],b|=h&q?0:$);var G=a[3];if(G){var Y=i[3];i[3]=Y?kc(Y,G,a[4]):G,i[4]=Y?ur(i[3],H):a[4]}return G=a[5],G&&(Y=i[5],i[5]=Y?Mc(Y,G,a[6]):G,i[6]=Y?ur(i[5],H):a[6]),G=a[7],G&&(i[7]=G),p&T&&(i[8]=i[8]==null?a[8]:We(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=b,i}function ml(i){var a=[];if(i!=null)for(var h in Ft(i))a.push(h);return a}function jd(i){return Re.call(i)}function be(i,a,h){return a=Ee(a===u?i.length-1:a,0),function(){for(var p=arguments,b=-1,E=Ee(p.length-a,0),k=it(E);++b<E;)k[b]=p[a+b];b=-1;for(var G=it(a+1);++b<a;)G[b]=p[b];return G[a]=h(k),xn(i,this,G)}}function Zc(i,a){return a.length<2?i:Lr(i,Je(a,0,-1))}function Xd(i,a){for(var h=i.length,p=We(a.length,h),b=pn(i);p--;){var E=a[p];i[p]=mr(E,h)?b[E]:u}return i}function bl(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var Jc=Ts(il),Cs=Ye||function(i,a){return Ne.setTimeout(i,a)},yl=Ts(sl);function xl(i,a,h){var p=a+"";return yl(i,Hd(p,Kd(jn(p),h)))}function Ts(i){var a=0,h=0;return function(){var p=Ge(),b=gt-(p-h);if(h=p,b>0){if(++a>=st)return arguments[0]}else a=0;return i.apply(u,arguments)}}function Is(i,a){var h=-1,p=i.length,b=p-1;for(a=a===u?p:a;++h<a;){var E=Ao(h,b),k=i[E];i[E]=i[h],i[h]=k}return i.length=a,i}var Wo=Gd(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(Tf,function(h,p,b,E){a.push(b?E.replace(Of,"$1"):p||h)}),a});function Xn(i){if(typeof i=="string"||on(i))return i;var a=i+"";return a=="0"&&1/i==-kt?"-0":a}function ri(i){if(i!=null){try{return us.call(i)}catch(a){}try{return i+""}catch(a){}}return""}function Kd(i,a){return In(Rt,function(h){var p="_."+h[0];a&h[1]&&!xi(i,p)&&i.push(p)}),i.sort()}function Vc(i){if(i instanceof zt)return i.clone();var a=new Ze(i.__wrapped__,i.__chain__);return a.__actions__=pn(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function Yd(i,a,h){(h?rn(i,a,h):a===u)?a=1:a=Ee(Wt(a),0);var p=i==null?0:i.length;if(!p||a<1)return[];for(var b=0,E=0,k=it(nn(p/a));b<p;)k[E++]=Je(i,b,b+=a);return k}function Zd(i){for(var a=-1,h=i==null?0:i.length,p=0,b=[];++a<h;){var E=i[a];E&&(b[p++]=E)}return b}function Qc(){var i=arguments.length;if(!i)return[];for(var a=it(i-1),h=arguments[0],p=i;p--;)a[p-1]=arguments[p];return Pr(Mt(h)?pn(h):[h],ze(a,1))}var qc=Bt(function(i,a){return Pe(i)?co(i,ze(a,1,Pe,!0)):[]}),Jd=Bt(function(i,a){var h=sn(a);return Pe(h)&&(h=u),Pe(i)?co(i,ze(a,1,Pe,!0),It(h,2)):[]}),Vd=Bt(function(i,a){var h=sn(a);return Pe(h)&&(h=u),Pe(i)?co(i,ze(a,1,Pe,!0),u,h):[]});function Qd(i,a,h){var p=i==null?0:i.length;return p?(a=h||a===u?1:Wt(a),Je(i,a<0?0:a,p)):[]}function wl(i,a,h){var p=i==null?0:i.length;return p?(a=h||a===u?1:Wt(a),a=p-a,Je(i,0,a<0?0:a)):[]}function Sl(i,a){return i&&i.length?Co(i,It(a,3),!0,!0):[]}function th(i,a){return i&&i.length?Co(i,It(a,3),!0):[]}function Go(i,a,h,p){var b=i==null?0:i.length;return b?(h&&typeof h!="number"&&rn(i,a,h)&&(h=0,p=b),yv(i,a,h,p)):[]}function eh(i,a,h){var p=i==null?0:i.length;if(!p)return-1;var b=h==null?0:Wt(h);return b<0&&(b=Ee(p+b,0)),is(i,It(a,3),b)}function _l(i,a,h){var p=i==null?0:i.length;if(!p)return-1;var b=p-1;return h!==u&&(b=Wt(h),b=h<0?Ee(p+b,0):We(b,p-1)),is(i,It(a,3),b,!0)}function nh(i){var a=i==null?0:i.length;return a?ze(i,1):[]}function Al(i){var a=i==null?0:i.length;return a?ze(i,kt):[]}function El(i,a){var h=i==null?0:i.length;return h?(a=a===u?1:Wt(a),ze(i,a)):[]}function qd(i){for(var a=-1,h=i==null?0:i.length,p={};++a<h;){var b=i[a];p[b[0]]=b[1]}return p}function rh(i){return i&&i.length?i[0]:u}function tp(i,a,h){var p=i==null?0:i.length;if(!p)return-1;var b=h==null?0:Wt(h);return b<0&&(b=Ee(p+b,0)),wi(i,a,b)}function ep(i){var a=i==null?0:i.length;return a?Je(i,0,-1):[]}var Pl=Bt(function(i){var a=me(i,ul);return a.length&&a[0]===i[0]?vo(a):[]}),np=Bt(function(i){var a=sn(i),h=me(i,ul);return a===sn(h)?a=u:h.pop(),h.length&&h[0]===i[0]?vo(h,It(a,2)):[]}),Cl=Bt(function(i){var a=sn(i),h=me(i,ul);return a=typeof a=="function"?a:u,a&&h.pop(),h.length&&h[0]===i[0]?vo(h,u,a):[]});function ih(i,a){return i==null?"":ro.call(i,a)}function sn(i){var a=i==null?0:i.length;return a?i[a-1]:u}function rp(i,a,h){var p=i==null?0:i.length;if(!p)return-1;var b=p;return h!==u&&(b=Wt(h),b=b<0?Ee(p+b,0):We(b,p-1)),a===a?eo(i,a,b):is(i,Ra,b,!0)}function Tl(i,a){return i&&i.length?bs(i,Wt(a)):u}var Il=Bt(sh);function sh(i,a){return i&&i.length&&a&&a.length?nr(i,a):i}function ip(i,a,h){return i&&i.length&&a&&a.length?nr(i,a,It(h,2)):i}function sp(i,a,h){return i&&i.length&&a&&a.length?nr(i,a,u,h):i}var op=Dn(function(i,a){var h=i==null?0:i.length,p=Qa(i,a);return Ec(i,me(a,function(b){return mr(b,h)?+b:b}).sort(Fc)),p});function ap(i,a){var h=[];if(!(i&&i.length))return h;var p=-1,b=[],E=i.length;for(a=It(a,3);++p<E;){var k=i[p];a(k,p,i)&&(h.push(k),b.push(p))}return Ec(i,b),h}function Ol(i){return i==null?i:Pi.call(i)}function lp(i,a,h){var p=i==null?0:i.length;return p?(h&&typeof h!="number"&&rn(i,a,h)?(a=0,h=p):(a=a==null?0:Wt(a),h=h===u?p:Wt(h)),Je(i,a,h)):[]}function up(i,a){return Po(i,a)}function cp(i,a,h){return ol(i,a,It(h,2))}function hp(i,a){var h=i==null?0:i.length;if(h){var p=Po(i,a);if(p<h&&Rn(i[p],a))return p}return-1}function fp(i,a){return Po(i,a,!0)}function dp(i,a,h){return ol(i,a,It(h,2),!0)}function pp(i,a){var h=i==null?0:i.length;if(h){var p=Po(i,a,!0)-1;if(Rn(i[p],a))return p}return-1}function gp(i){return i&&i.length?Cc(i):[]}function $i(i,a){return i&&i.length?Cc(i,It(a,2)):[]}function ii(i){var a=i==null?0:i.length;return a?Je(i,1,a):[]}function Os(i,a,h){return i&&i.length?(a=h||a===u?1:Wt(a),Je(i,0,a<0?0:a)):[]}function si(i,a,h){var p=i==null?0:i.length;return p?(a=h||a===u?1:Wt(a),a=p-a,Je(i,a<0?0:a,p)):[]}function vp(i,a){return i&&i.length?Co(i,It(a,3),!1,!0):[]}function mp(i,a){return i&&i.length?Co(i,It(a,3)):[]}var bp=Bt(function(i){return fr(ze(i,1,Pe,!0))}),yp=Bt(function(i){var a=sn(i);return Pe(a)&&(a=u),fr(ze(i,1,Pe,!0),It(a,2))}),Dl=Bt(function(i){var a=sn(i);return a=typeof a=="function"?a:u,fr(ze(i,1,Pe,!0),u,a)});function xp(i){return i&&i.length?fr(i):[]}function wp(i,a){return i&&i.length?fr(i,It(a,2)):[]}function oh(i,a){return a=typeof a=="function"?a:u,i&&i.length?fr(i,u,a):[]}function Ll(i){if(!(i&&i.length))return[];var a=0;return i=ar(i,function(h){if(Pe(h))return a=Ee(h.length,a),!0}),Qs(a,function(h){return me(i,Fa(h))})}function Ui(i,a){if(!(i&&i.length))return[];var h=Ll(i);return a==null?h:me(h,function(p){return xn(a,u,p)})}var Sp=Bt(function(i,a){return Pe(i)?co(i,a):[]}),ah=Bt(function(i){return To(ar(i,Pe))}),lh=Bt(function(i){var a=sn(i);return Pe(a)&&(a=u),To(ar(i,Pe),It(a,2))}),uh=Bt(function(i){var a=sn(i);return a=typeof a=="function"?a:u,To(ar(i,Pe),u,a)}),_p=Bt(Ll);function ch(i,a){return ll(i||[],a||[],fn)}function Ap(i,a){return ll(i||[],a||[],xs)}var Ep=Bt(function(i){var a=i.length,h=a>1?i[a-1]:u;return h=typeof h=="function"?(i.pop(),h):u,Ui(i,h)});function zo(i){var a=x(i);return a.__chain__=!0,a}function Pp(i,a){return a(i),i}function oi(i,a){return a(i)}var Ds=Dn(function(i){var a=i.length,h=a?i[0]:0,p=this.__wrapped__,b=function(E){return Qa(E,i)};return a>1||this.__actions__.length||!(p instanceof zt)||!mr(h)?this.thru(b):(p=p.slice(h,+h+(a?1:0)),p.__actions__.push({func:oi,args:[b],thisArg:u}),new Ze(p,this.__chain__).thru(function(E){return a&&!E.length&&E.push(u),E}))});function ai(){return zo(this)}function Rl(){return new Ze(this.value(),this.__chain__)}function Fl(){this.__values__===u&&(this.__values__=$h(this.value()));var i=this.__index__>=this.__values__.length,a=i?u:this.__values__[this.__index__++];return{done:i,value:a}}function Cp(){return this}function kl(i){for(var a,h=this;h instanceof Jr;){var p=Vc(h);p.__index__=0,p.__values__=u,a?b.__wrapped__=p:a=p;var b=p;h=h.__wrapped__}return b.__wrapped__=i,a}function br(){var i=this.__wrapped__;if(i instanceof zt){var a=i;return this.__actions__.length&&(a=new zt(this)),a=a.reverse(),a.__actions__.push({func:oi,args:[Ol],thisArg:u}),new Ze(a,this.__chain__)}return this.thru(Ol)}function Tp(){return Oc(this.__wrapped__,this.__actions__)}var Ln=ws(function(i,a,h){re.call(i,h)?++i[h]:hr(i,h,1)});function ke(i,a,h){var p=Mt(i)?Oa:qa;return h&&rn(i,a,h)&&(a=u),p(i,It(a,3))}function hh(i,a){var h=Mt(i)?ar:mc;return h(i,It(a,3))}var Ls=Hc(eh),fh=Hc(_l);function Fr(i,a){return ze(Gi(i,a),1)}function Ml(i,a){return ze(Gi(i,a),kt)}function dh(i,a,h){return h=h===u?1:Wt(h),ze(Gi(i,a),h)}function Wi(i,a){var h=Mt(i)?In:dn;return h(i,It(a,3))}function ir(i,a){var h=Mt(i)?Vf:ho;return h(i,It(a,3))}var jo=ws(function(i,a,h){re.call(i,h)?i[h].push(a):hr(i,h,[a])});function Nl(i,a,h,p){i=Qe(i)?i:Zi(i),h=h&&!p?Wt(h):0;var b=i.length;return h<0&&(h=Ee(b+h,0)),Ki(i)?h<=b&&i.indexOf(a,h)>-1:!!b&&wi(i,a,h)>-1}var Ip=Bt(function(i,a,h){var p=-1,b=typeof a=="function",E=Qe(i)?it(i.length):[];return dn(i,function(k){E[++p]=b?xn(a,k,h):qr(k,a,h)}),E}),Bl=ws(function(i,a,h){hr(i,h,a)});function Gi(i,a){var h=Mt(i)?me:_d;return h(i,It(a,3))}function ph(i,a,h,p){return i==null?[]:(Mt(a)||(a=a==null?[]:[a]),h=p?u:h,Mt(h)||(h=h==null?[]:[h]),So(i,a,h))}var Op=ws(function(i,a,h){i[h?0:1].push(a)},function(){return[[],[]]});function gh(i,a,h){var p=Mt(i)?Js:Ma,b=arguments.length<3;return p(i,It(a,4),h,b,dn)}function Dp(i,a,h){var p=Mt(i)?Qf:Ma,b=arguments.length<3;return p(i,It(a,4),h,b,ho)}function Xo(i,a){var h=Mt(i)?ar:mc;return h(i,Zo(It(a,3)))}function Hl(i){var a=Mt(i)?Dr:Pc;return a(i)}function Lp(i,a,h){(h?rn(i,a,h):a===u)?a=1:a=Wt(a);var p=Mt(i)?Ja:Cd;return p(i,a)}function Rp(i){var a=Mt(i)?dc:Td;return a(i)}function Fp(i){if(i==null)return 0;if(Qe(i))return Ki(i)?tr(i):i.length;var a=Ve(i);return a==Nn||a==Cn?i.size:xc(i).length}function kp(i,a,h){var p=Mt(i)?Da:Eo;return h&&rn(i,a,h)&&(a=u),p(i,It(a,3))}var Mp=Bt(function(i,a){if(i==null)return[];var h=a.length;return h>1&&rn(i,a[0],a[1])?a=[]:h>2&&rn(a[0],a[1],a[2])&&(a=[a[0]]),So(i,ze(a,1),[])}),Ko=uc||function(){return Ne.Date.now()};function Rs(i,a){if(typeof a!="function")throw new ge(L);return i=Wt(i),function(){if(--i<1)return a.apply(this,arguments)}}function vh(i,a,h){return a=h?u:a,a=i&&a==null?i.length:a,rr(i,T,u,u,u,u,a)}function mh(i,a){var h;if(typeof a!="function")throw new ge(L);return i=Wt(i),function(){return--i>0&&(h=a.apply(this,arguments)),i<=1&&(a=u),h}}var $l=Bt(function(i,a,h){var p=q;if(h.length){var b=ur(h,Bi($l));p|=U}return rr(i,p,a,h,b)}),Ul=Bt(function(i,a,h){var p=q|nt;if(h.length){var b=ur(h,Bi(Ul));p|=U}return rr(a,p,i,h,b)});function Wl(i,a,h){a=h?u:a;var p=rr(i,F,u,u,u,u,u,a);return p.placeholder=Wl.placeholder,p}function bh(i,a,h){a=h?u:a;var p=rr(i,Z,u,u,u,u,u,a);return p.placeholder=bh.placeholder,p}function Fs(i,a,h){var p,b,E,k,G,Y,lt=0,ut=!1,ht=!1,bt=!0;if(typeof i!="function")throw new ge(L);a=Fn(a)||0,ye(h)&&(ut=!!h.leading,ht="maxWait"in h,E=ht?Ee(Fn(h.maxWait)||0,a):E,bt="trailing"in h?!!h.trailing:bt);function Et(Ie){var kn=p,Mr=b;return p=b=u,lt=Ie,k=i.apply(Mr,kn),k}function Dt(Ie){return lt=Ie,G=Cs(Kt,a),ut?Et(Ie):k}function Gt(Ie){var kn=Ie-Y,Mr=Ie-lt,vu=a-kn;return ht?We(vu,E-Mr):vu}function Lt(Ie){var kn=Ie-Y,Mr=Ie-lt;return Y===u||kn>=a||kn<0||ht&&Mr>=E}function Kt(){var Ie=Ko();if(Lt(Ie))return Jt(Ie);G=Cs(Kt,Gt(Ie))}function Jt(Ie){return G=u,bt&&p?Et(Ie):(p=b=u,k)}function qe(){G!==u&&Oo(G),lt=0,p=Y=b=G=u}function tn(){return G===u?k:Jt(Ko())}function Pn(){var Ie=Ko(),kn=Lt(Ie);if(p=arguments,b=this,Y=Ie,kn){if(G===u)return Dt(Y);if(ht)return Oo(G),G=Cs(Kt,a),Et(Y)}return G===u&&(G=Cs(Kt,a)),k}return Pn.cancel=qe,Pn.flush=tn,Pn}var yh=Bt(function(i,a){return vc(i,1,a)}),Np=Bt(function(i,a,h){return vc(i,Fn(a)||0,h)});function Bp(i){return rr(i,B)}function Yo(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new ge(L);var h=function(){var p=arguments,b=a?a.apply(this,p):p[0],E=h.cache;if(E.has(b))return E.get(b);var k=i.apply(this,p);return h.cache=E.set(b,k)||E,k};return h.cache=new(Yo.Cache||An),h}Yo.Cache=An;function Zo(i){if(typeof i!="function")throw new ge(L);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function xh(i){return mh(2,i)}var Gl=Id(function(i,a){a=a.length==1&&Mt(a[0])?me(a[0],wn(It())):me(ze(a,1),wn(It()));var h=a.length;return Bt(function(p){for(var b=-1,E=We(p.length,h);++b<E;)p[b]=a[b].call(this,p[b]);return xn(i,this,p)})}),Jo=Bt(function(i,a){var h=ur(a,Bi(Jo));return rr(i,U,u,a,h)}),wh=Bt(function(i,a){var h=ur(a,Bi(wh));return rr(i,w,u,a,h)}),Hp=Dn(function(i,a){return rr(i,R,u,u,u,a)});function Sh(i,a){if(typeof i!="function")throw new ge(L);return a=a===u?a:Wt(a),Bt(i,a)}function _h(i,a){if(typeof i!="function")throw new ge(L);return a=a==null?0:Ee(Wt(a),0),Bt(function(h){var p=h[a],b=dr(h,0,a);return p&&Pr(b,p),xn(i,this,b)})}function Ah(i,a,h){var p=!0,b=!0;if(typeof i!="function")throw new ge(L);return ye(h)&&(p="leading"in h?!!h.leading:p,b="trailing"in h?!!h.trailing:b),Fs(i,a,{leading:p,maxWait:a,trailing:b})}function Vo(i){return vh(i,1)}function $p(i,a){return Jo(Io(a),i)}function Eh(){if(!arguments.length)return[];var i=arguments[0];return Mt(i)?i:[i]}function Up(i){return On(i,W)}function Ph(i,a){return a=typeof a=="function"?a:u,On(i,W,a)}function Ch(i){return On(i,I|W)}function Th(i,a){return a=typeof a=="function"?a:u,On(i,I|W,a)}function Ih(i,a){return a==null||gc(i,a,He(a))}function Rn(i,a){return i===a||i!==i&&a!==a}var Oh=_s(el),zi=_s(function(i,a){return i>=a}),yr=mo(function(){return arguments}())?mo:function(i){return xe(i)&&re.call(i,"callee")&&!ac.call(i,"callee")},Mt=it.isArray,Qo=Ia?wn(Ia):bo;function Qe(i){return i!=null&&jl(i.length)&&!Kn(i)}function Pe(i){return xe(i)&&Qe(i)}function Dh(i){return i===!0||i===!1||xe(i)&&je(i)==ne}var xr=Kr||Ms,li=yn?wn(yn):vs;function wr(i){return xe(i)&&i.nodeType===1&&!ji(i)}function Lh(i){if(i==null)return!0;if(Qe(i)&&(Mt(i)||typeof i=="string"||typeof i.splice=="function"||xr(i)||Yi(i)||yr(i)))return!i.length;var a=Ve(i);if(a==Nn||a==Cn)return!i.size;if(ni(i))return!xc(i).length;for(var h in i)if(re.call(i,h))return!1;return!0}function Wp(i,a){return ms(i,a)}function Rh(i,a,h){h=typeof h=="function"?h:u;var p=h?h(i,a):u;return p===u?ms(i,a,u,h):!!p}function qo(i){if(!xe(i))return!1;var a=je(i);return a==Zn||a==Me||typeof i.message=="string"&&typeof i.name=="string"&&!ji(i)}function Fh(i){return typeof i=="number"&&Wa(i)}function Kn(i){if(!ye(i))return!1;var a=je(i);return a==ci||a==hi||a==ue||a==fi}function zl(i){return typeof i=="number"&&i==Wt(i)}function jl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=yt}function ye(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function xe(i){return i!=null&&typeof i=="object"}var Xl=Xu?wn(Xu):wd;function Gp(i,a){return i===a||xo(i,a,Ps(a))}function zp(i,a,h){return h=typeof h=="function"?h:u,xo(i,a,Ps(a),h)}function jp(i){return Kl(i)&&i!=+i}function Xp(i){if(Wd(i))throw new Tt(O);return wo(i)}function kh(i){return i===null}function Mh(i){return i==null}function Kl(i){return typeof i=="number"||xe(i)&&je(i)==Jn}function ji(i){if(!xe(i)||je(i)!=Oe)return!1;var a=en(i);if(a===null)return!0;var h=re.call(a,"constructor")&&a.constructor;return typeof h=="function"&&h instanceof h&&us.call(h)==sc}var Xi=Ku?wn(Ku):xv;function Kp(i){return zl(i)&&i>=-yt&&i<=yt}var Yl=Yu?wn(Yu):wv;function Ki(i){return typeof i=="string"||!Mt(i)&&xe(i)&&je(i)==Te}function on(i){return typeof i=="symbol"||xe(i)&&je(i)==di}var Yi=$n?wn($n):Sv;function Yp(i){return i===u}function Nh(i){return xe(i)&&Ve(i)==$e}function Zl(i){return xe(i)&&je(i)==xu}var Bh=_s(wc),Hh=_s(function(i,a){return i<=a});function $h(i){if(!i)return[];if(Qe(i))return Ki(i)?De(i):pn(i);if(cs&&i[cs])return lr(i[cs]());var a=Ve(i),h=a==Nn?ss:a==Cn?to:Zi;return h(i)}function Sr(i){if(!i)return i===0?i:0;if(i=Fn(i),i===kt||i===-kt){var a=i<0?-1:1;return a*Ct}return i===i?i:0}function Wt(i){var a=Sr(i),h=a%1;return a===a?h?a-h:a:0}function Uh(i){return i?Ri(Wt(i),0,Zt):0}function Fn(i){if(typeof i=="number")return i;if(on(i))return jt;if(ye(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=ye(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=qu(i);var h=Lf.test(i);return h||mi.test(i)?Jf(i.slice(2),h?2:8):Ou.test(i)?jt:+i}function Jl(i){return Gn(i,gn(i))}function Zp(i){return i?Ri(Wt(i),-yt,yt):i===0?i:0}function oe(i){return i==null?"":En(i)}var Jp=ki(function(i,a){if(ni(a)||Qe(a)){Gn(a,He(a),i);return}for(var h in a)re.call(a,h)&&fn(i,h,a[h])}),Wh=ki(function(i,a){Gn(a,gn(a),i)}),ta=ki(function(i,a,h,p){Gn(a,gn(a),i,p)}),Vp=ki(function(i,a,h,p){Gn(a,He(a),i,p)}),Gh=Dn(Qa);function Qp(i,a){var h=Zr(i);return a==null?h:pc(h,a)}var qp=Bt(function(i,a){i=Ft(i);var h=-1,p=a.length,b=p>2?a[2]:u;for(b&&rn(a[0],a[1],b)&&(p=1);++h<p;)for(var E=a[h],k=gn(E),G=-1,Y=k.length;++G<Y;){var lt=k[G],ut=i[lt];(ut===u||Rn(ut,Le[lt])&&!re.call(i,lt))&&(i[lt]=E[lt])}return i}),tg=Bt(function(i){return i.push(u,dl),xn(ql,u,i)});function eg(i,a){return rs(i,It(a,3),Wn)}function ng(i,a){return rs(i,It(a,3),po)}function rg(i,a){return i==null?i:tl(i,It(a,3),gn)}function ig(i,a){return i==null?i:gs(i,It(a,3),gn)}function sg(i,a){return i&&Wn(i,It(a,3))}function ea(i,a){return i&&po(i,It(a,3))}function og(i){return i==null?[]:go(i,He(i))}function ag(i){return i==null?[]:go(i,gn(i))}function Vl(i,a,h){var p=i==null?u:Lr(i,a);return p===u?h:p}function lg(i,a){return i!=null&&vr(i,a,Qr)}function Ql(i,a){return i!=null&&vr(i,a,Fi)}var ug=$c(function(i,a,h){a!=null&&typeof a.toString!="function"&&(a=Re.call(a)),i[a]=h},cu(vn)),zh=$c(function(i,a,h){a!=null&&typeof a.toString!="function"&&(a=Re.call(a)),re.call(i,a)?i[a].push(h):i[a]=[h]},It),jh=Bt(qr);function He(i){return Qe(i)?Or(i):xc(i)}function gn(i){return Qe(i)?Or(i,!0):_v(i)}function Xh(i,a){var h={};return a=It(a,3),Wn(i,function(p,b,E){hr(h,a(p,b,E),p)}),h}function cg(i,a){var h={};return a=It(a,3),Wn(i,function(p,b,E){hr(h,b,a(p,b,E))}),h}var Kh=ki(function(i,a,h){rl(i,a,h)}),ql=ki(function(i,a,h,p){rl(i,a,h,p)}),Yh=Dn(function(i,a){var h={};if(i==null)return h;var p=!1;a=me(a,function(E){return E=Rr(E,i),p||(p=E.length>1),E}),Gn(i,As(i),h),p&&(h=On(h,I|N|W,zn));for(var b=a.length;b--;)al(h,a[b]);return h});function Zh(i,a){return Jh(i,Zo(It(a)))}var hg=Dn(function(i,a){return i==null?{}:_c(i,a)});function Jh(i,a){if(i==null)return{};var h=me(As(i),function(p){return[p]});return a=It(a),_o(i,h,function(p,b){return a(p,b[0])})}function fg(i,a,h){a=Rr(a,i);var p=-1,b=a.length;for(b||(b=1,i=u);++p<b;){var E=i==null?u:i[Xn(a[p])];E===u&&(p=b,E=h),i=Kn(E)?E.call(i):E}return i}function dg(i,a,h){return i==null?i:xs(i,a,h)}function Vh(i,a,h,p){return p=typeof p=="function"?p:u,i==null?i:xs(i,a,h,p)}var Qh=Wc(He),qh=Wc(gn);function tu(i,a,h){var p=Mt(i),b=p||xr(i)||Yi(i);if(a=It(a,4),h==null){var E=i&&i.constructor;b?h=p?new E:[]:ye(i)?h=Kn(E)?Zr(en(i)):{}:h={}}return(b?In:Wn)(i,function(k,G,Y){return a(h,k,G,Y)}),h}function na(i,a){return i==null?!0:al(i,a)}function pg(i,a,h){return i==null?i:Ic(i,a,Io(h))}function tf(i,a,h,p){return p=typeof p=="function"?p:u,i==null?i:Ic(i,a,Io(h),p)}function Zi(i){return i==null?[]:qn(i,He(i))}function ra(i){return i==null?[]:qn(i,gn(i))}function gg(i,a,h){return h===u&&(h=a,a=u),h!==u&&(h=Fn(h),h=h===h?h:0),a!==u&&(a=Fn(a),a=a===a?a:0),Ri(Fn(i),a,h)}function ef(i,a,h){return a=Sr(a),h===u?(h=a,a=0):h=Sr(h),i=Fn(i),yc(i,a,h)}function nf(i,a,h){if(h&&typeof h!="boolean"&&rn(i,a,h)&&(a=h=u),h===u&&(typeof a=="boolean"?(h=a,a=u):typeof i=="boolean"&&(h=i,i=u)),i===u&&a===u?(i=0,a=1):(i=Sr(i),a===u?(a=i,i=0):a=Sr(a)),i>a){var p=i;i=a,a=p}if(h||i%1||a%1){var b=hc();return We(i+b*(a-i+ju("1e-"+((b+"").length-1))),a)}return Ao(i,a)}var eu=Mi(function(i,a,h){return a=a.toLowerCase(),i+(h?rf(a):a)});function rf(i){return lu(oe(i).toLowerCase())}function sf(i){return i=oe(i),i&&i.replace(ba,nd).replace(Gf,"")}function Av(i,a,h){i=oe(i),a=En(a);var p=i.length;h=h===u?p:Ri(Wt(h),0,p);var b=h;return h-=a.length,h>=0&&i.slice(h,b)==a}function vg(i){return i=oe(i),i&&cv.test(i)?i.replace(Eu,rd):i}function ia(i){return i=oe(i),i&&Wr.test(i)?i.replace(ga,"\\$&"):i}var kr=Mi(function(i,a,h){return i+(h?"-":"")+a.toLowerCase()}),of=Mi(function(i,a,h){return i+(h?" ":"")+a.toLowerCase()}),nu=Fo("toLowerCase");function ru(i,a,h){i=oe(i),a=Wt(a);var p=a?tr(i):0;if(!a||p>=a)return i;var b=(a-p)/2;return Bo(hs(b),h)+i+Bo(nn(b),h)}function iu(i,a,h){i=oe(i),a=Wt(a);var p=a?tr(i):0;return a&&p<a?i+Bo(a-p,h):i}function su(i,a,h){i=oe(i),a=Wt(a);var p=a?tr(i):0;return a&&p<a?Bo(a-p,h)+i:i}function ou(i,a,h){return h||a==null?a=0:a&&(a=+a),Ga(oe(i).replace(va,""),a||0)}function af(i,a,h){return(h?rn(i,a,h):a===u)?a=1:a=Wt(a),ys(oe(i),a)}function mg(){var i=arguments,a=oe(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var au=Mi(function(i,a,h){return i+(h?"_":"")+a.toLowerCase()});function bg(i,a,h){return h&&typeof h!="number"&&rn(i,a,h)&&(a=h=u),h=h===u?Zt:h>>>0,h?(i=oe(i),i&&(typeof a=="string"||a!=null&&!Xi(a))&&(a=En(a),!a&&_i(i))?dr(De(i),0,h):i.split(a,h)):[]}var yg=Mi(function(i,a,h){return i+(h?" ":"")+lu(a)});function xg(i,a,h){return i=oe(i),h=h==null?0:Ri(Wt(h),0,i.length),a=En(a),i.slice(h,h+a.length)==a}function sa(i,a,h){var p=x.templateSettings;h&&rn(i,a,h)&&(a=u),i=oe(i),a=ta({},a,p,Ho);var b=ta({},a.imports,p.imports,Ho),E=He(b),k=qn(b,E),G,Y,lt=0,ut=a.interpolate||zs,ht="__p += '",bt=Ha((a.escape||zs).source+"|"+ut.source+"|"+(ut===ce?Df:zs).source+"|"+(a.evaluate||zs).source+"|$","g"),Et="//# sourceURL="+(re.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xf+"]")+`
`;i.replace(bt,function(Lt,Kt,Jt,qe,tn,Pn){return Jt||(Jt=qe),ht+=i.slice(lt,Pn).replace(Ff,id),Kt&&(G=!0,ht+=`' +
__e(`+Kt+`) +
'`),tn&&(Y=!0,ht+=`';
`+tn+`;
__p += '`),Jt&&(ht+=`' +
((__t = (`+Jt+`)) == null ? '' : __t) +
'`),lt=Pn+Lt.length,Lt}),ht+=`';
`;var Dt=re.call(a,"variable")&&a.variable;if(!Dt)ht=`with (obj) {
`+ht+`
}
`;else if(Iu.test(Dt))throw new Tt(A);ht=(Y?ht.replace(Ef,""):ht).replace(Su,"$1").replace(_u,"$1;"),ht="function("+(Dt||"obj")+`) {
`+(Dt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(G?", __e = _.escape":"")+(Y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ht+`return __p
}`;var Gt=uu(function(){return mt(E,Et+"return "+ht).apply(u,k)});if(Gt.source=ht,qo(Gt))throw Gt;return Gt}function wg(i){return oe(i).toLowerCase()}function Sg(i){return oe(i).toUpperCase()}function lf(i,a,h){if(i=oe(i),i&&(h||a===u))return qu(i);if(!i||!(a=En(a)))return i;var p=De(i),b=De(a),E=Ba(p,b),k=qs(p,b)+1;return dr(p,E,k).join("")}function _g(i,a,h){if(i=oe(i),i&&(h||a===u))return i.slice(0,nc(i)+1);if(!i||!(a=En(a)))return i;var p=De(i),b=qs(p,De(a))+1;return dr(p,0,b).join("")}function Ag(i,a,h){if(i=oe(i),i&&(h||a===u))return i.replace(va,"");if(!i||!(a=En(a)))return i;var p=De(i),b=Ba(p,De(a));return dr(p,b).join("")}function Eg(i,a){var h=rt,p=tt;if(ye(a)){var b="separator"in a?a.separator:b;h="length"in a?Wt(a.length):h,p="omission"in a?En(a.omission):p}i=oe(i);var E=i.length;if(_i(i)){var k=De(i);E=k.length}if(h>=E)return i;var G=h-tr(p);if(G<1)return p;var Y=k?dr(k,0,G).join(""):i.slice(0,G);if(b===u)return Y+p;if(k&&(G+=Y.length-G),Xi(b)){if(i.slice(G).search(b)){var lt,ut=Y;for(b.global||(b=Ha(b.source,oe(ma.exec(b))+"g")),b.lastIndex=0;lt=b.exec(ut);)var ht=lt.index;Y=Y.slice(0,ht===u?G:ht)}}else if(i.indexOf(En(b),G)!=G){var bt=Y.lastIndexOf(b);bt>-1&&(Y=Y.slice(0,bt))}return Y+p}function Pg(i){return i=oe(i),i&&gi.test(i)?i.replace(Au,ld):i}var Ji=Mi(function(i,a,h){return i+(h?" ":"")+a.toUpperCase()}),lu=Fo("toUpperCase");function uf(i,a,h){return i=oe(i),a=h?u:a,a===u?od(i)?cd(i):qf(i):i.match(a)||[]}var uu=Bt(function(i,a){try{return xn(i,u,a)}catch(h){return qo(h)?h:new Tt(h)}}),Cg=Dn(function(i,a){return In(a,function(h){h=Xn(h),hr(i,h,$l(i[h],i))}),i});function Tg(i){var a=i==null?0:i.length,h=It();return i=a?me(i,function(p){if(typeof p[1]!="function")throw new ge(L);return[h(p[0]),p[1]]}):[],Bt(function(p){for(var b=-1;++b<a;){var E=i[b];if(xn(E[0],this,p))return xn(E[1],this,p)}})}function Ig(i){return xd(On(i,I))}function cu(i){return function(){return i}}function Og(i,a){return i==null||i!==i?a:i}var Dg=Ni(),Lg=Ni(!0);function vn(i){return i}function hu(i){return Sd(typeof i=="function"?i:On(i,I))}function Rg(i){return Ad(On(i,I))}function Fg(i,a){return Ed(i,On(a,I))}var Ev=Bt(function(i,a){return function(h){return qr(h,i,a)}}),kg=Bt(function(i,a){return function(h){return qr(i,h,a)}});function ks(i,a,h){var p=He(a),b=go(a,p);h==null&&!(ye(a)&&(b.length||!p.length))&&(h=a,a=i,i=this,b=go(a,He(a)));var E=!(ye(h)&&"chain"in h)||!!h.chain,k=Kn(i);return In(b,function(G){var Y=a[G];i[G]=Y,k&&(i.prototype[G]=function(){var lt=this.__chain__;if(E||lt){var ut=i(this.__wrapped__),ht=ut.__actions__=pn(this.__actions__);return ht.push({func:Y,args:arguments,thisArg:i}),ut.__chain__=lt,ut}return Y.apply(i,Pr([this.value()],arguments))})}),i}function Mg(){return Ne._===this&&(Ne._=dd),this}function oa(){}function Ng(i){return i=Wt(i),Bt(function(a){return bs(a,i)})}var Bg=No(me),Hg=No(Oa),$g=No(Da);function fu(i){return $o(i)?Fa(Xn(i)):Ac(i)}function du(i){return function(a){return i==null?u:Lr(i,a)}}var Ug=Rd(),Wg=Rd(!0);function pu(){return[]}function Ms(){return!1}function gu(){return{}}function Gg(){return""}function zg(){return!0}function jg(i,a){if(i=Wt(i),i<1||i>yt)return[];var h=Zt,p=We(i,Zt);a=It(a),i-=Zt;for(var b=Qs(p,a);++h<i;)a(h);return b}function Xg(i){return Mt(i)?me(i,Xn):on(i)?[i]:pn(Wo(oe(i)))}function cf(i){var a=++fd;return oe(i)+a}var hf=Mo(function(i,a){return i+a},0),Kg=fl("ceil"),_r=Mo(function(i,a){return i/a},1),ff=fl("floor");function df(i){return i&&i.length?fo(i,vn,el):u}function pf(i,a){return i&&i.length?fo(i,It(a,2),el):u}function Yg(i){return Vu(i,vn)}function Zg(i,a){return Vu(i,It(a,2))}function Jg(i){return i&&i.length?fo(i,vn,wc):u}function Vg(i,a){return i&&i.length?fo(i,It(a,2),wc):u}var Qg=Mo(function(i,a){return i*a},1),qg=fl("round"),gf=Mo(function(i,a){return i-a},0);function Ar(i){return i&&i.length?Na(i,vn):0}function vf(i,a){return i&&i.length?Na(i,It(a,2)):0}return x.after=Rs,x.ary=vh,x.assign=Jp,x.assignIn=Wh,x.assignInWith=ta,x.assignWith=Vp,x.at=Gh,x.before=mh,x.bind=$l,x.bindAll=Cg,x.bindKey=Ul,x.castArray=Eh,x.chain=zo,x.chunk=Yd,x.compact=Zd,x.concat=Qc,x.cond=Tg,x.conforms=Ig,x.constant=cu,x.countBy=Ln,x.create=Qp,x.curry=Wl,x.curryRight=bh,x.debounce=Fs,x.defaults=qp,x.defaultsDeep=tg,x.defer=yh,x.delay=Np,x.difference=qc,x.differenceBy=Jd,x.differenceWith=Vd,x.drop=Qd,x.dropRight=wl,x.dropRightWhile=Sl,x.dropWhile=th,x.fill=Go,x.filter=hh,x.flatMap=Fr,x.flatMapDeep=Ml,x.flatMapDepth=dh,x.flatten=nh,x.flattenDeep=Al,x.flattenDepth=El,x.flip=Bp,x.flow=Dg,x.flowRight=Lg,x.fromPairs=qd,x.functions=og,x.functionsIn=ag,x.groupBy=jo,x.initial=ep,x.intersection=Pl,x.intersectionBy=np,x.intersectionWith=Cl,x.invert=ug,x.invertBy=zh,x.invokeMap=Ip,x.iteratee=hu,x.keyBy=Bl,x.keys=He,x.keysIn=gn,x.map=Gi,x.mapKeys=Xh,x.mapValues=cg,x.matches=Rg,x.matchesProperty=Fg,x.memoize=Yo,x.merge=Kh,x.mergeWith=ql,x.method=Ev,x.methodOf=kg,x.mixin=ks,x.negate=Zo,x.nthArg=Ng,x.omit=Yh,x.omitBy=Zh,x.once=xh,x.orderBy=ph,x.over=Bg,x.overArgs=Gl,x.overEvery=Hg,x.overSome=$g,x.partial=Jo,x.partialRight=wh,x.partition=Op,x.pick=hg,x.pickBy=Jh,x.property=fu,x.propertyOf=du,x.pull=Il,x.pullAll=sh,x.pullAllBy=ip,x.pullAllWith=sp,x.pullAt=op,x.range=Ug,x.rangeRight=Wg,x.rearg=Hp,x.reject=Xo,x.remove=ap,x.rest=Sh,x.reverse=Ol,x.sampleSize=Lp,x.set=dg,x.setWith=Vh,x.shuffle=Rp,x.slice=lp,x.sortBy=Mp,x.sortedUniq=gp,x.sortedUniqBy=$i,x.split=bg,x.spread=_h,x.tail=ii,x.take=Os,x.takeRight=si,x.takeRightWhile=vp,x.takeWhile=mp,x.tap=Pp,x.throttle=Ah,x.thru=oi,x.toArray=$h,x.toPairs=Qh,x.toPairsIn=qh,x.toPath=Xg,x.toPlainObject=Jl,x.transform=tu,x.unary=Vo,x.union=bp,x.unionBy=yp,x.unionWith=Dl,x.uniq=xp,x.uniqBy=wp,x.uniqWith=oh,x.unset=na,x.unzip=Ll,x.unzipWith=Ui,x.update=pg,x.updateWith=tf,x.values=Zi,x.valuesIn=ra,x.without=Sp,x.words=uf,x.wrap=$p,x.xor=ah,x.xorBy=lh,x.xorWith=uh,x.zip=_p,x.zipObject=ch,x.zipObjectDeep=Ap,x.zipWith=Ep,x.entries=Qh,x.entriesIn=qh,x.extend=Wh,x.extendWith=ta,ks(x,x),x.add=hf,x.attempt=uu,x.camelCase=eu,x.capitalize=rf,x.ceil=Kg,x.clamp=gg,x.clone=Up,x.cloneDeep=Ch,x.cloneDeepWith=Th,x.cloneWith=Ph,x.conformsTo=Ih,x.deburr=sf,x.defaultTo=Og,x.divide=_r,x.endsWith=Av,x.eq=Rn,x.escape=vg,x.escapeRegExp=ia,x.every=ke,x.find=Ls,x.findIndex=eh,x.findKey=eg,x.findLast=fh,x.findLastIndex=_l,x.findLastKey=ng,x.floor=ff,x.forEach=Wi,x.forEachRight=ir,x.forIn=rg,x.forInRight=ig,x.forOwn=sg,x.forOwnRight=ea,x.get=Vl,x.gt=Oh,x.gte=zi,x.has=lg,x.hasIn=Ql,x.head=rh,x.identity=vn,x.includes=Nl,x.indexOf=tp,x.inRange=ef,x.invoke=jh,x.isArguments=yr,x.isArray=Mt,x.isArrayBuffer=Qo,x.isArrayLike=Qe,x.isArrayLikeObject=Pe,x.isBoolean=Dh,x.isBuffer=xr,x.isDate=li,x.isElement=wr,x.isEmpty=Lh,x.isEqual=Wp,x.isEqualWith=Rh,x.isError=qo,x.isFinite=Fh,x.isFunction=Kn,x.isInteger=zl,x.isLength=jl,x.isMap=Xl,x.isMatch=Gp,x.isMatchWith=zp,x.isNaN=jp,x.isNative=Xp,x.isNil=Mh,x.isNull=kh,x.isNumber=Kl,x.isObject=ye,x.isObjectLike=xe,x.isPlainObject=ji,x.isRegExp=Xi,x.isSafeInteger=Kp,x.isSet=Yl,x.isString=Ki,x.isSymbol=on,x.isTypedArray=Yi,x.isUndefined=Yp,x.isWeakMap=Nh,x.isWeakSet=Zl,x.join=ih,x.kebabCase=kr,x.last=sn,x.lastIndexOf=rp,x.lowerCase=of,x.lowerFirst=nu,x.lt=Bh,x.lte=Hh,x.max=df,x.maxBy=pf,x.mean=Yg,x.meanBy=Zg,x.min=Jg,x.minBy=Vg,x.stubArray=pu,x.stubFalse=Ms,x.stubObject=gu,x.stubString=Gg,x.stubTrue=zg,x.multiply=Qg,x.nth=Tl,x.noConflict=Mg,x.noop=oa,x.now=Ko,x.pad=ru,x.padEnd=iu,x.padStart=su,x.parseInt=ou,x.random=nf,x.reduce=gh,x.reduceRight=Dp,x.repeat=af,x.replace=mg,x.result=fg,x.round=qg,x.runInContext=K,x.sample=Hl,x.size=Fp,x.snakeCase=au,x.some=kp,x.sortedIndex=up,x.sortedIndexBy=cp,x.sortedIndexOf=hp,x.sortedLastIndex=fp,x.sortedLastIndexBy=dp,x.sortedLastIndexOf=pp,x.startCase=yg,x.startsWith=xg,x.subtract=gf,x.sum=Ar,x.sumBy=vf,x.template=sa,x.times=jg,x.toFinite=Sr,x.toInteger=Wt,x.toLength=Uh,x.toLower=wg,x.toNumber=Fn,x.toSafeInteger=Zp,x.toString=oe,x.toUpper=Sg,x.trim=lf,x.trimEnd=_g,x.trimStart=Ag,x.truncate=Eg,x.unescape=Pg,x.uniqueId=cf,x.upperCase=Ji,x.upperFirst=lu,x.each=Wi,x.eachRight=ir,x.first=rh,ks(x,function(){var i={};return Wn(x,function(a,h){re.call(x.prototype,h)||(i[h]=a)}),i}(),{chain:!1}),x.VERSION=f,In(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){x[i].placeholder=x}),In(["drop","take"],function(i,a){zt.prototype[i]=function(h){h=h===u?1:Ee(Wt(h),0);var p=this.__filtered__&&!a?new zt(this):this.clone();return p.__filtered__?p.__takeCount__=We(h,p.__takeCount__):p.__views__.push({size:We(h,Zt),type:i+(p.__dir__<0?"Right":"")}),p},zt.prototype[i+"Right"]=function(h){return this.reverse()[i](h).reverse()}}),In(["filter","map","takeWhile"],function(i,a){var h=a+1,p=h==dt||h==Pt;zt.prototype[i]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:It(b,3),type:h}),E.__filtered__=E.__filtered__||p,E}}),In(["head","last"],function(i,a){var h="take"+(a?"Right":"");zt.prototype[i]=function(){return this[h](1).value()[0]}}),In(["initial","tail"],function(i,a){var h="drop"+(a?"":"Right");zt.prototype[i]=function(){return this.__filtered__?new zt(this):this[h](1)}}),zt.prototype.compact=function(){return this.filter(vn)},zt.prototype.find=function(i){return this.filter(i).head()},zt.prototype.findLast=function(i){return this.reverse().find(i)},zt.prototype.invokeMap=Bt(function(i,a){return typeof i=="function"?new zt(this):this.map(function(h){return qr(h,i,a)})}),zt.prototype.reject=function(i){return this.filter(Zo(It(i)))},zt.prototype.slice=function(i,a){i=Wt(i);var h=this;return h.__filtered__&&(i>0||a<0)?new zt(h):(i<0?h=h.takeRight(-i):i&&(h=h.drop(i)),a!==u&&(a=Wt(a),h=a<0?h.dropRight(-a):h.take(a-i)),h)},zt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},zt.prototype.toArray=function(){return this.take(Zt)},Wn(zt.prototype,function(i,a){var h=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),b=x[p?"take"+(a=="last"?"Right":""):a],E=p||/^find/.test(a);!b||(x.prototype[a]=function(){var k=this.__wrapped__,G=p?[1]:arguments,Y=k instanceof zt,lt=G[0],ut=Y||Mt(k),ht=function(Kt){var Jt=b.apply(x,Pr([Kt],G));return p&&bt?Jt[0]:Jt};ut&&h&&typeof lt=="function"&&lt.length!=1&&(Y=ut=!1);var bt=this.__chain__,Et=!!this.__actions__.length,Dt=E&&!bt,Gt=Y&&!Et;if(!E&&ut){k=Gt?k:new zt(this);var Lt=i.apply(k,G);return Lt.__actions__.push({func:oi,args:[ht],thisArg:u}),new Ze(Lt,bt)}return Dt&&Gt?i.apply(this,G):(Lt=this.thru(ht),Dt?p?Lt.value()[0]:Lt.value():Lt)})}),In(["pop","push","shift","sort","splice","unshift"],function(i){var a=jr[i],h=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",p=/^(?:pop|shift)$/.test(i);x.prototype[i]=function(){var b=arguments;if(p&&!this.__chain__){var E=this.value();return a.apply(Mt(E)?E:[],b)}return this[h](function(k){return a.apply(Mt(k)?k:[],b)})}}),Wn(zt.prototype,function(i,a){var h=x[a];if(h){var p=h.name+"";re.call(Sn,p)||(Sn[p]=[]),Sn[p].push({name:a,func:h})}}),Sn[ko(u,nt).name]=[{name:"wrapper",func:u}],zt.prototype.clone=Oi,zt.prototype.reverse=so,zt.prototype.value=ds,x.prototype.at=Ds,x.prototype.chain=ai,x.prototype.commit=Rl,x.prototype.next=Fl,x.prototype.plant=kl,x.prototype.reverse=br,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=Tp,x.prototype.first=x.prototype.head,cs&&(x.prototype[cs]=Cp),x},os=hd();Ne._=os,_=function(){return os}.call(y,v,y,P),_!==u&&(P.exports=_)}).call(this)},7771:function(P,y,v){var _=v(5639),u=function(){return _.Date.now()};P.exports=u},3880:function(P,y,v){var _=v(9833);function u(){var f=arguments,g=_(f[0]);return f.length<3?g:g.replace(f[1],f[2])}P.exports=u},479:function(P){function y(){return[]}P.exports=y},5062:function(P){function y(){return!1}P.exports=y},3493:function(P,y,v){var _=v(3279),u=v(3218),f="Expected a function";function g(O,L,A){var M=!0,j=!0;if(typeof O!="function")throw new TypeError(f);return u(A)&&(M="leading"in A?!!A.leading:M,j="trailing"in A?!!A.trailing:j),_(O,L,{leading:M,maxWait:L,trailing:j})}P.exports=g},1581:function(P,y,v){var _=v(2705),u=v(278),f=v(4160),g=v(8612),O=v(7037),L=v(59),A=v(8776),M=v(1814),j=v(3140),H=v(2628),I="[object Map]",N="[object Set]",W=_?_.iterator:void 0;function D(X){if(!X)return[];if(g(X))return O(X)?j(X):u(X);if(W&&X[W])return L(X[W]());var q=f(X),nt=q==I?A:q==N?M:H;return nt(X)}P.exports=D},4841:function(P,y,v){var _=v(7561),u=v(3218),f=v(3448),g=0/0,O=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,A=/^0o[0-7]+$/i,M=parseInt;function j(H){if(typeof H=="number")return H;if(f(H))return g;if(u(H)){var I=typeof H.valueOf=="function"?H.valueOf():H;H=u(I)?I+"":I}if(typeof H!="string")return H===0?H:+H;H=_(H);var N=L.test(H);return N||A.test(H)?M(H.slice(2),N?2:8):O.test(H)?g:+H}P.exports=j},9833:function(P,y,v){var _=v(531);function u(f){return f==null?"":_(f)}P.exports=u},5659:function(P,y,v){var _=v(531),u=v(180),f=v(9817),g=v(3140),O=v(9833),L=/^\s+/;function A(M,j,H){if(M=O(M),M&&(H||j===void 0))return M.replace(L,"");if(!M||!(j=_(j)))return M;var I=g(M),N=f(I,g(j));return u(I,N).join("")}P.exports=A},2628:function(P,y,v){var _=v(7415),u=v(3674);function f(g){return g==null?[]:_(g,u(g))}P.exports=f},5660:function(P,y,v){var _=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var u=function(f){var g=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,O=0,L={},A={manual:f.Prism&&f.Prism.manual,disableWorkerMessageHandler:f.Prism&&f.Prism.disableWorkerMessageHandler,util:{encode:function $(F){return F instanceof M?new M(F.type,$(F.content),F.alias):Array.isArray(F)?F.map($):F.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function($){return Object.prototype.toString.call($).slice(8,-1)},objId:function($){return $.__id||Object.defineProperty($,"__id",{value:++O}),$.__id},clone:function $(F,Z){Z=Z||{};var U,w;switch(A.util.type(F)){case"Object":if(w=A.util.objId(F),Z[w])return Z[w];U={},Z[w]=U;for(var T in F)F.hasOwnProperty(T)&&(U[T]=$(F[T],Z));return U;case"Array":return w=A.util.objId(F),Z[w]?Z[w]:(U=[],Z[w]=U,F.forEach(function(R,B){U[B]=$(R,Z)}),U);default:return F}},getLanguage:function($){for(;$;){var F=g.exec($.className);if(F)return F[1].toLowerCase();$=$.parentElement}return"none"},setLanguage:function($,F){$.className=$.className.replace(RegExp(g,"gi"),""),$.classList.add("language-"+F)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(U){var $=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(U.stack)||[])[1];if($){var F=document.getElementsByTagName("script");for(var Z in F)if(F[Z].src==$)return F[Z]}return null}},isActive:function($,F,Z){for(var U="no-"+F;$;){var w=$.classList;if(w.contains(F))return!0;if(w.contains(U))return!1;$=$.parentElement}return!!Z}},languages:{plain:L,plaintext:L,text:L,txt:L,extend:function($,F){var Z=A.util.clone(A.languages[$]);for(var U in F)Z[U]=F[U];return Z},insertBefore:function($,F,Z,U){U=U||A.languages;var w=U[$],T={};for(var R in w)if(w.hasOwnProperty(R)){if(R==F)for(var B in Z)Z.hasOwnProperty(B)&&(T[B]=Z[B]);Z.hasOwnProperty(R)||(T[R]=w[R])}var rt=U[$];return U[$]=T,A.languages.DFS(A.languages,function(tt,st){st===rt&&tt!=$&&(this[tt]=T)}),T},DFS:function $(F,Z,U,w){w=w||{};var T=A.util.objId;for(var R in F)if(F.hasOwnProperty(R)){Z.call(F,R,F[R],U||R);var B=F[R],rt=A.util.type(B);rt==="Object"&&!w[T(B)]?(w[T(B)]=!0,$(B,Z,null,w)):rt==="Array"&&!w[T(B)]&&(w[T(B)]=!0,$(B,Z,R,w))}}},plugins:{},highlightAll:function($,F){A.highlightAllUnder(document,$,F)},highlightAllUnder:function($,F,Z){var U={callback:Z,container:$,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};A.hooks.run("before-highlightall",U),U.elements=Array.prototype.slice.apply(U.container.querySelectorAll(U.selector)),A.hooks.run("before-all-elements-highlight",U);for(var w=0,T;T=U.elements[w++];)A.highlightElement(T,F===!0,U.callback)},highlightElement:function($,F,Z){var U=A.util.getLanguage($),w=A.languages[U];A.util.setLanguage($,U);var T=$.parentElement;T&&T.nodeName.toLowerCase()==="pre"&&A.util.setLanguage(T,U);var R=$.textContent,B={element:$,language:U,grammar:w,code:R};function rt(st){B.highlightedCode=st,A.hooks.run("before-insert",B),B.element.innerHTML=B.highlightedCode,A.hooks.run("after-highlight",B),A.hooks.run("complete",B),Z&&Z.call(B.element)}if(A.hooks.run("before-sanity-check",B),T=B.element.parentElement,T&&T.nodeName.toLowerCase()==="pre"&&!T.hasAttribute("tabindex")&&T.setAttribute("tabindex","0"),!B.code){A.hooks.run("complete",B),Z&&Z.call(B.element);return}if(A.hooks.run("before-highlight",B),!B.grammar){rt(A.util.encode(B.code));return}if(F&&f.Worker){var tt=new Worker(A.filename);tt.onmessage=function(st){rt(st.data)},tt.postMessage(JSON.stringify({language:B.language,code:B.code,immediateClose:!0}))}else rt(A.highlight(B.code,B.grammar,B.language))},highlight:function($,F,Z){var U={code:$,grammar:F,language:Z};if(A.hooks.run("before-tokenize",U),!U.grammar)throw new Error('The language "'+U.language+'" has no grammar.');return U.tokens=A.tokenize(U.code,U.grammar),A.hooks.run("after-tokenize",U),M.stringify(A.util.encode(U.tokens),U.language)},tokenize:function($,F){var Z=F.rest;if(Z){for(var U in Z)F[U]=Z[U];delete F.rest}var w=new I;return N(w,w.head,$),H($,w,F,w.head,0),D(w)},hooks:{all:{},add:function($,F){var Z=A.hooks.all;Z[$]=Z[$]||[],Z[$].push(F)},run:function($,F){var Z=A.hooks.all[$];if(!(!Z||!Z.length))for(var U=0,w;w=Z[U++];)w(F)}},Token:M};f.Prism=A;function M($,F,Z,U){this.type=$,this.content=F,this.alias=Z,this.length=(U||"").length|0}M.stringify=function $(F,Z){if(typeof F=="string")return F;if(Array.isArray(F)){var U="";return F.forEach(function(rt){U+=$(rt,Z)}),U}var w={type:F.type,content:$(F.content,Z),tag:"span",classes:["token",F.type],attributes:{},language:Z},T=F.alias;T&&(Array.isArray(T)?Array.prototype.push.apply(w.classes,T):w.classes.push(T)),A.hooks.run("wrap",w);var R="";for(var B in w.attributes)R+=" "+B+'="'+(w.attributes[B]||"").replace(/"/g,"&quot;")+'"';return"<"+w.tag+' class="'+w.classes.join(" ")+'"'+R+">"+w.content+"</"+w.tag+">"};function j($,F,Z,U){$.lastIndex=F;var w=$.exec(Z);if(w&&U&&w[1]){var T=w[1].length;w.index+=T,w[0]=w[0].slice(T)}return w}function H($,F,Z,U,w,T){for(var R in Z)if(!(!Z.hasOwnProperty(R)||!Z[R])){var B=Z[R];B=Array.isArray(B)?B:[B];for(var rt=0;rt<B.length;++rt){if(T&&T.cause==R+","+rt)return;var tt=B[rt],st=tt.inside,gt=!!tt.lookbehind,dt=!!tt.greedy,_t=tt.alias;if(dt&&!tt.pattern.global){var Pt=tt.pattern.toString().match(/[imsuy]*$/)[0];tt.pattern=RegExp(tt.pattern.source,Pt+"g")}for(var kt=tt.pattern||tt,yt=U.next,Ct=w;yt!==F.tail&&!(T&&Ct>=T.reach);Ct+=yt.value.length,yt=yt.next){var jt=yt.value;if(F.length>$.length)return;if(!(jt instanceof M)){var Zt=1,qt;if(dt){if(qt=j(kt,Ct,$,gt),!qt||qt.index>=$.length)break;var Ut=qt.index,vt=qt.index+qt[0].length,Rt=Ct;for(Rt+=yt.value.length;Ut>=Rt;)yt=yt.next,Rt+=yt.value.length;if(Rt-=yt.value.length,Ct=Rt,yt.value instanceof M)continue;for(var Ht=yt;Ht!==F.tail&&(Rt<vt||typeof Ht.value=="string");Ht=Ht.next)Zt++,Rt+=Ht.value.length;Zt--,jt=$.slice(Ct,Rt),qt.index-=Ct}else if(qt=j(kt,0,jt,gt),!qt)continue;var Ut=qt.index,ue=qt[0],ne=jt.slice(0,Ut),Se=jt.slice(Ut+ue.length),Me=Ct+jt.length;T&&Me>T.reach&&(T.reach=Me);var Zn=yt.prev;ne&&(Zn=N(F,Zn,ne),Ct+=ne.length),W(F,Zn,Zt);var ci=new M(R,st?A.tokenize(ue,st):ue,_t,ue);if(yt=N(F,Zn,ci),Se&&N(F,yt,Se),Zt>1){var hi={cause:R+","+rt,reach:Me};H($,F,Z,yt.prev,Ct,hi),T&&hi.reach>T.reach&&(T.reach=hi.reach)}}}}}}function I(){var $={value:null,prev:null,next:null},F={value:null,prev:$,next:null};$.next=F,this.head=$,this.tail=F,this.length=0}function N($,F,Z){var U=F.next,w={value:Z,prev:F,next:U};return F.next=w,U.prev=w,$.length++,w}function W($,F,Z){for(var U=F.next,w=0;w<Z&&U!==$.tail;w++)U=U.next;F.next=U,U.prev=F,$.length-=w}function D($){for(var F=[],Z=$.head.next;Z!==$.tail;)F.push(Z.value),Z=Z.next;return F}if(!f.document)return f.addEventListener&&(A.disableWorkerMessageHandler||f.addEventListener("message",function($){var F=JSON.parse($.data),Z=F.language,U=F.code,w=F.immediateClose;f.postMessage(A.highlight(U,A.languages[Z],Z)),w&&f.close()},!1)),A;var X=A.util.currentScript();X&&(A.filename=X.src,X.hasAttribute("data-manual")&&(A.manual=!0));function q(){A.manual||A.highlightAll()}if(!A.manual){var nt=document.readyState;nt==="loading"||nt==="interactive"&&X&&X.defer?document.addEventListener("DOMContentLoaded",q):window.requestAnimationFrame?window.requestAnimationFrame(q):window.setTimeout(q,16)}return A}(_);P.exports&&(P.exports=u),typeof v.g!="undefined"&&(v.g.Prism=u),u.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},u.languages.markup.tag.inside["attr-value"].inside.entity=u.languages.markup.entity,u.languages.markup.doctype.inside["internal-subset"].inside=u.languages.markup,u.hooks.add("wrap",function(f){f.type==="entity"&&(f.attributes.title=f.content.replace(/&amp;/,"&"))}),Object.defineProperty(u.languages.markup.tag,"addInlined",{value:function(g,O){var L={};L["language-"+O]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:u.languages[O]},L.cdata=/^<!\[CDATA\[|\]\]>$/i;var A={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:L}};A["language-"+O]={pattern:/[\s\S]+/,inside:u.languages[O]};var M={};M[g]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return g}),"i"),lookbehind:!0,greedy:!0,inside:A},u.languages.insertBefore("markup","cdata",M)}}),Object.defineProperty(u.languages.markup.tag,"addAttribute",{value:function(f,g){u.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+f+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[g,"language-"+g],inside:u.languages[g]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),u.languages.html=u.languages.markup,u.languages.mathml=u.languages.markup,u.languages.svg=u.languages.markup,u.languages.xml=u.languages.extend("markup",{}),u.languages.ssml=u.languages.xml,u.languages.atom=u.languages.xml,u.languages.rss=u.languages.xml,function(f){var g=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;f.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+g.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+g.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+g.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:g,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},f.languages.css.atrule.inside.rest=f.languages.css;var O=f.languages.markup;O&&(O.tag.addInlined("style","css"),O.tag.addAttribute("style","css"))}(u),u.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},u.languages.javascript=u.languages.extend("clike",{"class-name":[u.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),u.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,u.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:u.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:u.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:u.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:u.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:u.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),u.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:u.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),u.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),u.languages.markup&&(u.languages.markup.tag.addInlined("script","javascript"),u.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),u.languages.js=u.languages.javascript,function(){if(typeof u=="undefined"||typeof document=="undefined")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var f="Loading\u2026",g=function(X,q){return"\u2716 Error "+X+" while fetching file: "+q},O="\u2716 Error: File does not exist or is empty",L={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},A="data-src-status",M="loading",j="loaded",H="failed",I="pre[data-src]:not(["+A+'="'+j+'"]):not(['+A+'="'+M+'"])';function N(X,q,nt){var $=new XMLHttpRequest;$.open("GET",X,!0),$.onreadystatechange=function(){$.readyState==4&&($.status<400&&$.responseText?q($.responseText):$.status>=400?nt(g($.status,$.statusText)):nt(O))},$.send(null)}function W(X){var q=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(X||"");if(q){var nt=Number(q[1]),$=q[2],F=q[3];return $?F?[nt,Number(F)]:[nt,void 0]:[nt,nt]}}u.hooks.add("before-highlightall",function(X){X.selector+=", "+I}),u.hooks.add("before-sanity-check",function(X){var q=X.element;if(q.matches(I)){X.code="",q.setAttribute(A,M);var nt=q.appendChild(document.createElement("CODE"));nt.textContent=f;var $=q.getAttribute("data-src"),F=X.language;if(F==="none"){var Z=(/\.(\w+)$/.exec($)||[,"none"])[1];F=L[Z]||Z}u.util.setLanguage(nt,F),u.util.setLanguage(q,F);var U=u.plugins.autoloader;U&&U.loadLanguages(F),N($,function(w){q.setAttribute(A,j);var T=W(q.getAttribute("data-range"));if(T){var R=w.split(/\r\n?|\n/g),B=T[0],rt=T[1]==null?R.length:T[1];B<0&&(B+=R.length),B=Math.max(0,Math.min(B-1,R.length)),rt<0&&(rt+=R.length),rt=Math.max(0,Math.min(rt,R.length)),w=R.slice(B,rt).join(`
`),q.hasAttribute("data-start")||q.setAttribute("data-start",String(B+1))}nt.textContent=w,u.highlightElement(nt)},function(w){q.setAttribute(A,H),nt.textContent=w})}}),u.plugins.fileHighlight={highlight:function(q){for(var nt=(q||document).querySelectorAll(I),$=0,F;F=nt[$++];)u.highlightElement(F)}};var D=!1;u.fileHighlight=function(){D||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),D=!0),u.plugins.fileHighlight.highlight.apply(this,arguments)}}()},8393:function(P,y,v){"use strict";var _=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(y,"__esModule",{value:!0});var u=_(v(4063)),f=_(v(4470)),g;(function(O){function L(H,I,N){H===void 0&&(H={}),I===void 0&&(I={}),typeof H!="object"&&(H={}),typeof I!="object"&&(I={});var W=f.default(!0,{},I);N||(W=Object.keys(W).reduce(function(X,q){return W[q]!=null&&(X[q]=W[q]),X},{}));for(var D in H)H[D]!==void 0&&I[D]===void 0&&(W[D]=H[D]);return Object.keys(W).length>0?W:void 0}O.compose=L;function A(H,I){H===void 0&&(H={}),I===void 0&&(I={}),typeof H!="object"&&(H={}),typeof I!="object"&&(I={});var N=Object.keys(H).concat(Object.keys(I)).reduce(function(W,D){return u.default(H[D],I[D])||(W[D]=I[D]===void 0?null:I[D]),W},{});return Object.keys(N).length>0?N:void 0}O.diff=A;function M(H,I){H===void 0&&(H={}),I===void 0&&(I={}),H=H||{};var N=Object.keys(I).reduce(function(W,D){return I[D]!==H[D]&&H[D]!==void 0&&(W[D]=I[D]),W},{});return Object.keys(H).reduce(function(W,D){return H[D]!==I[D]&&I[D]===void 0&&(W[D]=null),W},N)}O.invert=M;function j(H,I,N){if(N===void 0&&(N=!1),typeof H!="object")return I;if(typeof I=="object"){if(!N)return I;var W=Object.keys(I).reduce(function(D,X){return H[X]===void 0&&(D[X]=I[X]),D},{});return Object.keys(W).length>0?W:void 0}}O.transform=j})(g||(g={})),y.default=g},5943:function(P,y,v){"use strict";var _=this&&this.__importDefault||function(H){return H&&H.__esModule?H:{default:H}},u=_(v(4063)),f=_(v(4470)),g=v(9258),O=_(v(8393)),L=_(v(9175)),A=_(v(1581)),M=String.fromCharCode(0),j=function(){function H(I){var N;Array.isArray(I)?N=I:I!=null&&Array.isArray(I.ops)?N=I.ops:N=[];for(var W=0;W<N.length;W++){var D=N[W];typeof D.insert=="object"&&Array.isArray(D.insert.ops)?D.insert=new H(D.insert.ops):typeof D.retain=="object"&&Array.isArray(D.retain.ops)&&(D.retain=new H(D.retain.ops))}this.ops=N}return H.stringify=function(I,N){N===void 0&&(N=!0);var W;N?W="":W=[];for(var D=0;D<I.ops.length;D++){var X=I.ops[D],q=[];X.insert!==void 0?(X.insert instanceof H?q.push(H.stringify(X.insert,!1)):q.push(X.insert),X.attributes!==void 0&&q.push(X.attributes)):X.retain!==void 0?(X.retain instanceof H?q.push(H.stringify(X.retain,!1)):q.push(X.retain),X.attributes!==void 0&&q.push(X.attributes),q.push(2)):X.delete!==void 0&&(q.push(X.delete),q.push(3)),N?W+=JSON.stringify(q)+`
`:W.push(q)}return W},H.parse=function(I){var N=I.split(`
`);if(N.length>0&&(N.pop(),N.length>0)){for(var W=Array(N.length),D=0;D<N.length;D++){var X=JSON.parse(N[D]);W[D]=H.parseOp(X)}return new H({ops:W})}return null},H.parseOp=function(I){if(I[1]===void 0)return{insert:H.tryParseEmbedDelta(I[0])};if(typeof I[1]=="number"){if(I[1]===2)return{retain:H.tryParseEmbedDelta(I[0])};if(I[1]===3)return{delete:I[0]};throw new Error("unknown op type")}else if(typeof I[1]=="object"){if(I[2]===void 0)return{insert:H.tryParseEmbedDelta(I[0]),attributes:I[1]};if(I[2]===2)return{retain:H.tryParseEmbedDelta(I[0]),attributes:I[1]};throw new Error("unknown op type")}else throw new Error("wrong data type")},H.tryParseEmbedDelta=function(I){if(typeof I=="number"||typeof I=="string")return I;if(Array.isArray(I)){for(var N=Array(I.length),W=0;W<I.length;W++){var D=I[W];N[W]=H.parseOp(D)}return new H({ops:N})}throw new Error("unknown embed delta format")},H.prototype.insert=function(I,N,W){var D={};return typeof I=="string"&&I.length===0?this:(D.insert=I,N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(D.attributes=N),typeof W=="number"&&(D.key=W),this.push(D))},H.prototype.delete=function(I){return I<=0?this:this.push({delete:I})},H.prototype.retain=function(I,N){if(typeof I=="number"&&I<=0)return this;var W={retain:I};return N!=null&&typeof N=="object"&&Object.keys(N).length>0&&(W.attributes=N),this.push(W)},H.prototype.push=function(I){var N=this.ops.length,W=this.ops[N-1];if(I=f.default(!0,{},I),typeof W=="object"){if(typeof I.delete=="number"&&typeof W.delete=="number")return W.delete+=I.delete,this;if(typeof W.delete=="number"&&I.insert!=null&&(N-=1,W=this.ops[N-1],typeof W!="object"))return this.ops.unshift(I),this;if(u.default(I.attributes,W.attributes)){if(typeof I.insert=="string"&&typeof W.insert=="string")return this.ops[N-1]={insert:W.insert+I.insert},typeof I.attributes=="object"&&(this.ops[N-1].attributes=I.attributes),this;if(typeof I.insert=="number"&&typeof W.insert=="number")return W.insert+=I.insert,this;if(typeof I.retain=="number"&&typeof W.retain=="number")return this.ops[N-1]={retain:W.retain+I.retain},typeof I.attributes=="object"&&(this.ops[N-1].attributes=I.attributes),this}}return N===this.ops.length?this.ops.push(I):this.ops.splice(N,0,I),this},H.prototype.chop=function(){var I=this.ops[this.ops.length-1];return I&&I.retain&&typeof I.retain=="number"&&!I.attributes&&this.ops.pop(),this},H.prototype.filter=function(I){return this.ops.filter(I)},H.prototype.forEach=function(I){this.ops.forEach(I)},H.prototype.map=function(I){return this.ops.map(I)},H.prototype.partition=function(I){var N=[],W=[];return this.forEach(function(D){var X=I(D)?N:W;X.push(D)}),[N,W]},H.prototype.reduce=function(I,N){return this.ops.reduce(I,N)},H.prototype.changeLength=function(){return this.reduce(function(I,N){return N.insert?I+L.default.length(N):N.delete?I-N.delete:I},0)},H.prototype.length=function(){return this.reduce(function(I,N){return I+L.default.length(N)},0)},H.prototype.slice=function(I,N){I===void 0&&(I=0),N===void 0&&(N=1/0);var W=this.sliceOps(I,N);return new H(W)},H.prototype.sliceOps=function(I,N){I===void 0&&(I=0),N===void 0&&(N=1/0);for(var W=[],D=L.default.iterator(this.ops),X=0;X<N&&D.hasNext();){var q=void 0;X<I?q=D.next(I-X):(q=D.next(N-X),W.push(q)),X+=L.default.length(q)}return W},H.prototype.compose=function(I){var N=L.default.iterator(this.ops),W=L.default.iterator(I.ops),D=[],X=W.peek();if(X!=null&&typeof X.retain=="number"&&X.attributes==null){for(var q=X.retain;N.peekType()==="insert"&&N.peekLength()<=q;)q-=N.peekLength(),D.push(N.next());X.retain-q>0&&W.next(X.retain-q)}for(var nt=new H(D);N.hasNext()||W.hasNext();)if(W.peekType()==="insert")nt.push(W.next());else if(N.peekType()==="delete")nt.push(N.next());else{var $=Math.min(N.peekLength(),W.peekLength()),F=N.next($),Z=W.next($);if(typeof Z.retain=="number"){var U={};typeof F.retain=="number"?U.retain=$:U.insert=F.insert;var w=O.default.compose(F.attributes,Z.attributes,typeof F.retain=="number");if(w&&(U.attributes=w),nt.push(U),!W.hasNext()&&u.default(nt.ops[nt.ops.length-1],U)){var T=new H(N.rest());return nt.concat(T).chop()}}else if(typeof Z.retain=="object")if(typeof F.retain=="number"){var U={retain:Z.retain},w=O.default.compose(F.attributes,Z.attributes,!0);w&&(U.attributes=w),nt.push(U)}else if(typeof F.retain=="object"){var R=F.retain.compose(Z.retain);R.length()===0&&(R=1);var U={retain:R},w=O.default.compose(F.attributes,Z.attributes,!1);w&&(U.attributes=w),nt.push(U)}else if(typeof F.insert=="object"){var R=F.insert.compose(Z.retain);R.length()===0&&(R=1);var U={insert:R},w=O.default.compose(F.attributes,Z.attributes,!1);w&&(U.attributes=w),nt.push(U)}else if(typeof F.insert=="number"){var U={insert:Z.retain},w=O.default.compose(F.attributes,Z.attributes,!0);w&&(U.attributes=w),nt.push(U)}else console.trace("error compose");else typeof Z.delete=="number"&&typeof F.retain=="number"&&nt.push(Z)}return nt.chop()},H.prototype.concat=function(I){var N=new H(this.ops.slice());return I.ops.length>0&&(N.push(I.ops[0]),N.ops=N.ops.concat(I.ops.slice(1))),N},H.prototype.diff=function(I,N){if(this.ops===I.ops)return new H;var W=[this,I].map(function($){var F=[];return $.forEach(function(Z){if(Z.insert!=null)if(typeof Z.insert=="string")for(var U=A.default(Z.insert),w=0;w<U.length;w++)F.push(U[w]);else if(typeof Z.insert=="number")if(Z.insert===1)typeof Z.key=="number"?F.push(Z.key):F.push(M);else for(var w=0;w<Z.insert;w++)F.push(M);else typeof Z.key=="number"?F.push(Z.key):F.push(M);else{var T=$===I?"on":"with";throw new Error("diff() called "+T+" non-document")}}),F}),D=new H,X=g.diffSequence(W[0],W[1],N),q=L.default.iterator(this.ops),nt=L.default.iterator(I.ops);return X.forEach(function($){for(var F=$[1].reduce(function(T,R){var B=typeof R=="number"?1:R.length;return T+B},0);F>0;){var Z=0;switch($[0]){case g.DiffOp.DIFF_INSERT:Z=Math.min(nt.peekLength(),F),D.push(nt.next(Z));break;case g.DiffOp.DIFF_DELETE:Z=Math.min(F,q.peekLength()),q.next(Z),D.delete(Z);break;case g.DiffOp.DIFF_EQUAL:Z=Math.min(q.peekLength(),nt.peekLength(),F);var U=q.next(Z),w=nt.next(Z);u.default(U.insert,w.insert)?D.retain(Z,O.default.diff(U.attributes,w.attributes)):typeof U.insert=="object"&&typeof w.insert=="object"?D.retain(U.insert.diff(w.insert),O.default.diff(U.attributes,w.attributes)):D.push(w).delete(Z);break}F-=Z}}),D.chop()},H.prototype.invert=function(I){for(var N=new H,W=0,D=function(nt){var $=X.ops[nt];if($.insert)N.delete(L.default.length($));else if($.retain&&$.attributes==null&&typeof $.retain=="number")N.retain($.retain),W+=$.retain;else if($.delete||typeof $.retain=="number"&&$.attributes){var F=$.delete||$.retain,Z=I.sliceOps(W,W+F);Z.forEach(function(T){$.delete?N.push(T):$.retain&&$.attributes&&N.retain(L.default.length(T),O.default.invert($.attributes,T.attributes))}),W+=F}else if(typeof $.retain=="object"){var U=$.retain,w=1,Z=I.sliceOps(W,W+w);Z.forEach(function(R){var B=$.attributes?O.default.invert($.attributes,R.attributes):null;if(typeof R.insert=="number"){var rt={retain:new H().delete(U.length())};B&&(rt.attributes=B),N=N.concat(new H([rt]))}else if(typeof R.insert=="object"){var rt={retain:U.invert(R.insert)};B&&(rt.attributes=B),N=N.concat(new H([rt]))}else console.trace("can not invert retain",R,$)}),W+=w}},X=this,q=0;q<this.ops.length;q++)D(q);return N.chop()},H.prototype.transform=function(I,N,W){N===void 0&&(N=!1),W===void 0&&(W=!0);var D;if(N=!!N,typeof I=="number")return this.transformPosition(I,N);for(var X=I,q=L.default.iterator(this.ops),nt=L.default.iterator(X.ops),$=new H;nt.hasNext();)if(q.peekType()==="insert"&&(N||nt.peekType()!=="insert"))$.retain(L.default.length(q.next()));else if(nt.peekType()==="insert")$.push(nt.next());else{var F=Math.min(q.peekLength(),nt.peekLength()),Z=q.next(F),U=nt.next(F);if(Z.delete)continue;if(U.delete)$.push(U);else{var w=O.default.transform(Z.attributes,U.attributes,N);if(typeof Z.retain=="number"||typeof U.insert=="number"||typeof U.retain=="number"){var T=F;typeof U.retain=="object"&&(T=U.retain),$.retain(T,w)}else{var R=(D=U.insert)!==null&&D!==void 0?D:U.retain;$.retain(Z.retain.transform(R,N),w)}}}return W?$.chop():$},H.prototype.transformPosition=function(I,N){N===void 0&&(N=!1),N=!!N;for(var W=L.default.iterator(this.ops),D=0;W.hasNext()&&D<=I;){var X=W.peekLength(),q=W.peekType();if(W.next(),q==="delete"){I-=Math.min(X,I-D);continue}else q==="insert"&&(D<I||!N)&&(I+=X);D+=X}return I},H.Op=L.default,H.AttributeMap=O.default,H}();P.exports=j},6570:function(P,y,v){"use strict";var _=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(y,"__esModule",{value:!0});var u=_(v(9175)),f=function(){function g(O){this.ops=O,this.index=0,this.offset=0}return g.prototype.hasNext=function(){return this.peekLength()<1/0},g.prototype.next=function(O){O||(O=1/0);var L=this.ops[this.index];if(L){var A=this.offset,M=u.default.length(L);if(O>=M-A?(O=M-A,this.index+=1,this.offset=0):this.offset+=O,typeof L.delete=="number")return{delete:O};var j={};return L.attributes&&(j.attributes=L.attributes),typeof L.retain=="number"?j.retain=O:typeof L.retain=="object"?j.retain=L.retain:typeof L.insert=="string"?j.insert=L.insert.substr(A,O):typeof L.insert=="number"?j.insert=O:j.insert=L.insert,j}else return{retain:1/0}},g.prototype.peek=function(){return this.ops[this.index]},g.prototype.peekLength=function(){return this.ops[this.index]?u.default.length(this.ops[this.index])-this.offset:1/0},g.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"||typeof this.ops[this.index].retain=="object"?"retain":"insert":"retain"},g.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var O=this.offset,L=this.index,A=this.next(),M=this.ops.slice(this.index);return this.offset=O,this.index=L,[A].concat(M)}else return[]},g}();y.default=f},9175:function(P,y,v){"use strict";var _=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(y,"__esModule",{value:!0});var u=_(v(6570)),f;(function(g){function O(A){return new u.default(A)}g.iterator=O;function L(A){return typeof A.delete=="number"?A.delete:typeof A.retain=="number"?A.retain:typeof A.retain=="object"?1:typeof A.insert=="string"?A.insert.length:typeof A.insert=="number"?A.insert:1}g.length=L})(f||(f={})),y.default=f},9258:function(P,y,v){"use strict";var _=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(y,"__esModule",{value:!0});var u=_(v(1581)),f;(function(w){w[w.DIFF_DELETE=-1]="DIFF_DELETE",w[w.DIFF_INSERT=1]="DIFF_INSERT",w[w.DIFF_EQUAL=0]="DIFF_EQUAL"})(f=y.DiffOp||(y.DiffOp={}));function g(w,T,R,B){if(B===void 0&&(B=!1),F(w,T))return w.length>0?[[f.DIFF_EQUAL,w]]:[];if(R!=null){var rt=$(w,T,R);if(rt&&rt.length>0)return rt}var tt=M(w,T),st=w.slice(0,tt);w=w.slice(tt),T=T.slice(tt),tt=j(w,T);var gt=w.slice(w.length-tt);w=w.slice(0,w.length-tt),T=T.slice(0,T.length-tt);var dt=O(w,T);return st.length>0&&dt.unshift([f.DIFF_EQUAL,st]),gt.length>0&&dt.push([f.DIFF_EQUAL,gt]),I(dt,B),dt}function O(w,T){var R;if(w.length===0)return[[f.DIFF_INSERT,T]];if(T.length===0)return[[f.DIFF_DELETE,w]];var B=w.length>T.length?w:T,rt=w.length>T.length?T:w,tt=Z(B,rt);if(tt!==-1)return R=[[f.DIFF_INSERT,B.slice(0,tt)],[f.DIFF_EQUAL,rt],[f.DIFF_INSERT,B.slice(tt+rt.length)]],w.length>T.length&&(R[0][0]=R[2][0]=f.DIFF_DELETE),R;if(rt.length===1)return[[f.DIFF_DELETE,w],[f.DIFF_INSERT,T]];var st=H(w,T);if(st&&st.length>0){var gt=st[0],dt=st[1],_t=st[2],Pt=st[3],kt=st[4],yt=g(gt,_t),Ct=g(dt,Pt);return yt.concat([[f.DIFF_EQUAL,kt]],Ct)}return L(w,T)}function L(w,T){for(var R=w.length,B=T.length,rt=Math.ceil((R+B)/2),tt=rt,st=2*rt,gt=new Array(st),dt=new Array(st),_t=0;_t<st;_t++)gt[_t]=-1,dt[_t]=-1;gt[tt+1]=0,dt[tt+1]=0;for(var Pt=R-B,kt=Pt%2!=0,yt=0,Ct=0,jt=0,Zt=0,qt=0;qt<rt;qt++){for(var vt=-qt+yt;vt<=qt-Ct;vt+=2){var Rt=tt+vt,Ht;vt===-qt||vt!==qt&&gt[Rt-1]<gt[Rt+1]?Ht=gt[Rt+1]:Ht=gt[Rt-1]+1;for(var Ut=Ht-vt;Ht<R&&Ut<B&&w[Ht]===T[Ut];)Ht++,Ut++;if(gt[Rt]=Ht,Ht>R)Ct+=2;else if(Ut>B)yt+=2;else if(kt){var ue=tt+Pt-vt;if(ue>=0&&ue<st&&dt[ue]!==-1){var ne=R-dt[ue];if(Ht>=ne)return A(w,T,Ht,Ut)}}}for(var Se=-qt+jt;Se<=qt-Zt;Se+=2){var ue=tt+Se,ne;Se===-qt||Se!==qt&&dt[ue-1]<dt[ue+1]?ne=dt[ue+1]:ne=dt[ue-1]+1;for(var Me=ne-Se;ne<R&&Me<B&&w[R-ne-1]===T[B-Me-1];)ne++,Me++;if(dt[ue]=ne,ne>R)Zt+=2;else if(Me>B)jt+=2;else if(!kt){var Rt=tt+Pt-Se;if(Rt>=0&&Rt<st&&gt[Rt]!==-1){var Ht=gt[Rt],Ut=tt+Ht-Rt;if(ne=R-ne,Ht>=ne)return A(w,T,Ht,Ut)}}}}return[[f.DIFF_DELETE,w],[f.DIFF_INSERT,T]]}function A(w,T,R,B){var rt=w.slice(0,R),tt=T.slice(0,B),st=w.slice(R),gt=T.slice(B),dt=g(rt,tt),_t=g(st,gt);return dt.concat(_t)}function M(w,T){if(w.length===0||T.length===0||w[0]!==T[0])return 0;for(var R=0,B=Math.min(w.length,T.length),rt=B,tt=0;R<rt;)F(w.slice(tt,rt),T.slice(tt,rt))?(R=rt,tt=R):B=rt,rt=Math.floor((B-R)/2+R);var st=w[rt-1];return typeof st=="string"&&N(U(st,0))&&rt--,rt}function j(w,T){if(w.length===0||T.length===0||!F(w.slice(-1),T.slice(-1)))return 0;for(var R=0,B=Math.min(w.length,T.length),rt=B,tt=0;R<rt;)F(w.slice(w.length-rt,w.length-tt),T.slice(T.length-rt,T.length-tt))?(R=rt,tt=R):B=rt,rt=Math.floor((B-R)/2+R);var st=w[w.length-rt];return typeof st=="string"&&W(U(st,0))&&rt--,rt}function H(w,T){var R=w.length>T.length?w:T,B=w.length>T.length?T:w;if(R.length<4||B.length*2<R.length)return null;function rt(Ct,jt,Zt){for(var qt=Ct.slice(Zt,Zt+Math.floor(Ct.length/4)),vt=-1,Rt=[],Ht=[],Ut=[],ue=[],ne=[];(vt=Z(jt,qt,vt+1))!==-1;){var Se=M(Ct.slice(Zt),jt.slice(vt)),Me=j(Ct.slice(0,Zt),jt.slice(0,vt));Rt.length<Me+Se&&(Rt=jt.slice(vt-Me,vt).concat(jt.slice(vt,vt+Se)),Ht=Ct.slice(0,Zt-Me),Ut=Ct.slice(Zt+Se),ue=jt.slice(0,vt-Me),ne=jt.slice(vt+Se))}return Rt.length*2>=Ct.length?[Ht,Ut,ue,ne,Rt]:null}var tt=rt(R,B,Math.ceil(R.length/4)),st=rt(R,B,Math.ceil(R.length/2)),gt;if(!tt&&!st)return null;st?tt?gt=tt[4].length>st[4].length?tt:st:gt=st:gt=tt;var dt,_t,Pt,kt;w.length>T.length?(dt=gt[0],_t=gt[1],Pt=gt[2],kt=gt[3]):(Pt=gt[0],kt=gt[1],dt=gt[2],_t=gt[3]);var yt=gt[4];return[dt,_t,Pt,kt,yt]}function I(w,T){w.push([f.DIFF_EQUAL,[]]);for(var R=0,B=0,rt=0,tt=[],st=[],gt;R<w.length;){if(R<w.length-1&&!w[R][1]){w.splice(R,1);continue}switch(w[R][0]){case f.DIFF_INSERT:rt++,st=st.concat(w[R][1]),R++;break;case f.DIFF_DELETE:B++,tt=tt.concat(w[R][1]),R++;break;case f.DIFF_EQUAL:var dt=R-rt-B-1;if(T){if(dt>=0&&X(w[dt][1])){var _t=w[dt][1].slice(-1);if(w[dt][1]=w[dt][1].slice(0,-1),tt=_t.concat(tt),st=_t.concat(st),w[dt][1].length>0){w.splice(dt,1),R--;var Pt=dt-1;w[Pt]&&w[Pt][0]===f.DIFF_INSERT&&(rt++,st=w[Pt][1].concat(st),Pt--),w[Pt]&&w[Pt][0]===f.DIFF_DELETE&&(B++,tt=w[Pt][1].concat(tt),Pt--),dt=Pt}}if(D(w[R][1])){var kt=w[R][1][0];w[R][1]=w[R][1].slice(1),tt.push(kt),st.push(kt)}}if(R<w.length-1&&!w[R][1]){w.splice(R,1);break}if(tt.length>0||st.length>0){tt.length>0&&st.length>0&&(gt=M(st,tt),gt!==0&&(dt>=0?w[dt][1]=w[dt][1].concat(st.slice(0,gt)):(w.splice(0,0,[f.DIFF_EQUAL,st.slice(0,gt)]),R++),st=st.slice(gt),tt=tt.slice(gt)),gt=j(st,tt),gt!==0&&(w[R][1]=st.slice(st.length-gt).concat(w[R][1]),st=st.slice(0,st.length-gt),tt=tt.slice(0,tt.length-gt)));var yt=rt+B;tt.length===0&&st.length===0?(w.splice(R-yt,yt),R=R-yt):tt.length===0?(w.splice(R-yt,yt,[f.DIFF_INSERT,st]),R=R-yt+1):st.length===0?(w.splice(R-yt,yt,[f.DIFF_DELETE,tt]),R=R-yt+1):(w.splice(R-yt,yt,[f.DIFF_DELETE,tt],[f.DIFF_INSERT,st]),R=R-yt+2)}R!==0&&w[R-1][0]===f.DIFF_EQUAL?(w[R-1][1]=w[R-1][1].concat(w[R][1]),w.splice(R,1)):R++,rt=0,B=0,tt=[],st=[];break}}w[w.length-1][1].length===0&&w.pop();var Ct=!1;for(R=1;R<w.length-1;)w[R-1][0]===f.DIFF_EQUAL&&w[R+1][0]===f.DIFF_EQUAL&&(F(w[R][1].slice(w[R][1].length-w[R-1][1].length),w[R-1][1])?(w[R][1]=w[R-1][1].concat(w[R][1].slice(0,w[R][1].length-w[R-1][1].length)),w[R+1][1]=w[R-1][1].concat(w[R+1][1]),w.splice(R-1,1),Ct=!0):F(w[R][1].slice(0,w[R+1][1].length),w[R+1][1])&&(w[R-1][1]=w[R-1][1].concat(w[R+1][1]),w[R][1]=w[R][1].slice(w[R+1][1].length).concat(w[R+1][1]),w.splice(R+1,1),Ct=!0)),R++;Ct&&I(w,T)}function N(w){return w>=55296&&w<=56319}function W(w){return w>=56320&&w<=57343}function D(w){var T=w[0];return typeof T=="string"&&W(U(T,0))}function X(w){var T=w[w.length-1];return typeof T=="string"&&N(U(T,0))}function q(w){for(var T=[],R=0;R<w.length;R++)w[R][1].length>0&&T.push(w[R]);return T}function nt(w,T,R,B){return X(w)||D(B)?null:q([[f.DIFF_EQUAL,w],[f.DIFF_DELETE,T],[f.DIFF_INSERT,R],[f.DIFF_EQUAL,B]])}function $(w,T,R){var B=typeof R=="number"?{index:R,length:0}:R.oldRange,rt=typeof R=="number"?null:R.newRange,tt=w.length,st=T.length;if(B.length===0&&(rt===null||rt.length===0)){var gt=B.index,dt=w.slice(0,gt),_t=w.slice(gt),Pt=rt?rt.index:null;t:{var kt=gt+st-tt;if(Pt!==null&&Pt!==kt||kt<0||kt>st)break t;var yt=T.slice(0,kt),Ct=T.slice(kt);if(!F(Ct,_t))break t;var jt=Math.min(gt,kt),Zt=dt.slice(0,jt),qt=yt.slice(0,jt);if(!F(Zt,qt))break t;var vt=dt.slice(jt),Rt=yt.slice(jt);return nt(Zt,vt,Rt,_t)}t:{if(Pt!==null&&Pt!==gt)break t;var Ht=gt,yt=T.slice(0,Ht),Ct=T.slice(Ht);if(!F(yt,dt))break t;var Ut=Math.min(tt-Ht,st-Ht),ue=_t.slice(_t.length-Ut),ne=Ct.slice(Ct.length-Ut);if(!F(ue,ne))break t;var vt=_t.slice(0,_t.length-Ut),Rt=Ct.slice(0,Ct.length-Ut);return nt(dt,vt,Rt,ue)}}if(B.length>0&&rt&&rt.length===0){t:{var Zt=w.slice(0,B.index),ue=w.slice(B.index+B.length),jt=Zt.length,Ut=ue.length;if(st<jt+Ut)break t;var qt=T.slice(0,jt),ne=T.slice(st-Ut);if(!F(Zt,qt)||!F(ue,ne))break t;var vt=w.slice(jt,tt-Ut),Rt=T.slice(jt,st-Ut);return nt(Zt,vt,Rt,ue)}}return null}function F(w,T){var R=w.length===T.length;if(R)for(var B=0;B<w.length&&(R=w[B]===T[B],!!R);B++);return R}function Z(w,T,R){R===void 0&&(R=0);for(var B=-1,rt=R,tt=w.length;rt<tt;rt++){for(var st=!0,gt=0,dt=T.length;gt<dt;gt++){var _t=w[rt+gt],Pt=T[gt];if(_t!==Pt){st=!1;break}}if(st){B=rt;break}}return B}function U(w,T){var R=w.length,B=T?Number(T):0;if(B!=B&&(B=0),B<0||B>=R)throw new Error("out of string size");var rt=w.charCodeAt(B),tt;return rt>=55296&&rt<=56319&&R>B+1&&(tt=w.charCodeAt(B+1),tt>=56320&&tt<=57343)?(rt-55296)*1024+tt-56320+65536:rt}y.diff=function(w,T,R){for(var B=u.default(w),rt=u.default(T),tt=y.diffSequence(B,rt,R),st=new Array(tt.length),gt=0;gt<tt.length;gt++){var dt=tt[gt];st[gt]=[dt[0],dt[1].join("")]}return st},y.diffSequence=function(w,T,R){var B=g(w,T,R,!0);return B}},311:function(P){var y=0,v=-3;function _(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function u(T,R){this.source=T,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=R,this.destLen=0,this.ltree=new _,this.dtree=new _}var f=new _,g=new _,O=new Uint8Array(30),L=new Uint16Array(30),A=new Uint8Array(30),M=new Uint16Array(30),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H=new _,I=new Uint8Array(288+32);function N(T,R,B,rt){var tt,st;for(tt=0;tt<B;++tt)T[tt]=0;for(tt=0;tt<30-B;++tt)T[tt+B]=tt/B|0;for(st=rt,tt=0;tt<30;++tt)R[tt]=st,st+=1<<T[tt]}function W(T,R){var B;for(B=0;B<7;++B)T.table[B]=0;for(T.table[7]=24,T.table[8]=152,T.table[9]=112,B=0;B<24;++B)T.trans[B]=256+B;for(B=0;B<144;++B)T.trans[24+B]=B;for(B=0;B<8;++B)T.trans[24+144+B]=280+B;for(B=0;B<112;++B)T.trans[24+144+8+B]=144+B;for(B=0;B<5;++B)R.table[B]=0;for(R.table[5]=32,B=0;B<32;++B)R.trans[B]=B}var D=new Uint16Array(16);function X(T,R,B,rt){var tt,st;for(tt=0;tt<16;++tt)T.table[tt]=0;for(tt=0;tt<rt;++tt)T.table[R[B+tt]]++;for(T.table[0]=0,st=0,tt=0;tt<16;++tt)D[tt]=st,st+=T.table[tt];for(tt=0;tt<rt;++tt)R[B+tt]&&(T.trans[D[R[B+tt]]++]=tt)}function q(T){T.bitcount--||(T.tag=T.source[T.sourceIndex++],T.bitcount=7);var R=T.tag&1;return T.tag>>>=1,R}function nt(T,R,B){if(!R)return B;for(;T.bitcount<24;)T.tag|=T.source[T.sourceIndex++]<<T.bitcount,T.bitcount+=8;var rt=T.tag&65535>>>16-R;return T.tag>>>=R,T.bitcount-=R,rt+B}function $(T,R){for(;T.bitcount<24;)T.tag|=T.source[T.sourceIndex++]<<T.bitcount,T.bitcount+=8;var B=0,rt=0,tt=0,st=T.tag;do rt=2*rt+(st&1),st>>>=1,++tt,B+=R.table[tt],rt-=R.table[tt];while(rt>=0);return T.tag=st,T.bitcount-=tt,R.trans[B+rt]}function F(T,R,B){var rt,tt,st,gt,dt,_t;for(rt=nt(T,5,257),tt=nt(T,5,1),st=nt(T,4,4),gt=0;gt<19;++gt)I[gt]=0;for(gt=0;gt<st;++gt){var Pt=nt(T,3,0);I[j[gt]]=Pt}for(X(H,I,0,19),dt=0;dt<rt+tt;){var kt=$(T,H);switch(kt){case 16:var yt=I[dt-1];for(_t=nt(T,2,3);_t;--_t)I[dt++]=yt;break;case 17:for(_t=nt(T,3,3);_t;--_t)I[dt++]=0;break;case 18:for(_t=nt(T,7,11);_t;--_t)I[dt++]=0;break;default:I[dt++]=kt;break}}X(R,I,0,rt),X(B,I,rt,tt)}function Z(T,R,B){for(;;){var rt=$(T,R);if(rt===256)return y;if(rt<256)T.dest[T.destLen++]=rt;else{var tt,st,gt,dt;for(rt-=257,tt=nt(T,O[rt],L[rt]),st=$(T,B),gt=T.destLen-nt(T,A[st],M[st]),dt=gt;dt<gt+tt;++dt)T.dest[T.destLen++]=T.dest[dt]}}}function U(T){for(var R,B,rt;T.bitcount>8;)T.sourceIndex--,T.bitcount-=8;if(R=T.source[T.sourceIndex+1],R=256*R+T.source[T.sourceIndex],B=T.source[T.sourceIndex+3],B=256*B+T.source[T.sourceIndex+2],R!==(~B&65535))return v;for(T.sourceIndex+=4,rt=R;rt;--rt)T.dest[T.destLen++]=T.source[T.sourceIndex++];return T.bitcount=0,y}function w(T,R){var B=new u(T,R),rt,tt,st;do{switch(rt=q(B),tt=nt(B,2,0),tt){case 0:st=U(B);break;case 1:st=Z(B,f,g);break;case 2:F(B,B.ltree,B.dtree),st=Z(B,B.ltree,B.dtree);break;default:st=v}if(st!==y)throw new Error("Data error")}while(!rt);return B.destLen<B.dest.length?typeof B.dest.slice=="function"?B.dest.slice(0,B.destLen):B.dest.subarray(0,B.destLen):B.dest}W(f,g),N(O,L,4,3),N(A,M,2,1),O[28]=0,L[28]=258,P.exports=w},7055:function(P,y,v){const _=v(311),{swap32LE:u}=v(7269),f=6+5,g=5,O=f-g,L=65536>>f,M=(1<<O)-1,j=2,I=(1<<g)-1,N=65536>>g,W=1024>>g,X=N+W,q=2048>>6,nt=X+q,$=1<<j;class F{constructor(U){const w=typeof U.readUInt32BE=="function"&&typeof U.slice=="function";if(w||U instanceof Uint8Array){let T;if(w)this.highStart=U.readUInt32LE(0),this.errorValue=U.readUInt32LE(4),T=U.readUInt32LE(8),U=U.slice(12);else{const R=new DataView(U.buffer);this.highStart=R.getUint32(0,!0),this.errorValue=R.getUint32(4,!0),T=R.getUint32(8,!0),U=U.subarray(12)}U=_(U,new Uint8Array(T)),U=_(U,new Uint8Array(T)),u(U),this.data=new Uint32Array(U.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=U)}get(U){let w;return U<0||U>1114111?this.errorValue:U<55296||U>56319&&U<=65535?(w=(this.data[U>>g]<<j)+(U&I),this.data[w]):U<=65535?(w=(this.data[N+(U-55296>>g)]<<j)+(U&I),this.data[w]):U<this.highStart?(w=this.data[nt-L+(U>>f)],w=this.data[w+(U>>g&M)],w=(w<<j)+(U&I),this.data[w]):this.data[this.data.length-$]}}P.exports=F},7269:function(P){const y=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,v=(f,g,O)=>{let L=f[g];f[g]=f[O],f[O]=L},_=f=>{const g=f.length;for(let O=0;O<g;O+=4)v(f,O,O+3),v(f,O+1,O+2)},u=f=>{y&&_(f)};P.exports={swap32LE:u}},8967:function(P,y){y.OP=0,y.CL=1,y.CP=2,y.QU=3,y.GL=4,y.NS=5,y.EX=6,y.SY=7,y.IS=8,y.PR=9,y.PO=10,y.NU=11,y.AL=12,y.HL=13,y.ID=14,y.IN=15,y.HY=16,y.BA=17,y.BB=18,y.B2=19,y.ZW=20,y.CM=21,y.WJ=22,y.H2=23,y.H3=24,y.JL=25,y.JV=26,y.JT=27,y.RI=28,y.EB=29,y.EM=30,y.ZWJ=31,y.CB=32,y.AI=33,y.BK=34,y.CJ=35,y.CR=36,y.LF=37,y.NL=38,y.SA=39,y.SG=40,y.SP=41,y.XX=42},971:function(P,y,v){const _=v(7055),u=v(9742),{BK:f,CR:g,LF:O,NL:L,SG:A,WJ:M,SP:j,ZWJ:H,BA:I,HY:N,NS:W,AI:D,AL:X,CJ:q,HL:nt,RI:$,SA:F,XX:Z}=v(8967),{DI_BRK:U,IN_BRK:w,CI_BRK:T,CP_BRK:R,PR_BRK:B,pairTable:rt}=v(4657),tt=u.toByteArray("AAgOAAAAAACA3QAAAe0OEvHtnXuMXUUdx+d2d2/33r237V3YSoFC11r6IGgbRFBEfFF5KCVCMYKFaKn8AYqmwUeqECFabUGQipUiNCkgSRElUkKwJRWtwSpJrZpCI4E2NQqiBsFGwWL8Tu6Md3Z23o9zbund5JM5c+b1m9/85nnOuXtTHyFrwXpwL9gBngTPgj+Dv4H9Ae4B0N9PSAMcDqaB0X57urmIs8AQ72SEnQ4+ABaBxWAJWAquENJ9BtdfANeCleBGcCv4NvgeuBv8AGwCm8FWlpbzOPw7wC7wFNgDngMvgpfAq2DCACF10ACHgaPAzIF2+PFwT2Th1P8OuO8FZ4MPggvAxWAp+A6VHe5ysILFvx7u6oF2+Wvg3g7uYvlT+TbC/TH4CdgCtoGtfW3/E2An8++Gu5eleR7uP8B+8BoLf4LFH6i23Vp1rB5a1Q7TGMeCUYYY18RcxF0gxT8H5b3dIw8X3iPkdxauPwQWgyVgWbVT30/h+mrwZan8r8L/FcEWVsJ/E1grpKXcwdLdI9y/H9cPgUerbbun0PadCHcbjQd+D55mafcx9y9wXwKvCLJUJiLdRH09ef4xupqE/KeCY8Bx4M3gbeBdYCE4G3wYXASWgGXgSibTcuaugHs9WA3WgNvBBha2Ee4D4GFNPTYL9x/D9XaJXwnXvwW7wDPgTzQd2A9eAwODhDTBCJgOZoETwEngtEFmF3DPAouY/0K4Swb9dbaMpbkS7nKP9CsCyrpOSrNK8K9kNnYL7q0DGwbb/XnjoDv3gQfBZvBz8GvwO/AHdr3Pkv4F4fplj3J79OgRBx8HypajR48ePXr06NGjx8HFv7pABhX/HRx7HqKjr9Y+y6PXg7X2WRoPm1Kzpz8CcWaweLPhHt/fPq95C65PZnmfDnchOLfWPo/7OLgQ15ewdJ+E++na2PMhyudw72bDGc01CP8aWAm+Dr4BVoHV4IZeWC+sF9YL64UlD1sD1oE7au0z0zK5p1YuZde/R49uJnYdez/62EPgkVr4c7pHkfYXivTbcW8n2A32gOekOH+F/5/gAOivE9IArXpbrmlwR+vljz9bJrV552RCvgQ2GXgRzJ9CyGVTxofdLd17Gv6jW4RcAG5ote/9FO4B8NZhQs4DN4O9kOFY6OFSsB48C/qGCFkAyERCzh9q+0WuA2sqHX4m+Smv4t6RjXYelItwvQ7sBtOahHwU3NYcn+5Q4pFmRz89evTocajxStM898/FfLSgrg8/sT5+zcLDTkXY+6S0C+E/l907SXO+Rt/Lujrxe1kmztPU70JDvSmXILwJWS9TxLuC3VtuycPGCoV+VfD41yvKW6W4d1O9/S5YtZ+Qtbi+k/m/D/eHYBPzb4G7DfyS+enZ42/qnXPFp+pjZdgD/yX0XcV6+93DF+H+G5AhtcxPIs/BoY5cg0g7RRGXx/8Ewo8Y6vhp/Bnwz2F5zId7CgunZ6Dv1uTF0585pNY7P9NdhPCPDI1Ncyn8l4OrwHKwguVB12WrNPnpoPW5BWluA3eCuxRl3cfyfFCom43NBjkeQ9h2Tzlzs7PL5CmD3UwHew26+KMm7AVHu8hJaL1fTtj29L3E/wi6oPvWvkY7bAjucKOYtpymKWdGo/3e5KxGR8YTGvmfZ4XW46RGmnMIG6excs6Ae46nPuh7pGXbvm/fOB91vLhRXvkmlkKuK8BnFTb8xYL6TyqugbzXJZCZ9tlVrO9+C+53G5134A8G1htsjdbvXoT/KEBPmwq04dS2v6UxNnxbAXV5gul4Z6J+tMtBZtv4+Qzy2Ndof+fwPHP/zsbg/QFz02tIM4B9ZRO0mp379NxxBpgD5gv3T8H16eAMcCZYxMIWw/2YEG8pri9n/qvgfr45fm67VtjPzmbpVrJ7NzL3VrjvF/Jdh+sN3M/cB+A+LOV/bVNdX13b0G9KtmrSHCo8jvqfGjFu7WiWP37E8s2+yv8ZwVbYRgvMAm9kvMkhjStzAZbIBGIR+ngAy2NSZ9f0Hv2bIIShCckU5k5sb+OdGGQ0BKqSPzeE1WFCgWXK5dO2rDD/COn9zTvEUfXJ4zT3c9DP2oH2+ZoAtc9RBr/mY0SLdGyap+Nxh6W0In2Sn5C8/W00c/7dXn63we1DtAHud9WZbFNimmFL2iIoqt8eDPQHptERIkNoO8prFVvblm13OaG6oGM+n7P4/RrRz2HdTktotxHFdZW5tvm72UWEtm9dQF6n++hU1FmVFL++L2Nsdt3/1IVrWaacda4Se91t+pHDVXF5HFd9pG7X14NNyePr6wkfPTRI+H6qDPvLqRM5DR2beZ8W95Divq0IWXXyy/d18Yq09ZhyY/fyPjafY37yta8ybD9l3W15+crXYhQ5rsj2Wkb7iDadon1c+tKI4p5NR6HjPl/vqvLm92uK8lTjWNntkwJTu9hkiJmHVf3S1V5UOii6PWL1nVqOkP5QI/b2L2o+Kqr/h9i0bHNl9HudnKn0btKBbZzItQ7n47Drmutg6P+ubZK7/5va0PU8XZS56DP4Isci07gUo3/fscdlfMyp6xR6dy0vt/275K1bJ8qkHI99bdK3v4vt4Gtzs7sEWa5aZH4NDz3yfWG368bXLlQ6GZYQ7/UL1y3mryroZ+nkZwK28SD1vlt+7sNd+lcR3Ji1RKq1WcvhftFzousYxftH7Ngu2pZubcGfD8eMizp5Y/uha/m69NNK5siSOapkcq2lTOOGvE4y9aPclFl20eXTvwoZO374ymob90Jx3Zfk2h/I849q7VNE+WXsj+ZFlJ96Xcd1PyD4ue2J69/Q9V+u9uPrQC7/sHRftjE+n+eQP2Ztl5Kc+0TX/WND8vP2iF23xO7lfO3XtKfLhUm/PE6Ze78RD/3Fknr8i907yWsoUx+M3S+0SNjcHyu7qg6+aYvqF671TLXfTzU+2uaTnOOzbFc+7yHoZE59npIL175kay/ZxlKMH6a+NSJdl90XKXytpbMpTr/kP5zJfqxQDzneYWTstxh9pPPdYJ/CL8alTBag+fFvHFXtQMutWxBloOUMMHS6GWSyVYS4pvgmexXtVjc/TFWk9ZnnZLt3+caI10/8Xkb+hsYlfeh+QOyPNQN1S7hv2nqivEVSj/Ex+1lu73Ib1olbu4jpfN4ddbWbHN+/mcpWfUem+g7RhK4833SuepHbN0d5PjKF1kUll3xPFc5d+btTW9uqdCHXwaQ7kw252ENIW9vKTdEfTLox+VPYT6r8XXUWq7tYuXyZnEAG+ic+pwyVdRLDp8wcOp0kEZNXzLyqw3f+yEkjMI1sFznk8ulDKcoKlcFVlz75qPyu9+U8YuvnqnfXNDn6t6neNr3xfHj4JEU500ma8SSkjjodptBlTLurbI7rTxUnhcxF6d9W76KRbd6G3DdVNj2qia/qD3KY2O90elLJocpHJc90Q7kqVLqaLlGUjYj+Pg00jD8Xk+Wnf5UAN8c8HGrvXKYi+4irnsoo09ctU29Fll2UraSyaxnTOar8DFw+w60St+cRNlzfm9E9y9CNUTZM5/7iOTWR6imOgaKf/pn6hJw/f8dDdS6u0tNhDN1ZOlGUoauTrqyQNvCd21Mjy8N/T7AixBkQrm3tRKS0tngDwrWYzobuLFwXV3WfP5uR9TGTXdvc3BRVjq18l3rbwmaS8c9QByR4m3Sb/lPVX2V/M4naDkV79GFmJDad2NaLOdpBpxsbvs+/YubgVPO5bn3h+75BahnEOU/EVb+yTL7vQeTQp04GH/twfTYaCv9ehe8XXdZ0Ic+IY94Hcik/9h0Zk35c7MdWXo737HM/y6dllPENj9zeuvq7vMMYam88fZnfU7nOHznf6/AdP+W8ffXv2q6uelDlE1N/Wx+Prb/MG8ARBVJ0eb7rz5Tf6sl5l/G9nizDnJLJudZoaNqU/hbsCPH73dhu+03aWPiZhW9/yLHf8IGvT1OtzwZJ56yG/7YvX5sSdn+yof6x5av2ebxcV1dOZ9pDVgSXys/36uLzG1s5Nvj7pKo9axm2zsueylxeT1lWlQ4rkuuzx5f3+VXPPGIhgbLnKp/rtiJdcz2lOtMpAtMZV27E/kRttyaF83dFbf3NdYwXx6sZpH0uVkZ/VslmOrspa24V1+O56u3TdmXpQdaJy36wLPm4LZVR7jyp/CLOmULtzeWZoqstuLS9rhzTmqwIe3LVia0f2OSP3c/71Ec8V0itv6JtONbOXdb3Oc5YdcTaQVFzRWg7+z6HydnHy+qPoWO+j1yq8anofifWl7ri97chNiq/z6KyM37t8333sJR/SF/3bUvd+z+8nV3KNPWfIvt3mfNZijFAZT8xfXSekLfOtl3rHCuPzxrEdT7U9UvRjn3HKV5/XTuo2i3n+E3L5L+3yN+TkH+z07ZGDlkviuXLcX3aL7b+8m+duhCzJonp/yF9wabPItZhJmJ/N8pVfvn31Fok7PeiYsalFON4bPnyuOO7Ru2G+S52fqB5DAt55bJtXf2LtJdQParCVevHlqcufduvKJuQ5yxxvA/Zw6W0l5D3+nz7a4wdieXxd+FS2SjPN7Z9XXDRp62/dMv4GTM22uwx1/iTe7zTUSfjf1Mqld36EHv2xvPoprMnGfGvIiDHk+/x+EQTP7fMOjl928f0/855OTnaJ5XeQsevVHNojO5147ePXLH681mDqOBhqef/Ivp+7PMF1Vxs02kMITLK30zp/k+FbX1RdP/w1b2OMt9hiR1bKLHfZ+XWT+4+ahqzVM8iUug81r5tfTf3+JB6DPFpk1zllLUu9523cpPLdlR6zTVP+bShGFd1lh/Td33rVdT44WqTtjqktOtc87osc8x5hM9vyLrK49v+Pvmp7De0/vyvLJvk1C3+1OOyLyG/aSSud1L/TlLq/BoZ5M2xNj66IFRlT9fcT4GqDYosQ3df/G0zlR5U4UVzjAJZPpW8NlLI5lOejzwq+eS4rnWZbsjTx7ZUrq4sXdrQPmAa82Pb0HVuyZl3rrrZ7Nal/ULzdy0zBUXrMaQcU18v6ncmxd9eM/1fkdQ24Tvu+paZ2q5S6z13+anlTyVfrv4aWz/desfFfn3WEj727rNGKHJdlqsM1VompjzT+shXv7F75dj3J3K3qY7QM7DcZ2L/Aw=="),st=new _(tt),gt=function(kt){switch(kt){case D:return X;case F:case A:case Z:return X;case q:return W;default:return kt}},dt=function(kt){switch(kt){case O:case L:return f;case j:return M;default:return kt}};class _t{constructor(yt,Ct=!1){this.position=yt,this.required=Ct}}class Pt{constructor(yt){this.string=yt,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null,this.LB8a=!1,this.LB21a=!1,this.LB30a=0}nextCodePoint(){const yt=this.string.charCodeAt(this.pos++),Ct=this.string.charCodeAt(this.pos);return 55296<=yt&&yt<=56319&&56320<=Ct&&Ct<=57343?(this.pos++,(yt-55296)*1024+(Ct-56320)+65536):yt}nextCharClass(){return gt(st.get(this.nextCodePoint()))}getSimpleBreak(){switch(this.nextClass){case j:return!1;case f:case O:case L:return this.curClass=f,!1;case g:return this.curClass=g,!1}return null}getPairTableBreak(yt){let Ct=!1;switch(rt[this.curClass][this.nextClass]){case U:Ct=!0;break;case w:Ct=yt===j;break;case T:if(Ct=yt===j,!Ct)return Ct=!1,Ct;break;case R:if(yt!==j)return Ct;break;case B:break}return this.LB8a&&(Ct=!1),this.LB21a&&(this.curClass===N||this.curClass===I)?(Ct=!1,this.LB21a=!1):this.LB21a=this.curClass===nt,this.curClass===$?(this.LB30a++,this.LB30a==2&&this.nextClass===$&&(Ct=!0,this.LB30a=0)):this.LB30a=0,this.curClass=this.nextClass,Ct}nextBreak(){if(this.curClass==null){let yt=this.nextCharClass();this.curClass=dt(yt),this.nextClass=yt,this.LB8a=yt===H,this.LB30a=0}for(;this.pos<this.string.length;){this.lastPos=this.pos;const yt=this.nextClass;if(this.nextClass=this.nextCharClass(),this.curClass===f||this.curClass===g&&this.nextClass!==O)return this.curClass=dt(gt(this.nextClass)),new _t(this.lastPos,!0);let Ct=this.getSimpleBreak();if(Ct===null&&(Ct=this.getPairTableBreak(yt)),this.LB8a=this.nextClass===H,Ct)return new _t(this.lastPos)}return this.lastPos<this.string.length?(this.lastPos=this.string.length,new _t(this.string.length)):null}}P.exports=Pt},4657:function(P,y){let v,_,u,f,g;y.DI_BRK=u=0,y.IN_BRK=f=1,y.CI_BRK=v=2,y.CP_BRK=_=3,y.PR_BRK=g=4,y.pairTable=[[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,_,g,g,g,g,g,g,g,g,g,g,g],[u,g,g,f,f,g,g,g,g,f,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,f,g,g,g,g,f,f,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[g,g,g,f,f,f,g,g,g,f,f,f,f,f,f,f,f,f,f,f,g,v,g,f,f,f,f,f,f,f,f,f,f],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,f,f,f,f,f,f,g,v,g,f,f,f,f,f,f,f,f,f,f],[u,g,g,f,f,f,g,g,g,u,u,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,u,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,u,f,u,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,u,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[f,g,g,f,f,f,g,g,g,u,u,f,f,f,f,f,f,f,u,u,g,v,g,f,f,f,f,f,u,f,f,f,u],[f,g,g,f,f,f,g,g,g,u,u,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,u,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,u,f,g,g,g,u,u,f,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,u,f,g,g,g,u,u,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,f,f,f,f,f,f,g,v,g,f,f,f,f,f,f,f,f,f,u],[u,g,g,f,f,f,g,g,g,u,u,u,u,u,u,f,f,f,u,g,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,g,u,u,u,u,u,u,u,u,u,u,u,u],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,f,f,f,f,f,f,g,v,g,f,f,f,f,f,f,f,f,f,f],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,f,f,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,f,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,f,f,f,f,u,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,f,f,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,f,u,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,u,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,f,u,u,f,u],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,f,f,u],[u,g,g,f,f,f,g,g,g,u,f,u,u,u,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[f,g,g,f,f,f,g,g,g,f,f,f,f,f,u,f,f,f,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u],[u,g,g,f,f,u,g,g,g,u,u,u,u,u,u,u,u,u,u,u,g,v,g,u,u,u,u,u,u,u,u,f,u]]}},yu={};function Xt(P){var y=yu[P];if(y!==void 0)return y.exports;var v=yu[P]={id:P,loaded:!1,exports:{}};return uv[P].call(v.exports,v,v.exports,Xt),v.loaded=!0,v.exports}(function(){Xt.n=function(P){var y=P&&P.__esModule?function(){return P.default}:function(){return P};return Xt.d(y,{a:y}),y}})(),function(){Xt.d=function(P,y){for(var v in y)Xt.o(y,v)&&!Xt.o(P,v)&&Object.defineProperty(P,v,{enumerable:!0,get:y[v]})}}(),function(){Xt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(P){if(typeof window=="object")return window}}()}(),function(){Xt.o=function(P,y){return Object.prototype.hasOwnProperty.call(P,y)}}(),function(){Xt.r=function(P){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})}}(),function(){Xt.nmd=function(P){return P.paths=[],P.children||(P.children=[]),P}}();var ha={};return function(){"use strict";Xt.r(ha);var P=Xt(5943),y=Xt.n(P),v=Xt(6729),_=Xt.n(v),u=Xt(3493),f=Xt.n(u),g;(function(t){t.EDITOR_CHANGE_SIZE="EDITOR_CHANGE_SIZE",t.EDITOR_CHANGE_FORMAT="EDITOR_CHANGE_FORMAT",t.EDITOR_COMPOSITION_START="EDITOR_COMPOSITION_START",t.EDITOR_COMPOSITION_UPDATE="EDITOR_COMPOSITION_UPDATE",t.EDITOR_COMPOSITION_END="EDITOR_COMPOSITION_END",t.EDITOR_CHANGE_SEARCH_RESULT="EDITOR_CHANGE_SEARCH_RESULT",t.EDITOR_CHANGE_HISTORY_STACK="EDITOR_CHANGE_HISTORY_STACK",t.EDITOR_CHANGE_CONTENT="EDITOR_CHANGE_CONTENT",t.CHANGE_SELECTION="CHANGE_SELECTION",t.DOCUMENT_CHANGE_SIZE="DOCUMENT_CHANGE_SIZE",t.DOCUMENT_CHANGE_CONTENT="DOCUMENT_CHANGE_CONTENT",t.DOCUMENT_CHANGE_FORMAT="DOCUMENT_CHANGE_FORMAT",t.DOCUMENT_CHANGE_SEARCH_RESULT="DOCUMENT_CHANGE_SEARCH_RESULT",t.DOCUMENT_NEED_LAYOUT="DOCUMENT_NEED_LAYOUT",t.DOCUMENT_NEED_DRAW="DOCUMENT_NEED_DRAW",t.DOCUMENT_AFTER_LAYOUT="DOCUMENT_AFTER_LAYOUT",t.DOCUMENT_AFTER_DRAW="DOCUMENT_AFTER_DRAW",t.DOCUMENT_AFTER_IDLE_LAYOUT="DOCUMENT_AFTER_IDLE_LAYOUT",t.DOCUMENT_LAYOUT_FINISH="DOCUMENT_LAYOUT_FINISH",t.SEARCH_NEED_DRAW="SEARCH_NEED_DRAW",t.SEARCH_RESULT_CHANGE="SEARCH_RESULT_CHANGE",t.HISTORY_STACK_CHANGE="HISTORY_STACK_CHANGE"})(g||(g={}));var O=Xt(3076),L=Xt.n(O),A;(function(t){t[t.ol1=0]="ol1",t[t.ol2=1]="ol2",t[t.ol3=2]="ol3",t[t.ul1=3]="ul1",t[t.ul2=4]="ul2",t[t.ul3=5]="ul3"})(A||(A={}));var M=Xt(9175),j=Xt.n(M);const H=t=>{if(t.ops.length===1){if(typeof t.ops[0].retain=="number")return{index:t.ops[0].retain,inner:null};{const e=H(t.ops[0].retain);return e!==null?{index:0,inner:e}:null}}else if(t.ops.length===2){const e=t.ops[0].retain,n=typeof t.ops[1].retain=="object"?H(t.ops[1].retain):null;return typeof e=="number"&&n!==null?{index:e,inner:n}:null}else return null},I=t=>{const e={ops:[]};return t.index>0&&e.ops.push({retain:t.index}),t.inner!==null&&e.ops.push({retain:I(t.inner)}),e.ops.length>0?e:null},N=(t,e)=>t.inner===null?{index:t.index+e,inner:null}:{index:t.index,inner:N(t.inner,e)};function W(t){return t!==null?{index:t.index,inner:t.inner===null?null:W(t.inner)}:null}const D=(t,e)=>{if(e.index>=t){const{inner:n}=e,r=W(n);return{index:e.index-t,inner:r}}else return{index:0,inner:null}},X=(t,e)=>t.index>e.index?1:t.index<e.index||t.inner===null&&e.inner!==null?-1:t.inner!==null&&e.inner===null?1:t.inner!==null&&e.inner!==null?X(t.inner,e.inner):0,q=(t,e)=>t.inner===null?{index:t.index+e,inner:null}:{index:t.index,inner:q(t.inner,e)},nt=(t,e)=>{const n=W(t);let r=0;const s=j().iterator(e.ops);for(;s.hasNext();)if(s.peekType()==="insert"){const o=s.peekLength();n.index+=o,r+=o,s.next()}else if(s.peekType()==="delete"){const o=s.peekLength();if(o>n.index-r)return n.index=r,n.inner=null,n;n.index-=o,s.next()}else{const o=s.peekLength(),l=s.next();if(o===1&&l.retain instanceof y()&&r===n.index&&n.inner!==null)return{index:n.index,inner:nt(n.inner,l.retain)};if(o>n.index-r)return n;r+=o}return n},$=(()=>{let t=0;return()=>t++})(),F=t=>{const e=t.charCodeAt(0);return 19968<=e&&e<=40869||40870<=e&&e<=40943||13312<=e&&e<=19893||131072<=e&&e<=173782||173824<=e&&e<=177972||177984<=e&&e<=178205||178208<=e&&e<=183969||183984<=e&&e<=191456||12032<=e&&e<=12245||11904<=e&&e<=12019||63744<=e&&e<=64217||194560<=e&&e<=195101||59413<=e&&e<=59503||58368<=e&&e<=58856||58880<=e&&e<=59087||12736<=e&&e<=12771||12272<=e&&e<=12283||12549<=e&&e<=12591||12704<=e&&e<=12730||65281<=e&&e<=65374||12295<=e&&e<=12305||e===8211||e===8212||e===8230||e===12288||e===12289||e===12290||e===12308||e===12309},Z=t=>{switch(t){case"decimal":return A.ol1;case"ckj-decimal":return A.ol2;case"upper-decimal":return A.ol3;case"circle":return A.ul1;case"ring":return A.ul2;case"arrow":return A.ul3;default:throw new Error("unknown list type")}},U=(t,e=!1)=>{const n=e?64:96;let r="",s=t;for(;s>0;){let o=s%26;o===0&&(o=26),r=String.fromCharCode(o+n)+r,s=(s-o)/26}return r},w=(()=>{const t=["\u96F6","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D"],e=["","\u4E07","\u4EBF","\u4E07\u4EBF","\u4EBF\u4EBF"],n=["","\u5341","\u767E","\u5343"],r=s=>{let o="",l="",c=0,d=!0,m=s;for(;m>0;){const S=m%10;S===0?d||(d=!0,l=t[S]+l):(d=!1,o=t[S],o=o+n[c],l=o+l),c++,m=Math.floor(m/10)}return l};return s=>{let o=0,l="",c="",d=!1;if(s===0)return t[0];let m=s;for(;m>0;){const S=m%1e4;d&&(c=t[0]+c),l=r(S),l+=S!==0?e[o]:e[0],c=l+c,d=S<1e3&&S>0,m=Math.floor(m/1e4),o++}return c}})(),T=(()=>{const t=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],e=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],n=["m","cm","d","cd","c","xc","l","xl","x","ix","v","iv","i"];return(r,s=!1)=>{const o=s?e:n;let l="",c=r;for(let d=0;d<t.length;d++)for(;c>=t[d];)l+=o[d],c-=t[d];return l}})(),R=(t,e)=>{const n=e+1;switch(t%3){case 0:return`${n}.`;case 1:return`${U(n)}.`;case 2:return`${T(n)}.`;default:return""}},B=(t,e)=>{if(t===0)return`${w(e+1)}\u3001`;switch(t%3){case 1:return`${U(e+1)})`;case 2:return`${T(e+1)}.`;case 0:return`${e+1}.`;default:return""}},rt=(t,e)=>`${e+(t+1)}.`,tt=t=>{if(t===0)return"\u2022";switch(t%3){case 1:return"\u25E6";case 2:return"\u25AA";case 0:return"\u25AB";default:return""}},st=t=>{if(t===0)return"\u2192";switch(t%3){case 1:return"\u25B4";case 2:return"\u25AA";case 0:return"\u2022";default:return""}},gt=(t,e,n,r)=>{switch(t){case A.ol1:return R(e,n);case A.ol2:return B(e,n);case A.ol3:return rt(n,r);case A.ul1:return tt(e);case A.ul2:return"\u29BF";case A.ul3:return st(e)}};var dt;(function(t){t[t.both=3]="both",t[t.leftFirst=5]="leftFirst",t[t.rightFirst=6]="rightFirst"})(dt||(dt={}));const _t=(t,e,n,r)=>r-n===0?t<=n&&n<=e||t<=r&&r<=e||n<t&&e<=r:t<=n&&n<e||t<r&&r<=e||n<=t&&e<=r,Pt=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r++){const s=n[r];e[s]===void 0&&(e[s]=new Set),t[s]instanceof Set?t[s].forEach(l=>{e[s].add(l)}):e[s].add(t[s])}},kt=(t,e,n,r=3)=>{let s=0,o=t.length-1,l=Math.floor((s+o)/2);for(;o>s+1;){const d=t[l].start;if(d<e)s=l;else if(d>e)o=l;else if(d===e)break;l=Math.floor((s+o)/2)}for(t[o].start<=e&&(l=o);l>=0&&!(t[l].start<=e);l--);l=Math.max(l,0);const c=[];if(n>0)for(c.push(t[l]),l++;l<t.length&&t[l].start<e+n;l++)c.push(t[l]);else if(t[l].start===e&&l>0&&c.push(t[l-1]),c.push(t[l]),r!==3&&c.length>1){const d=r===6?0:1;c.splice(d,1)}return c},yt=t=>{var e,n;const r={};typeof t.background=="string"&&(r["background-color"]=t.background),typeof t.color=="string"&&(r.color=t.color),t.strike&&(r["text-decoration"]=`${(e=r["text-decoration"])!=null?e:""} line-through`),t.underline&&(r["text-decoration"]=`${(n=r["text-decoration"])!=null?n:""} underline`),typeof t.font=="string"&&(r["font-family"]=t.font),typeof t.size=="number"&&(r["font-size"]=`${t.size}pt`),t.bold&&(r["font-weight"]="bold"),t.italic&&(r["font-style"]="italic"),typeof t.width=="number"&&(r.width=t.width),typeof t.height=="number"&&(r.height=t.height);let s="";const o=Object.keys(r);for(let l=0;l<o.length;l++)s+=`${o[l]}:${r[o[l]]};`;return s},Ct=(t,e,n=!1)=>{const r=t.length;if(r===0)return[];let s=0;const o=[];let l=e,c=t;n||(l=e.toLowerCase(),c=t.toLowerCase());let d=l.indexOf(c,s);for(;d>-1;)o.push(d),s=d+r,d=l.indexOf(c,s);return o},jt=(t,e,n)=>n.x<=t&&t<=n.x+n.width&&n.y<=e&&e<=n.y+n.height,Zt=(t,e,n,r=!0)=>{let s;const o={x:0,y:0,width:0,height:0};if(r?(o.y=e,s=L().le(n,o,(l,c)=>l.y-c.y)):(o.x=t,s=L().le(n,o,(l,c)=>l.x-c.x)),s>=0){const l=n[s];return r?l.x<=t&&l.x+l.width>=t&&l.y+l.height>=e?l:null:l.y<=e&&l.y+l.height>=e&&l.x+l.width>=t?l:null}else return null},qt=(t,e,n=!0)=>{const r={x:0,y:0,width:0,height:0};if(r.y=t,n){const s=L().le(e,r,(o,l)=>o.y-l.y);return s>=0?e[s]:null}else{let s=null;if(e.length===0||e[0].y>r.y)return s;for(let o=0;o<e.length&&e[o].y<=r.y;o++)s=e[o];return s}},vt=(t,e,n=!0)=>{const r=Rt(t,e,n);return r>=0?e[r]:null},Rt=(t,e,n=!0)=>{const r={start:0};if(r.start=t,n){const s=L().le(e,r,(o,l)=>o.start-l.start);return s>=0?s:-1}else{let s=-1;if(e.length===0||e[0].start>r.start)return s;for(let o=0;o<e.length&&e[o].start<=r.start;o++)s=o;return s}},Ht=(t,e)=>(Math.floor(t)*2+e)/2,Ut=(t,e,n="right")=>{var r;const s={};if(e)for(let o=0;o<e.length;o++){const l=e[o];if(X(l.start,l.end)===0){let c=vt(l.start.index,t.children,!0);(c==null?void 0:c.start)===l.start.index&&l.start.inner===null&&n==="left"&&c.prevSibling!==null&&(c=c.prevSibling),c&&Pt(c.getFormat({start:D(c.start,l.start),end:D(c.start,l.end)}),s)}else{const c=vt(l.start.index,t.children,!0);let d=vt(l.end.index,t.children,!0);if(!c||!d)continue;if(l.end.index===d.start&&l.end.inner===null&&(d=(r=d.prevSibling)!=null?r:d),c===d)Pt(c.getFormat({start:D(c.start,l.start),end:D(c.start,l.end)}),s);else{let m=d;for(;m&&(Pt(m===d||m===c?m.getFormat({start:D(m.start,l.start),end:D(m.start,l.end)}):m.getFormat(),s),m!==c);)m=m.prevSibling}}}else for(let o=0;o<t.children.length;o++)Pt(t.children[o].getFormat(),s);return s},ue=(t,e,n)=>{let r=null,s=null;if(n){const o=vt(n.start.index,t.children,!0);let l=vt(n.end.index,t.children,!0);if(!o||!l)return null;if(o!==l&&l.prevSibling&&l.start===n.end.index&&n.end.inner===null&&(l=l.prevSibling),r=o.prevSibling||t.head,s=l.nextSibling||t.tail,o===l)o.format(e,{start:D(o.start,n.start),end:D(l.start,n.end)});else{let c=l;for(;c;){if(c===o){c.start===n.start.index&&n.start.inner===null?c.format(e):c.format(e,{start:{index:n.start.index-c.start,inner:n.start.inner},end:{index:c.start+c.length,inner:null}});break}else c===l?c.start+c.length===n.end.index&&n.end.inner===null?c.format(e):c.format(e,{start:{index:0,inner:null},end:{index:n.end.index-c.start,inner:n.end.inner}}):c.format(e);c=c.prevSibling}}}else{r=t.head,s=t.tail;for(let o=0;o<t.children.length;o++)t.children[o].format(e)}return r&&s?{start:r,end:s}:null},ne=(t,e)=>{let n=null,r=null;if(e){const s=vt(e.start.index,t.children,!0),o=vt(e.end.index,t.children,!0);if(!s||!o)return null;if(n=s.prevSibling||t.head,r=o.nextSibling||t.tail,s===o)s.clearFormat({start:D(s.start,e.start),end:D(o.start,e.end)});else{let l=o;for(;l;){if(l===s){l.start===e.start.index&&e.start.inner===null?l.clearFormat():l.clearFormat({start:{index:e.start.index-l.start,inner:e.start.inner},end:{index:l.start+l.length,inner:null}});break}else l===o?l.start+l.length===e.end.index&&e.end.inner===null?l.clearFormat():l.clearFormat({start:{index:0,inner:null},end:{index:e.end.index-l.start,inner:e.end.inner}}):l.clearFormat();l=l.prevSibling}}}else{n=t.head,r=t.tail;for(let s=0;s<t.children.length;s++)t.children[s].clearFormat()}return n&&r?{start:n,end:r}:null},Se=(t,e,n)=>{const r=e.start,s=e.end;if(X(r,s)===0){const o=vt(r.index,t.children,!0);if(!o)return;if(n){let l=null;if(o.start<r.index)l=o;else if(o.prevSibling)l=o.prevSibling;else return;if(r.inner===null&&l.length===1)t.remove(l);else{const c=D(l.start,e.start);l.delete({start:c,end:c},!0)}}else if(o.length===1)t.remove(o);else{const l=D(o.start,e.start);o.delete({start:l,end:l},!1)}}else{const o=vt(r.index,t.children,!0),l=vt(s.index,t.children,!0);if(!o||!l)return;if(o===l)o.start===r.index&&r.inner===null&&o.start+o.length===s.index&&s.inner===null?t.remove(o):o.delete({start:D(o.start,e.start),end:D(o.start,e.end)},n);else{let c=l;for(;c;){const d=c.prevSibling;if(c===o){c.start===r.index&&r.inner===null?t.remove(c):c.delete({start:D(c.start,e.start),end:{index:c.start+c.length,inner:null}},n);break}else c===l?c.start+c.length===s.index&&s.inner===null?t.remove(c):c.delete({start:{index:0,inner:null},end:D(c.start,e.end)},n):t.remove(c);c=d}}}},Me=(t,e)=>{if(e){const n=vt(e.start.index,t.children,!0);let r=vt(e.end.index,t.children,!0);if(!n||!r)return"";if(n!==r&&r.prevSibling&&r.start===e.end.index&&e.end.inner===null&&(r=r.prevSibling),n===r)return n.toHtml({start:D(n.start,e.start),end:D(r.start,e.end)});{let s="",o=n;for(;o;){if(o===n){o.start===e.start.index&&e.start.inner===null?s+=o.toHtml():s+=o.toHtml({start:{index:e.start.index-o.start,inner:e.start.inner},end:{index:o.start+o.length,inner:null}});break}else o===r?o.start+o.length===e.end.index&&e.end.inner===null?s+=o.toHtml():s+=o.toHtml({start:{index:0,inner:null},end:{index:e.end.index-o.start,inner:e.end.inner}}):s+=o.toHtml();o=o.nextSibling}return s}}else return t.children.map(n=>n.toHtml()).join("")},Zn=(t,e)=>{if(e){const n=vt(e.start.index,t.children,!0);let r=vt(e.end.index,t.children,!0);if(!n||!r)return"";if(n!==r&&r.prevSibling&&r.start===e.end.index&&e.end.inner===null&&(r=r.prevSibling),n===r)return n.toText({start:D(n.start,e.start),end:D(r.start,e.end)});{let s="",o=n;for(;o;){if(o===n){o.start===e.start.index&&e.start.inner===null?s+=o.toText():s+=o.toText({start:{index:e.start.index-o.start,inner:e.start.inner},end:{index:o.start+o.length,inner:null}});break}else o===r?o.start+o.length===e.end.index&&e.end.inner===null?s+=o.toText():s+=o.toText({start:{index:0,inner:null},end:{index:e.end.index-o.start,inner:e.end.inner}}):s+=o.toText();o=o.nextSibling}return s}}else return t.children.map(n=>n.toText()).join("")},ci=(t,e,n)=>{const r=[];r.push([e]);const s=vt(t.start.index,n,!0),o=vt(t.end.index,n,!0);if(s&&o)if(s===o)r.push(...s.getSelectedElement({start:D(s.start,t.start),end:D(s.start,t.end)}));else{const l=[];let c=s;for(;c;)l.push(c),c=c.nextSibling;r.push([l])}return r};var hi=Xt(3880),Nn=Xt.n(hi);function Jn(t){return class extends t{constructor(){super(...arguments);this.children=[],this.head=null,this.tail=null}addLast(e){this.beforeAdd&&this.beforeAdd([e],this.children.length,this.tail,null,this.children),this.tail===null?this.head=e:this.tail.nextSibling=e,e.prevSibling=this.tail,this.tail=e,this.children.push(e),this.afterAdd&&this.afterAdd([e],this.children.length-1,this.tail,null,this.children)}addAfter(e,n){const r=this.findIndex(n);if(r>-1)this.beforeAdd&&this.beforeAdd([e],r+1,n,n.nextSibling,this.children),this.children.splice(r+1,0,e),n.nextSibling!==null?(n.nextSibling.prevSibling=e,e.nextSibling=n.nextSibling):this.tail=e,e.prevSibling=n,n.nextSibling=e,this.afterAdd&&this.afterAdd([e],r+1,n,n.nextSibling,this.children);else throw new Error("target not exist in this list")}addBefore(e,n){const r=this.findIndex(n);if(r>-1)this.beforeAdd&&this.beforeAdd([e],r,n.prevSibling,n,this.children),this.children.splice(r,0,e),n.prevSibling!==null?(n.prevSibling.nextSibling=e,e.prevSibling=n.prevSibling):this.head=e,e.nextSibling=n,n.prevSibling=e,this.afterAdd&&this.afterAdd([e],r,e.prevSibling,n,this.children);else throw new Error("target not exist in this list")}addAtIndex(e,n){if(n>this.children.length||n<0)throw new Error("invalid insert position");if(this.children.length===n)this.beforeAdd&&this.beforeAdd([e],n,this.tail,null,this.children),this.tail===null?this.head=e:this.tail.nextSibling=e,e.prevSibling=this.tail,this.tail=e,this.children.push(e);else{const r=this.children[n];this.beforeAdd&&this.beforeAdd([e],n,r.prevSibling,r,this.children),this.children.splice(n,0,e),r.prevSibling!==null?(r.prevSibling.nextSibling=e,e.prevSibling=r.prevSibling):this.head=e,e.nextSibling=r,r.prevSibling=e}this.afterAdd&&this.afterAdd([e],n,e.prevSibling,e.nextSibling,this.children)}addAll(e){if(e.length!==0){this.beforeAdd&&this.beforeAdd(e,this.children.length,this.tail,null,this.children);for(let n=0,r=e.length;n<r;n++){const s=e[n];n>0&&(s.prevSibling=e[n-1],e[n-1].nextSibling=s)}if(this.children.length>0){const n=this.children[this.children.length-1];n.nextSibling=e[0],e[0].prevSibling=n}else this.head=e[0];if(this.tail=e[e.length-1],e.length<=65535)this.children.push(...e);else{let n=0;for(;n<e.length;)this.children.push(...e.slice(n,n+65535)),n+=65535}this.afterAdd&&this.afterAdd(e,this.children.length,e[0].prevSibling,null,this.children)}}removeAll(){this.beforeRemove&&this.beforeRemove(this.children,0,null,null,this.children);for(let n=this.children.length-1;n>=0;n--)this.children[n].destroy(),this.children[n].prevSibling=null,this.children[n].nextSibling=null;this.head=null,this.tail=null;const e=[...this.children];return this.children.length=0,this.afterRemove&&this.afterRemove(e,0,null,null,e),e}remove(e){const n=this.findIndex(e);if(n>-1){const r=e.prevSibling,s=e.nextSibling;this.beforeRemove&&this.beforeRemove([e],n,r,s,this.children),this.children.splice(n,1),e===this.tail&&(this.tail=e.prevSibling),e===this.head&&(this.head=e.nextSibling),e.nextSibling!==null&&(e.nextSibling.prevSibling=e.prevSibling),e.prevSibling!==null&&(e.prevSibling.nextSibling=e.nextSibling),e.nextSibling=null,e.prevSibling=null,this.afterRemove&&this.afterRemove([e],n,r,s,this.children)}else throw new Error("can not remove node which is not in children list")}removeAllFrom(e){const n=this.findIndex(e);if(n>-1){const r=e.prevSibling;this.beforeRemove&&this.beforeRemove(this.children.slice(n),n,r,null,this.children);const s=this.children.splice(n);if(e===this.head?(this.head=null,this.tail=null):(this.tail=e.prevSibling,this.tail.nextSibling=null,e.prevSibling=null),s.length>0)for(let o=0;o<s.length;o++){const l=s[o];l.nextSibling=null,l.prevSibling=null}return this.afterRemove&&this.afterRemove(s,n,r,null,this.children),s}else throw new Error("can not remove node which is not in children list")}splice(e,n,r=[]){var s,o,l,c,d,m,S,C,z,V,ot,ft,pt,wt,Ot,Vt;const Qt=n>0?this.children.slice(e,e+n):[];if(n>0&&this.beforeRemove&&this.beforeRemove(Qt,e,(o=(s=this.children[e])==null?void 0:s.prevSibling)!=null?o:null,(c=(l=this.children[e+n-1])==null?void 0:l.nextSibling)!=null?c:null,this.children),r.length>0&&this.beforeAdd&&this.beforeAdd(r,e,(m=(d=this.children[e])==null?void 0:d.prevSibling)!=null?m:null,(C=(S=this.children[e+n-1])==null?void 0:S.nextSibling)!=null?C:null,this.children),n>0)for(let At=0;At<Qt.length;At++){const $t=Qt[At];At===0&&$t.prevSibling!==null&&($t.prevSibling.nextSibling=null),At===Qt.length-1&&$t.nextSibling!==null&&($t.nextSibling.prevSibling=null),$t.nextSibling=null,$t.prevSibling=null}if(r.length>0){for(let At=0;At<r.length-1;At++){const $t=r[At],Nr=r[At+1];$t.nextSibling=Nr,Nr.prevSibling=$t}r[0].prevSibling=null,r[r.length-1].nextSibling=null}const se=Math.min(e,this.children.length-1);if(this.children.splice(se,n,...r),r.length>0&&(se>0&&(this.children[se-1].nextSibling=r[0],r[0].prevSibling=this.children[se-1]),se+r.length<this.children.length)){const At=se+r.length-1;this.children[At].nextSibling=this.children[At+1],this.children[At+1].prevSibling=this.children[At]}return this.children.length>0?(this.head=this.children[0],this.tail=this.children[this.children.length-1]):(this.head=null,this.tail=null),n>0&&this.afterRemove&&this.afterRemove(Qt,e,(V=(z=this.children[e])==null?void 0:z.prevSibling)!=null?V:null,(ft=(ot=this.children[e+n-1])==null?void 0:ot.nextSibling)!=null?ft:null,this.children),r.length>0&&this.afterAdd&&this.afterAdd(r,e,(wt=(pt=this.children[e])==null?void 0:pt.prevSibling)!=null?wt:null,(Vt=(Ot=this.children[e+n-1])==null?void 0:Ot.nextSibling)!=null?Vt:null,this.children),Qt}findIndex(e){let n=-1;for(let r=this.children.length-1;r>=0;r--)this.children[r]===e&&(n=r);return n}}}var Bn;(function(t){t.Default="default",t.Help="help",t.Pointer="pointer",t.Wait="wait",t.Text="text",t.ColResize="col-resize",t.RowResize="row-resize"})(Bn||(Bn={}));function Oe(t){return class extends t{constructor(){super(...arguments);this.bubbleHandler=null}bubbleUp(e,n,r){if(typeof this.bubbleHandler=="function"){let s;Array.isArray(r)?r.push(this):s=[this],this.bubbleHandler(e,n,s!=null?s:r)}}setBubbleHandler(e){typeof e=="function"?this.bubbleHandler=e:this.bubbleHandler=null}}}function Hr(t){return class extends t{constructor(){super(...arguments);this.currentHoverElement=null}onPointerEnter(e,n,r,s){if(this.currentHoverElement)console.trace("strange");else{const o=r[s+1];o&&(o.onPointerEnter(e-o.x,n-o.y,r,s+1),this.currentHoverElement=o)}}onPointerLeave(){this.currentHoverElement&&(this.currentHoverElement.onPointerLeave(),this.currentHoverElement=null)}onPointerMove(e,n,r,s){if(this.currentHoverElement)if(this.currentHoverElement===r[s+1]){this.currentHoverElement.onPointerMove(e-this.currentHoverElement.x,n-this.currentHoverElement.y,r,s+1);return}else this.currentHoverElement.onPointerLeave(),this.currentHoverElement=null;const o=r[s+1];o&&(o.onPointerEnter(e-o.x,n-o.y,r,s+1),this.currentHoverElement=o)}onPointerDown(e,n){this.currentHoverElement&&this.currentHoverElement.onPointerDown(e-this.currentHoverElement.x,n-this.currentHoverElement.y)}onPointerUp(e,n){this.currentHoverElement&&this.currentHoverElement.onPointerUp(e-this.currentHoverElement.x,n-this.currentHoverElement.y)}onPointerTap(e,n){this.currentHoverElement&&this.currentHoverElement.onPointerTap(e-this.currentHoverElement.x,n-this.currentHoverElement.y)}}}var fi=Xt(6486);function $r(t){return class extends t{firstPos(){if(!this.head)throw new Error("layout frame should not be empty while getting firstPos");return{index:0,inner:null}}lastPos(){if(!this.tail)throw new Error("layout frame should not be empty while getting lastPos");const e=this.tail.lastPos();return{index:e.index+this.tail.start,inner:e.inner}}nextPos(e){const n=vt(e.index,this.children);let r=null;return n&&(r=n.nextPos(D(n.start,e)),r?r={index:r.index+n.start,inner:r.inner}:n.nextSibling&&(r=n.nextSibling.firstPos(),r={index:r.index+n.nextSibling.start,inner:r.inner})),r}prevPos(e){const n=vt(e.index,this.children);let r=null;return n&&(r=n.prevPos(D(n.start,e)),r?r={index:r.index+n.start,inner:r.inner}:n.prevSibling&&(r=n.prevSibling.lastPos(),r={index:r.index+n.prevSibling.start,inner:r.inner})),r}}}function Cn(t){return class extends t{firstLinePos(e){var n,r;return(r=(n=this.head)==null?void 0:n.firstLinePos(e))!=null?r:null}lastLinePos(e){const n=this.children[this.children.length-1],r=n.lastLinePos(e);return r?{index:r.index+n.start,inner:r.inner}:null}nextLinePos(e,n){const r=vt(e.index,this.children);let s=null;return r&&(s=r.nextLinePos(D(r.start,e),n-r.x),s?s={index:s.index+r.start,inner:s.inner}:r.nextSibling&&(s=r.nextSibling.firstLinePos(n),s&&(s={index:s.index+r.nextSibling.start,inner:s.inner}))),s}prevLinePos(e,n){const r=vt(e.index,this.children);let s=null;return r&&(s=r.prevLinePos(D(r.start,e),n-r.x),s?s={index:s.index+r.start,inner:s.inner}:r.prevSibling&&(s=r.prevSibling.lastLinePos(n),s&&(s={index:s.index+r.prevSibling.start,inner:s.inner}))),s}lineStartPos(e,n){const r=vt(e.index,this.children);let s=null;return r&&(s=r.lineStartPos(D(r.start,e),n-r.y),s&&(s={index:s.index+r.start,inner:s.inner})),s}lineEndPos(e,n){const r=vt(e.index,this.children);let s=null;return r&&(s=r.lineEndPos(D(r.start,e),n-r.y),s&&(s={index:s.index+r.start,inner:s.inner})),s}}}var Te;(function(t){t.OPEN_LINK="OPEN_LINK",t.LINE_CHANGE_SIZE="LINE_CHANGE_SIZE",t.NEED_DRAW="NEED_DRAW",t.NEED_LAYOUT="NEED_LAYOUT",t.CONTENT_CHANGE="CONTENT_CHANGE",t.NEED_LAYOUT_LISTITEM="NEED_LAYOUT_LISTITEM",t.UPDATE_CONTENT_HEIGHT="UPDATE_CONTENT_HEIGHT",t.UPDATE_CONTENT_LENGTH="UPDATE_CONTENT_LENGTH"})(Te||(Te={}));function di(t){return class extends t{getSelectedElement(e){return ci(e,this,this.children)}}}const qi=new Map,$e=(t,e)=>{if(qi.has(t))throw new Error(`can not bind twice: ${t}`);qi.set(t,e)},xu=t=>{if(!qi.has(t))throw new Error(`can not find constructor: ${t}`);return qi.get(t)},we=(t,...e)=>{const n=qi.get(t);if(n)return new n(...e);throw new Error(`can not find constructor: ${t}`)},Ur=new Map,pi=(t,e)=>{Ur.set(t,e)},Hs=t=>{const e=t.typeName,n=Ur.get(e);if(n)return we(n,t);throw new Error(`can not find run constructor: ${t}`)};let $s=new(y())([{insert:1,attributes:{frag:"end",block:"para"}}]);const fa=()=>$s,wu=t=>{$s=t};var Us=Object.defineProperty,da=Object.getOwnPropertyDescriptor,Ws=Object.getOwnPropertySymbols,pa=Object.prototype.hasOwnProperty,Ef=Object.prototype.propertyIsEnumerable,Su=(t,e,n)=>e in t?Us(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_u=(t,e)=>{for(var n in e||(e={}))pa.call(e,n)&&Su(t,n,e[n]);if(Ws)for(var n of Ws(e))Ef.call(e,n)&&Su(t,n,e[n]);return t},Au=(t,e,n,r)=>{for(var s=r>1?void 0:r?da(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Us(e,n,s),s};function Eu(t){return class extends t{bubbleUp(e,n,r){e===Te.UPDATE_CONTENT_HEIGHT?this.tail?this.setContentHeight(this.tail.y+this.tail.height):this.setContentHeight(0):e===Te.UPDATE_CONTENT_LENGTH?this.tail?this.length=this.tail.start+this.tail.length:this.length=0:super.bubbleUp(e,n,r)}}}let gi=class{constructor(){this.id=$(),this.head=null,this.tail=null,this.needLayout=!0,this.em=new(_()),this.x=0,this.y=0,this.width=0,this.height=0,this.contentHeight=0,this.paddingTop=0,this.paddingBottom=0,this.paddingLeft=0,this.paddingRight=0,this.length=0,this.children=[]}static createDefaultEmptyDocContent(){const t=new gi;return t.readFromChanges(fa()),t}readFromChanges(t){this.clear();const e=this.readDeltaToBlocks(t);this.addAll(e),this.head!==null&&this.head.setStart(0,!0,!0)}clear(){for(let t=0,e=this.children.length;t<e;t++)this.children[t].destroy();this.removeAll()}draw(t,e,n,r){for(let s=0;s<this.children.length;s++){const o=this.children[s];o.y+n+o.height>0&&o.y<r&&o.draw(t,this.x+e,this.y+n,r-o.y)}}getLength(){return this.children.reduce((t,e)=>t+e.length,0)}destroy(){console.log("todo destroy document")}setHeight(t){const e=Math.ceil(t);e>=this.contentHeight&&e!==this.height&&(this.height=e)}setContentHeight(t){const e=Math.ceil(t);this.contentHeight!==e&&(this.contentHeight=e+this.paddingBottom,this.setHeight(e+this.paddingBottom))}setWidth(t){if(t!==this.width){this.width=t;for(let e=0;e<this.children.length;e++){const n=this.children[e];n.needLayout=!0}}}getChildrenStackByPos(t,e){const n=Zt(t,e,this.children);let r;return n?(r=n.getChildrenStackByPos(t-n.x,e-n.y),r.unshift(this)):r=[this],r}toDelta(t=!1){const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];e.push(...r.toOp(t))}return new(y())(e)}toHtml(t){return Me(this,t)}search(t){const e=[];for(let n=0;n<this.children.length;n++){const s=this.children[n].search(t);s.length>0&&e.push(...s)}return e}replace(t,e,n){let r=new(y());for(let s=t.length-1;s>=0;s--){const o=t[s],l=vt(o.pos.index,this.children,!0);if(l===null)continue;const c=l.start>0?{retain:l.start}:null,d=l.toOp(!0);l.delete({start:D(l.start,o.pos),end:D(l.start,q(o.pos,e))},!1);const m=W(o.pos);l.insertText(n,{index:m.index-l.start,inner:m.inner});const S=l.toOp(!0),C=c?new(y())([c]):new(y()),z=new(y())(d).diff(new(y())(S)),V=C.concat(z);r=r.compose(V)}return this.em.emit(g.DOCUMENT_CHANGE_CONTENT),r}format(t,e){const n=(0,fi.isArray)(e)?e:e?[e]:[{start:{index:0,inner:null},end:{index:this.length,inner:null}}];let r=new(y());for(let s=0;s<n.length;s++){let o=new(y());const l=n[s],c=vt(l.start.index,this.children,!0);let d=vt(l.end.index,this.children,!0);if(!c||!d)continue;d.start===l.end.index&&l.end.inner===null&&d.start!==0&&(d=d.prevSibling);const m=this.getOpFromLinkedBlocks(c,d);if(c===d)c.format(t,{start:D(c.start,l.start),end:D(d.start,l.end)});else{let z=d;for(;z;){const V=z.prevSibling;if(z===c){z.start===l.start.index&&l.start.inner===null?z.format(t):z.format(t,{start:D(c.start,l.start),end:{index:z.length,inner:null}});break}else z===d?z.start+z.length===l.end.index&&l.end.inner===null?z.format(t):z.format(t,{start:{index:0,inner:null},end:D(d.start,l.end)}):z.format(t);z=V}}const S=this.getOpFromLinkedBlocks(c,d),C=new(y())(m).diff(new(y())(S));c.start>0&&o.retain(c.start),o=o.concat(C),r=r.compose(o)}return this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0,r}clearFormat(t){const e=(0,fi.isArray)(t)?t:t?[t]:[{start:{index:0,inner:null},end:{index:this.length,inner:null}}];let n=new(y());for(let r=0;r<e.length;r++){let s=new(y());const o=e[r],l=vt(o.start.index,this.children,!0);let c=vt(o.end.index,this.children,!0);if(!l||!c)continue;c.start===o.end.index&&o.end.inner===null&&(c=c.prevSibling);const d=this.getOpFromLinkedBlocks(l,c);if(l===c)l.clearFormat({start:D(l.start,o.start),end:D(c.start,o.end)});else{let C=c;for(;C;){const z=C.prevSibling;if(C===l){C.start===o.start.index&&o.start.inner===null?C.clearFormat():C.clearFormat({start:o.start,end:{index:C.start+C.length,inner:null}});break}else C===c?C.start+C.length===o.end.index&&o.end.inner===null?C.clearFormat():C.clearFormat({start:{index:C.start,inner:null},end:o.end}):C.clearFormat();C=z}}const m=this.getOpFromLinkedBlocks(l,c),S=new(y())(d).diff(new(y())(m));l.start>0&&s.retain(l.start),s=s.concat(S),n=n.compose(s)}return this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0,n}getFormat(t){return(0,fi.isArray)(t)?Ut(this,t):t===void 0?Ut(this):Ut(this,[t])}delete(t,e=!0){var n,r;let s=new(y());for(let o=0;o<t.length;o++){const l=t[o];if(X(l.start,l.end)===0){if(l.start.index===0&&e)continue;const c=vt(l.start.index,this.children,!0);if(!c)continue;const d=e&&c.start===l.start.index&&l.start.inner===null?c.prevSibling:c,m=c;if(d===null||m===null)continue;const S=(d==null?void 0:d.start)||0,C=this.getOpFromLinkedBlocks(d,m);if(e)if(c.start<l.start.index||l.start.inner!==null)c.delete({start:D(c.start,l.start),end:D(c.start,l.end)},!0);else if(c.prevSibling)c.prevSibling.delete({start:D(c.prevSibling.start,l.start),end:D(c.prevSibling.start,l.end)},!0);else continue;else c.delete({start:D(c.start,l.start),end:D(c.start,l.end)},!1);this.tryEat(d,m);const z=this.getOpFromLinkedBlocks(d,m),V=new(y())(C).diff(new(y())(z));s=s.compose(new(y())().retain(S).concat(V))}else{const c=vt(l.start.index,this.children,!0),d=vt(l.end.index,this.children,!0);if(!c||!d)continue;const m=c.start===l.start.index&&l.start.inner===null?c.prevSibling:c,S=d.nextSibling,C=(m==null?void 0:m.start)||0;let z=m===c;const V=this.getOpFromLinkedBlocks(m,S);if(c===d)c.start===l.start.index&&l.start.inner===null&&c.start+c.length===l.end.index&&l.end.inner===null?this.remove(c):c.delete({start:D(c.start,l.start),end:D(c.start,l.end)},e),z=!0;else{let pt=d,wt=null;for(;pt;){const Ot=pt.prevSibling;if(pt===c){pt.start===l.start.index&&l.start.inner===null?this.remove(pt):pt.delete({start:D(pt.start,l.start),end:D(pt.start,{index:pt.start+pt.length,inner:null})},e);break}else pt===d?pt.start+pt.length===l.end.index&&l.end.inner===null?(this.remove(pt),wt=S):l.end.index===pt.start&&l.end.inner===null?wt=pt:(pt.delete({start:{index:0,inner:null},end:D(pt.start,l.end)},e),wt=d):this.remove(pt);pt=Ot}z&&c.eat(wt)&&this.remove(wt)}const ot=this.getOpFromLinkedBlocks(m,S),ft=new(y())(V).diff(new(y())(ot));s=s.compose(new(y())().retain(C).concat(ft)),m?(m.setStart(m.start,!0,!0),m.setPositionY(m.y,!0,!0)):((n=this.head)==null||n.setStart(0,!0,!0),(r=this.head)==null||r.setPositionY(0,!0,!0))}}return this.needLayout=!0,this.em.emit(g.DOCUMENT_CHANGE_CONTENT),s}clearContent(){const t=this.toDelta(!0),e=gi.createDefaultEmptyDocContent().toDelta();return this.removeAll(),this.readFromChanges(e),this.needLayout=!0,t.diff(e)}getCursorType(){return Bn.Default}onPointerEnter(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}insertText(t,e,n){let r=new(y());const s=vt(e.index,this.children,!0);if(!s||s.start+s.length<e.index)return r;const o=new(y())(s.toOp(!0));let{index:l}=e;const c=Nn()(t,/\r/g,"").split(`
`);for(let z=0;z<c.length;z++){const V=c[z],ot=vt(l,this.children,!0);if(!ot)return new(y());let ft=!1;V.length>0&&ot.insertText(V,{index:e.index-ot.start,inner:e.inner},n)&&(l+=V.length,ft=!0),z<c.length-1&&this.insertEnter({index:l,inner:e.inner},n)&&(l++,ft=!0),ft&&s.setStart(s.start,!0,!0)}this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0;const d=vt(l,this.children,!0),m=this.getOpFromLinkedBlocks(s,d),S=new(y())(m),C=o.diff(S).ops;return s.start>0&&C.unshift({retain:s.start}),r=r.compose(new(y())(C)),r}insertEnter(t,e){const n=vt(t.index,this.children,!0);if(!n)return null;const r=n.toOp(!0),s=n.insertEnter({index:t.index-n.start,inner:t.inner},e),o=n.toOp(!0);s&&(this.addAfter(s,n),s.setStart(n.start+n.length,!0),o.push(...s.toOp(!0)));const l=new(y());return n.start>0&&l.retain(n.start),this.needLayout=!0,l.concat(new(y())(r).diff(new(y())(o)))}insertFragment(t,e){const n=vt(e.index,this.children,!0);if(!n)return null;const r=new(y())(n.toOp(!0));n.insertFragment(t,D(n.start,e)),this.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.needLayout=!0;const s=new(y())(n.toOp(!0)),o=r.diff(s).ops;return n.start>0&&o.unshift({retain:n.start}),new(y())(o)}insertBlock(t,e){const n=Rt(e.index,this.children,!0),r=this.children[n];if(n<0)return null;let s;if(r.start===e.index&&e.inner===null){this.addBefore(t,r);const o=[];t.start>0&&o.push({retain:t.start}),o.push(...t.toOp(!1)),s=new(y())(o)}else{const o=new(y())(r.toOp(!0)),l=r.insertBlock(t,D(r.start,e));l.length&&this.splice(n,1,l);const c=[];for(let C=0;C<l.length;C++){const z=l[C];c.push(...z.toOp(!0))}const d=new(y())(c),m=o.diff(d),S=[];t.start>0&&S.push({retain:r.start}),S.push(...m.ops),s=new(y())(S)}return s}findBlocksByRange(t,e,n){const r=n!=null?n:dt.both;return kt(this.children,t,e,r)}layout(t=0){if(!!this.needLayout){for(let e=t;e<this.children.length;e++)if(this.children[e].needLayout){const n=this.children[e];n.x=this.paddingLeft,e===0&&(n.y=this.paddingTop),n.setWidth(this.width-this.paddingLeft-this.paddingRight),n.layout()}this.needLayout=!1}}getBlocksOps(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(...r.toOp(!0))}return e}setNeedToLayout(){this.needLayout=!0;for(let t=0;t<this.children.length;t++)this.children[t].needLayout=!0}readDeltaToBlocks(t){var e;const n=[],r=[];for(let s=0;s<t.ops.length;s++){const o=t.ops[s];if(typeof((e=o.attributes)==null?void 0:e.block)=="string"){const l=xu(o.attributes.block);if(l)if(typeof o.insert=="number"){r.push({insert:1,attributes:_u({},o.attributes)});const c=new l;if(c.setWidth(this.width-this.paddingLeft-this.paddingRight),c.readFromOps(r),n.push(c),o.insert>1)for(let d=0;d<o.insert-1;d++){const m=new l;m.setWidth(this.width-this.paddingLeft-this.paddingRight),m.readFromOps([{insert:1,attributes:_u({},o.attributes)}]),n.push(m)}}else{r.push(o);const c=new l;c.setWidth(this.width-this.paddingLeft-this.paddingRight),c.readFromOps(r),n.push(c)}else console.warn("unknown block type: ",o.attributes.block);r.length=0}else r.push(o)}return n}tryMerge(t,e){let n=!1,r=t;for(;r==null?void 0:r.nextSibling;)if(r===e&&(n=!0),r.needMerge&&r.constructor===r.nextSibling.constructor)r.merge(r.nextSibling),r.needLayout=!0,this.remove(r.nextSibling);else{if(n)break;r=r.nextSibling}}tryEat(t,e){let n=t;for(;n==null?void 0:n.nextSibling;)if(n.eat(n.nextSibling)){if(this.remove(n.nextSibling),n.nextSibling!==e)continue;break}else if(n.nextSibling!==e){n=n.nextSibling;continue}else break}getDocumentPos(t,e,n=!1){let r;if(e<0?r=this.head:e>this.height?r=this.tail:r=qt(e,this.children,!0),r===null)return null;const s=r.getDocumentPos(t,e,n);return s!==null&&(s.index+=r.start),s}getSelectionRectangles(t,e,n){const r=[];let s=this.head;const o=t.index,l=e.index;for(;s;)_t(s.start,s.start+s.length,o,l+1)&&r.push(...s.getSelectionRectangles(D(s.start,t),D(s.start,e),n)),s!==this.tail?s=s.nextSibling:s=null;return r}bubbleUp(t,e,n){throw new Error("this method should implemented in IGetAbsolutePosDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextPos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}firstLinePos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastLinePos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}prevPos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextLinePos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}prevLinePos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineStartPos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineEndPos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}afterAdd(t,e,n,r,s){t.forEach(l=>{l.x=this.paddingLeft,l.setWidth(this.width-this.paddingLeft-this.paddingRight),this.length+=l.length,l.setBubbleHandler(this.bubbleUp.bind(this))});const o=t[0].prevSibling===null?0:t[0].prevSibling.start+t[0].prevSibling.length;t[0].setStart(o,!0,!0)}beforeRemove(t,e,n,r,s){t.forEach(o=>{this.length-=o.length,o.setBubbleHandler(null)}),r&&r.setStart(n?n.start+n.length:0,!0,!0)}afterRemove(t){t.forEach(e=>{this.length-=e.length,e.setBubbleHandler(null)})}addLast(t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAfter(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addBefore(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAtIndex(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAll(t){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAll(){throw new Error("this method should be implemented in ILinkedListDecorator")}remove(t){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAllFrom(t){throw new Error("this method should be implemented in ILinkedListDecorator")}splice(t,e,n){throw new Error("this method should be implemented in ILinkedListDecorator")}findIndex(t){throw new Error("this method should be implemented in ILinkedListDecorator")}getSelectedElement(t){throw new Error("Method not implemented.")}getOpFromLinkedBlocks(t,e){const n=[];let r=t===null?this.children[0]:t;for(;r&&(n.push(...r.toOp(!0)),r!==e);)r=r.nextSibling;return n}};gi=Au([di,Eu,Oe,Jn,Hr,$r,Cn],gi);let Pu={getPixelRatio:()=>1,convertPt2Px:[],createTextFontString:()=>"",measureTextWidth:()=>0,measureTextMetrics:()=>({baseline:11,bottom:11,xTop:11}),requestIdleCallback:()=>0,cancelIdleCallback:()=>{}};const Pf=t=>{Pu=t},ce=()=>Pu;class Cf extends gi{constructor(){super(...arguments);this.firstScreenRender=0,this.initLayout=!1,this.idleLayoutStartBlock=null,this.idleLayoutRunning=!1,this.startDrawingBlock=null,this.endDrawingBlock=null,this.runIdleLayout=e=>{if(this.idleLayoutStartBlock){this.idleLayoutRunning=!0;let n=!1;for(;e.timeRemaining()>5&&this.idleLayoutStartBlock;)this.idleLayoutStartBlock.needLayout&&(n=n||this.idleLayoutStartBlock.needLayout,this.idleLayoutStartBlock.layout()),this.idleLayoutStartBlock=this.idleLayoutStartBlock.nextSibling;this.em.emit(g.DOCUMENT_AFTER_IDLE_LAYOUT,{hasLayout:n,needIdleLayout:this.idleLayoutStartBlock!==null}),this.idleLayoutStartBlock?(this.initLayout===!1&&this.setContentHeight(this.idleLayoutStartBlock.y),ce().requestIdleCallback(this.runIdleLayout)):(this.idleLayoutRunning=!1,this.initLayout=!0,console.log("idle finished",performance.now()-window.start),this.em.emit(g.DOCUMENT_LAYOUT_FINISH,{hasLayout:n}))}}}readFromChanges(e){this.firstScreenRender=0,super.readFromChanges(e)}draw(e,n,r){this.startDrawingBlock=null,this.endDrawingBlock=null,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.save();let s=this.head;s&&s.setPositionY(this.paddingTop);const o=n+r;let l=!1,c=!1;for(;s!==null;){if(s.y<o)c=c||s.needLayout,s.layout(),s.y+s.height>=n&&(s.draw(e,0,-n,r-s.y+n),this.startDrawingBlock===null&&(this.startDrawingBlock=s));else if(s.needLayout){this.firstScreenRender===0&&(this.firstScreenRender=window.performance.now()-window.start,console.log("first screen finished ",this.firstScreenRender)),l=!0,this.startIdleLayout(s),this.endDrawingBlock=s;break}s=s.nextSibling}e.restore(),this.em.emit(g.DOCUMENT_AFTER_LAYOUT,{hasLayout:c,needIdleLayout:l,ctx:e,scrollTop:n,viewHeight:r}),l||this.em.emit(g.DOCUMENT_LAYOUT_FINISH,{hasLayout:c,ctx:e,scrollTop:n,viewHeight:r})}fastDraw(e,n,r){this.startDrawingBlock=null,this.endDrawingBlock=null,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.save();let s=null;if(this.idleLayoutRunning)for(let o=0;o<this.children.length;o++){const l=this.children[o];if(_t(l.y,l.y+l.height,n,n+r)){s=l;break}}else s=qt(n,this.children),s||(s=this.head);if(s){const o=n+r;for(this.startDrawingBlock=s;s&&s.y<o;){s.draw(e,0,-n,r-s.y+n),this.endDrawingBlock=s;s=s.nextSibling}}e.restore(),this.em.emit(g.DOCUMENT_AFTER_DRAW,{ctx:e,scrollTop:n,viewHeight:r})}getDocumentPos(e,n,r=!1){let s;if(n<0?s=this.head:n>this.height?s=this.tail:s=qt(n,this.children,this.idleLayoutStartBlock===null),s===null)return null;const o=s.getDocumentPos(e,n,r);return o!==null&&(o.index+=s.start),o}setHeight(e){const n=Math.ceil(e);n>=this.contentHeight&&n!==this.height&&(this.height=n,this.em.emit(g.DOCUMENT_CHANGE_SIZE,{width:this.width,height:this.height}))}setWidth(e){super.setWidth(e),this.em.emit(g.DOCUMENT_CHANGE_SIZE,{width:this.width,height:this.height}),this.em.emit(g.DOCUMENT_NEED_LAYOUT)}bubbleUp(e,n,r){switch(super.bubbleUp(e,n,r),e){case Te.NEED_LAYOUT:{const s=Array.isArray(r)?r[r.length-1]:null;s&&(!this.idleLayoutStartBlock||this.idleLayoutStartBlock.start>s.start)&&(this.idleLayoutStartBlock=s,this.em.emit(g.DOCUMENT_NEED_LAYOUT));return}case Te.CONTENT_CHANGE:{this.em.emit(g.DOCUMENT_CHANGE_CONTENT);return}case Te.NEED_DRAW:{this.em.emit(g.DOCUMENT_NEED_DRAW);return}default:{const s=r instanceof Array?[...r,this]:[this];this.em.emit(e,n,s)}}}startIdleLayout(e){(!this.idleLayoutStartBlock||e.start<this.idleLayoutStartBlock.start)&&(this.idleLayoutStartBlock=e,this.idleLayoutRunning||ce().requestIdleCallback(this.runIdleLayout))}}class Er extends _(){constructor(e){super();this.doc=e}}class Tf extends Er{constructor(){super(...arguments);this.canRedo=!1,this.canUndo=!1,this.delta=null,this.currentIndex=-1,this.stack=[],this.compositing=!1,this.compositionStack=[]}setInitDelta(e){this.delta=e}pushDiff(e){if(this.delta&&e&&e.ops.length>0){const n={redo:e,undo:e.invert(this.delta)};this.compositing?this.compositionStack.push(n):(this.stack.splice(this.currentIndex+1),this.stack.push(n),this.currentIndex=this.stack.length-1,this.setRedoUndoStatus(),this.delta=this.delta.compose(e))}}startComposition(){this.compositing=!0}endComposition(){if(this.compositing=!1,this.delta&&this.compositionStack.length>0){let e=new(y()),n=new(y());this.compositionStack.forEach(r=>{e=e.compose(r.redo),n=n.compose(r.undo)}),this.compositionStack.length=0,this.stack.splice(this.currentIndex+1),this.stack.push({redo:e,undo:n}),this.currentIndex=this.stack.length-1,this.setRedoUndoStatus(),this.delta=this.delta.compose(e)}}redo(){const e=this.stack[this.currentIndex+1];let n;return e?(this.currentIndex++,n=e.redo):n=null,this.setRedoUndoStatus(),n}undo(){const e=this.stack[this.currentIndex];let n;return e?(this.currentIndex--,n=e.undo):n=null,this.setRedoUndoStatus(),n}rebase(e){for(let n=0;n<this.stack.length;n++){const r=this.stack[n];r.redo=e.transform(r.redo),r.undo=e.transform(r.undo)}}setRedoUndoStatus(){const e=!!this.stack[this.currentIndex+1],n=!!this.stack[this.currentIndex];e!==this.canRedo&&(this.canRedo=e),n!==this.canUndo&&(this.canUndo=n),this.emit(g.HISTORY_STACK_CHANGE,{canRedo:e,canUndo:n,stackDepth:this.stack.length,current:this.currentIndex})}}class ga{constructor(e){this.SELECTION_AREA_COLOR="rgba(71, 155, 253, 0.2)",this.SEARCH_RESULT_COLOR="rgba(255, 193, 0, 0.4)",this.SEARCH_RESULT_CURRENT_ITEM_COLOR="rgba(0, 83, 180, 0.25)",this.ctxDoc=e}get canvas(){return this.ctxDoc.canvas}get globalAlpha(){return this.ctxDoc.globalAlpha}set globalAlpha(e){this.ctxDoc.globalAlpha=e}get globalCompositeOperation(){return this.ctxDoc.globalCompositeOperation}set globalCompositeOperation(e){this.ctxDoc.globalCompositeOperation=e}get imageSmoothingEnabled(){return this.ctxDoc.imageSmoothingEnabled}set imageSmoothingEnabled(e){this.ctxDoc.imageSmoothingEnabled=e}get imageSmoothingQuality(){return this.ctxDoc.imageSmoothingQuality}set imageSmoothingQuality(e){this.ctxDoc.imageSmoothingQuality=e}get fillStyle(){return this.ctxDoc.fillStyle}set fillStyle(e){this.ctxDoc.fillStyle=e}get strokeStyle(){return this.ctxDoc.strokeStyle}set strokeStyle(e){this.ctxDoc.strokeStyle=e}get shadowBlur(){return this.ctxDoc.shadowBlur}set shadowBlur(e){this.ctxDoc.shadowBlur=e}get shadowColor(){return this.ctxDoc.shadowColor}set shadowColor(e){this.ctxDoc.shadowColor=e}get shadowOffsetX(){return this.ctxDoc.shadowOffsetX}set shadowOffsetX(e){this.ctxDoc.shadowOffsetX=e}get shadowOffsetY(){return this.ctxDoc.shadowOffsetY}set shadowOffsetY(e){this.ctxDoc.shadowOffsetY=e}get filter(){return this.ctxDoc.filter}set filter(e){this.ctxDoc.filter=e}get lineCap(){return this.ctxDoc.lineCap}set lineCap(e){this.ctxDoc.lineCap=e}get lineDashOffset(){return this.ctxDoc.lineDashOffset}set lineDashOffset(e){this.ctxDoc.lineDashOffset=e}get lineJoin(){return this.ctxDoc.lineJoin}set lineJoin(e){this.ctxDoc.lineJoin=e}get lineWidth(){return this.ctxDoc.lineWidth}set lineWidth(e){this.ctxDoc.lineWidth=e}get miterLimit(){return this.ctxDoc.miterLimit}set miterLimit(e){this.ctxDoc.miterLimit=e}get direction(){return this.ctxDoc.direction}set direction(e){this.ctxDoc.direction=e}get font(){return this.ctxDoc.font}set font(e){this.ctxDoc.font=e}get textAlign(){return this.ctxDoc.textAlign}set textAlign(e){this.ctxDoc.textAlign=e}get textBaseline(){return this.ctxDoc.textBaseline}set textBaseline(e){this.ctxDoc.textBaseline=e}drawCursor(e,n,r,s){this.ctxDoc.beginPath(),this.ctxDoc.moveTo(e,n),this.ctxDoc.strokeStyle=s,this.ctxDoc.lineTo(e,n+r),this.ctxDoc.stroke()}restore(){return this.ctxDoc.restore()}save(){return this.ctxDoc.save()}getTransform(){return this.ctxDoc.getTransform()}resetTransform(){return this.ctxDoc.resetTransform()}rotate(e){return this.ctxDoc.rotate(e)}scale(e,n){return this.ctxDoc.scale(e,n)}setTransform(e,n,r,s,o,l){if(e===void 0)return this.ctxDoc.setTransform();if(n===void 0)return this.ctxDoc.setTransform(e);if(r!==void 0&&s!==void 0&&o!==void 0&&l!==void 0)return this.ctxDoc.setTransform(e,n,r,s,o,l)}transform(e,n,r,s,o,l){return this.ctxDoc.transform(e,n,r,s,o,l)}translate(e,n){return this.ctxDoc.translate(e,n)}createLinearGradient(e,n,r,s){return this.ctxDoc.createLinearGradient(e,n,r,s)}createPattern(e,n){return this.ctxDoc.createPattern(e,n)}createRadialGradient(e,n,r,s,o,l){return this.ctxDoc.createRadialGradient(e,n,r,s,o,l)}clearRect(e,n,r,s){return this.ctxDoc.clearRect(e,n,r,s)}fillRect(e,n,r,s){return this.ctxDoc.fillRect(e,n,r,s)}strokeRect(e,n,r,s){return this.ctxDoc.strokeRect(e,n,r,s)}beginPath(){return this.ctxDoc.beginPath()}clip(e,n){return this.ctxDoc.clip(e,n)}fill(e,n){return this.ctxDoc.fill(e,n)}isPointInPath(e,n,r,s){return this.ctxDoc.isPointInPath(e,n,r,s)}isPointInStroke(e,n,r){return this.ctxDoc.isPointInStroke(e,n,r)}stroke(e){return e!==void 0?this.ctxDoc.stroke(e):this.ctxDoc.stroke()}drawFocusIfNeeded(e,n){return this.ctxDoc.drawFocusIfNeeded(e,n)}fillText(e,n,r,s){return this.ctxDoc.fillText(e,n,r,s)}measureText(e){return this.ctxDoc.measureText(e)}strokeText(e,n,r,s){return this.ctxDoc.strokeText(e,n,r,s)}drawImage(e,n,r,s,o,l,c,d,m){return m!==void 0?this.ctxDoc.drawImage(e,n,r,s,o,l,c,d,m):o!==void 0?this.ctxDoc.drawImage(e,n,r,s,o):this.ctxDoc.drawImage(e,n,r)}createImageData(e,n){return this.ctxDoc.createImageData(e,n)}getImageData(e,n,r,s){return this.ctxDoc.getImageData(e,n,r,s)}putImageData(e,n,r,s,o,l,c){return s?this.ctxDoc.putImageData(e,n,r,s,o,l,c):this.ctxDoc.putImageData(e,n,r)}getLineDash(){return this.ctxDoc.getLineDash()}setLineDash(e){return this.ctxDoc.setLineDash(e)}arc(e,n,r,s,o,l){return this.ctxDoc.arc(e,n,r,s,o,l)}arcTo(e,n,r,s,o){return this.ctxDoc.arcTo(e,n,r,s,o)}bezierCurveTo(e,n,r,s,o,l){return this.ctxDoc.bezierCurveTo(e,n,r,s,o,l)}closePath(){return this.ctxDoc.closePath()}ellipse(e,n,r,s,o,l,c,d){return this.ctxDoc.ellipse(e,n,r,s,o,l,c,d)}lineTo(e,n){return this.ctxDoc.lineTo(e,n)}moveTo(e,n){return this.ctxDoc.moveTo(e,n)}quadraticCurveTo(e,n,r,s){return this.ctxDoc.quadraticCurveTo(e,n,r,s)}rect(e,n,r,s){return this.ctxDoc.rect(e,n,r,s)}getContextAttributes(){return this.ctxDoc.getContextAttributes()}drawSelectionArea(e,n,r,s){this.ctxDoc.fillStyle=this.SELECTION_AREA_COLOR;for(let o=s;o<e.length;o++){const l=e[o];if(e[0].y>r)break;this.ctxDoc.fillRect(l.x,l.y-n,l.width,l.height)}}drawSearchResult(e,n,r,s,o){for(let l=s;l<e.length;l++){const c=e[l].rects;if(c[0].y>r)break;l===o?this.ctxDoc.fillStyle=this.SEARCH_RESULT_CURRENT_ITEM_COLOR:this.ctxDoc.fillStyle=this.SEARCH_RESULT_COLOR;for(let d=0;d<c.length;d++){const m=c[d];this.ctxDoc.fillRect(m.x,m.y-n,m.width,m.height)}}}}var Wr;(function(t){t[t.Empty=0]="Empty",t[t.Mouse=1]="Mouse",t[t.Keyboard=2]="Keyboard",t[t.Input=3]="Input"})(Wr||(Wr={}));class va extends Er{constructor(e){super(e);this.selection=[],this.lastSelection=[],this.selectionSource=0,this.mouseSelecting=!1,this.keyboardSelecting=!1,this.selectionStartTemp=null,this.selectionEndTemp=null,this.selectionStart=null,this.selectionEnd=null,this.selectionStartPos=null,this.selectionEndPos=null,this.selectionStartPosTemp=null,this.selectionEndPosTemp=null,this.keyboardSelectStartPos=null,this.cursorPos=null,this.keyboardVerticalMoveXPos=null,this.onDocumentLayout=({ctx:n,scrollTop:r,viewHeight:s})=>{this.draw(n,r,s)},this.onDocumentFastDraw=({ctx:n,scrollTop:r,viewHeight:s})=>{this.draw(n,r,s)},this.doc.em.addListener(g.DOCUMENT_AFTER_LAYOUT,this.onDocumentLayout),this.doc.em.addListener(g.DOCUMENT_AFTER_DRAW,this.onDocumentFastDraw)}getSelection(){return this.selection}setSelection(e,n){this.changeSelectionSource(e.length>0?n!=null?n:this.selectionSource:0),this.selection=e,this.lastSelection=e,this.emit(g.CHANGE_SELECTION,this.selection)}clearSelection(){return this.selection=[],this.emit(g.CHANGE_SELECTION,this.selection),this.lastSelection}restoreSelection(){this.setSelection(this.lastSelection)}changeSelectionSource(e){this.selectionSource=e}startMouseSelection(e,n){const r=this.doc.getDocumentPos(e,n,!0);r&&(this.changeSelectionSource(1),this.mouseSelecting=!0,this.selectionStartTemp=r,this.selectionEndTemp=this.selectionStartTemp,this.selectionStartPosTemp={x:e,y:n},this.keyboardVerticalMoveXPos=null)}updateMouseSelection(e,n){if(this.mouseSelecting){this.changeSelectionSource(1),this.selectionEndTemp=this.doc.getDocumentPos(e,n),this.selectionEndPosTemp={x:e,y:n},this.orderSelectionPoint();const r=this.calSelection();r&&(this.selectionEndPos={x:e,y:n},this.setSelection(r,1),this.keyboardVerticalMoveXPos=null)}}endMouseSelection(e,n){if(this.mouseSelecting){this.changeSelectionSource(1),this.mouseSelecting=!1,this.selectionEndTemp=this.doc.getDocumentPos(e,n),this.selectionEndPosTemp={x:e,y:n},this.orderSelectionPoint();const r=this.calSelection();if(r){if(this.selectionEndPos={x:e,y:n},r.length===1&&X(r[0].start,r[0].end)===0){const s=this.calSelectionRectangles(r).filter(o=>_t(o.y,o.y+o.height,n,n));s.length===1?this.setCursorPos(s[0]):this.cursorPos=null}else this.cursorPos=null;this.setSelection(r,1),this.keyboardVerticalMoveXPos=null}}}updateKeyboardSelection(){}getSelectionRectangles(){return(this.selectionSource===2||this.selectionSource===1)&&this.selection.length===1&&X(this.selection[0].start,this.selection[0].end)===0&&this.cursorPos!==null?[this.cursorPos]:this.calSelectionRectangles(this.selection)}applyChanges(e){if(this.selection.length>0){const n=this.selection.map(r=>{const s=nt(r.start,e),o=nt(r.end,e);return{start:s,end:o}});this.setSelection(n)}}cursorMoveUp(){var e;if(this.selection.length>0&&this.selectionStartPos){this.startKeyboardSelection();const n=this.selection[0].start;this.keyboardVerticalMoveXPos=this.keyboardVerticalMoveXPos||this.selectionStartPos.x;const r=(e=this.doc.prevLinePos(n,this.keyboardVerticalMoveXPos))!=null?e:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);if(o.length===1)this.setCursorPos(o[0]),this.setSelection([s],2);else{let l=null;for(let c=0;c<o.length;c++){const d=o[c];(!l||Math.abs(l.x-this.keyboardVerticalMoveXPos)>Math.abs(d.x-this.keyboardVerticalMoveXPos))&&(l=d)}l&&(this.setCursorPos(l),this.setSelection([s],2))}}}cursorMoveDown(){var e;if(this.selection.length>0&&this.selectionEndPos){this.startKeyboardSelection();const n=this.selection[0].end;this.keyboardVerticalMoveXPos=this.keyboardVerticalMoveXPos||this.selectionEndPos.x;const r=(e=this.doc.nextLinePos(n,this.keyboardVerticalMoveXPos))!=null?e:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);if(o.length===1)this.setCursorPos(o[0]),this.setSelection([s],2);else{let l=null;for(let c=0;c<o.length;c++){const d=o[c];(!l||Math.abs(l.x-this.keyboardVerticalMoveXPos)>Math.abs(d.x-this.keyboardVerticalMoveXPos))&&(l=d)}l&&(this.setCursorPos(l),this.setSelection([s],2))}}}cursorMoveLeft(){var e;if(this.selection.length>0){this.startKeyboardSelection();const n=this.selection[0].start,r=(e=this.doc.prevPos(n))!=null?e:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);o.length>0&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}cursorMoveRight(){var e;if(this.selection.length>0){this.startKeyboardSelection();const n=this.selection[this.selection.length-1].end,r=(e=this.doc.nextPos(n))!=null?e:n,s={start:r,end:r},o=this.calSelectionRectangles([s]);o.length>0&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}cursorMoveToLineStart(){var e;if(this.selection.length>0&&this.selectionStartPos){this.startKeyboardSelection();const n=this.selection[0].start,r=(e=this.doc.lineStartPos(n,this.selectionStartPos.y))!=null?e:n,s={start:r,end:r},o=this.calSelectionRectangles([s]).filter(l=>_t(l.y,l.y+l.height,this.selectionStartPos.y,this.selectionStartPos.y));o.length===1&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}cursorMoveToLineEnd(){var e;if(this.selection.length>0&&this.selectionEndPos){this.startKeyboardSelection();const n=this.selection[this.selection.length-1].end,r=(e=this.doc.lineEndPos(n,this.selectionEndPos.y))!=null?e:n,s={start:r,end:r},o=this.calSelectionRectangles([s]).filter(l=>_t(l.y,l.y+l.height,this.selectionEndPos.y,this.selectionEndPos.y));o.length===1&&(this.setCursorPos(o[0]),this.setSelection([s],2),this.keyboardVerticalMoveXPos=null)}}startKeyboardSelection(){}calSelectionRectangles(e,n,r){const s=n||this.doc.head||void 0,o=r||this.doc.tail||void 0;if(!s||!o)return[];const l=[];for(let c=0;c<e.length;c++){const d=e[c],m=d.start.index,S=d.end.index;if(_t(s.start,o.start+o.length,m,S)){let C=s;for(;C;)_t(C.start,C.start+C.length,m,S+1)&&l.push(...C.getSelectionRectangles(D(C.start,d.start),D(C.start,d.end))),C!==o?C=C.nextSibling:C=null}}return l}draw(e,n,r){if(this.selection.length===0||this.selection.length===1&&X(this.selection[0].start,this.selection[0].end)===0)return;const s=qt(n,this.doc.children),o=qt(n+r,this.doc.children);if(s&&o){const l=this.calSelectionRectangles(this.selection,s,o);l.length>0&&e.drawSelectionArea(l,n,n+r,0)}}orderSelectionPoint(){!this.selectionStartTemp||!this.selectionEndTemp||(X(this.selectionStartTemp,this.selectionEndTemp)===1?(this.selectionStart=this.selectionEndTemp,this.selectionEnd=this.selectionStartTemp,this.selectionStartPos=this.selectionEndPosTemp,this.selectionEndPos=this.selectionStartPosTemp):(this.selectionStart=this.selectionStartTemp,this.selectionEnd=this.selectionEndTemp,this.selectionStartPos=this.selectionStartPosTemp,this.selectionEndPos=this.selectionEndPosTemp))}calSelection(){if(!this.selectionStart||!this.selectionEnd)return null;const n={start:this.selectionStart.index},r=L().le(this.doc.children,n,(c,d)=>c.start-d.start),o={start:this.selectionEnd.index},l=L().le(this.doc.children,o,(c,d)=>c.start-d.start);if(r===l){const c=this.doc.children[r],d=D(c.start,this.selectionStart),m=D(c.start,this.selectionEnd);return c.correctSelectionPos(d,m).map(C=>{const z=W(C.start),V=W(C.end);return z&&(z.index+=c.start),V&&(V.index+=c.start),{start:z,end:V}})}else{const c=this.doc.children[r],d=D(c.start,this.selectionStart),m=c.correctSelectionPos(d,null)[0].start;m.index+=c.start;const S=this.doc.children[l],C=D(S.start,this.selectionEnd),z=S.correctSelectionPos(null,C)[0].end;return z.index+=S.start,[{start:m,end:z}]}}distinctRanges(e){const n=e.sort((r,s)=>{const o=X(r.start,s.start);return o===0?X(r.end,s.end):o});for(let r=n.length-1;r>0;r--){const s=n[r],o=n[r-1];X(s.start,o.start)===0&&X(s.end,o.end)===0&&n.splice(r,1)}return n}setCursorPos(e){this.cursorPos=e,this.selectionStartPos={y:e.y+e.height/2,x:e.x},this.selectionEndPos={y:e.y+e.height/2,x:e.x}}}var Gs;(function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom"})(Gs||(Gs={}));const Cu={vertAlign:Gs.Top,colSpan:1,rowSpan:1};function vi(t){return class extends t{setOverrideDefaultAttributes(e){var n;let r=!1;if(!e)this.overrideDefaultAttributes!==null&&(this.overrideDefaultAttributes=null,r=!0);else{const s=Object.keys(e);for(let o=0,l=s.length;o<l;o++){const c=s[o];e.hasOwnProperty(c)&&(e[c]===void 0&&this.overrideDefaultAttributes?(delete this.overrideDefaultAttributes[c],r=!0):e[c]!==void 0&&(this.overrideDefaultAttributes=(n=this.overrideDefaultAttributes)!=null?n:{},this.overrideDefaultAttributes[c]=e[c],r=!0))}}r&&this.compileAttributes()}setOverrideAttributes(e){var n;let r=!1;if(!e)this.overrideAttributes!==null&&(this.overrideAttributes=null,r=!0);else{const s=Object.keys(e);for(let o=0,l=s.length;o<l;o++){const c=s[o];e.hasOwnProperty(c)&&(e[c]===void 0&&this.overrideAttributes?(delete this.overrideAttributes[c],r=!0):e[c]!==void 0&&(this.overrideAttributes=(n=this.overrideAttributes)!=null?n:{},this.overrideAttributes[c]=e[c],r=!0))}}r&&this.compileAttributes()}setAttributes(e){var n;let r=!1;if(!e)this.originalAttributes!==null&&(this.originalAttributes=null,r=!0);else{const s=Object.keys(this.defaultAttributes);for(let o=0,l=s.length;o<l;o++){const c=s[o];e.hasOwnProperty(c)&&(e[c]===void 0&&this.originalAttributes&&this.originalAttributes.hasOwnProperty(c)?(delete this.originalAttributes[c],r=!0):e[c]!==this.defaultAttributes[c]&&(this.originalAttributes===null||e[c]!==this.originalAttributes[c])?(this.originalAttributes=(n=this.originalAttributes)!=null?n:{},this.originalAttributes[c]=e[c],r=!0):e[c]===this.defaultAttributes[c]&&this.originalAttributes&&this.originalAttributes.hasOwnProperty(c)&&(delete this.originalAttributes[c],r=!0,Object.keys(this.originalAttributes).length===0&&(this.originalAttributes=null)))}}r&&this.compileAttributes()}compileAttributes(){var e,n,r;const s=Object.keys(this.defaultAttributes);for(let o=0,l=s.length;o<l;o++){const c=s[o];((e=this.overrideAttributes)==null?void 0:e.hasOwnProperty(c))?this.attributes[c]=this.overrideAttributes[c]:((n=this.originalAttributes)==null?void 0:n.hasOwnProperty(c))?this.attributes[c]=this.originalAttributes[c]:((r=this.overrideDefaultAttributes)==null?void 0:r.hasOwnProperty(c))?this.attributes[c]=this.overrideDefaultAttributes[c]:this.defaultAttributes.hasOwnProperty(c)&&(this.attributes[c]=this.defaultAttributes[c])}}}}var Tu=Object.defineProperty,If=Object.getOwnPropertyDescriptor,Iu=Object.getOwnPropertySymbols,Of=Object.prototype.hasOwnProperty,Df=Object.prototype.propertyIsEnumerable,ma=(t,e,n)=>e in t?Tu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ou=(t,e)=>{for(var n in e||(e={}))Of.call(e,n)&&ma(t,n,e[n]);if(Iu)for(var n of Iu(e))Df.call(e,n)&&ma(t,n,e[n]);return t},Lf=(t,e,n,r)=>{for(var s=r>1?void 0:r?If(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Tu(e,n,s),s},Vn;(function(t){t.POINTER_ENTER_TABLE_CELL="POINTER_ENTER_TABLE_CELL",t.POINTER_LEAVE_TABLE_CELL="POINTER_LEAVE_TABLE_CELL"})(Vn||(Vn={}));let mi=class extends gi{constructor(){super(...arguments);this.x=0,this.y=0,this.width=0,this.height=0,this.prevSibling=null,this.nextSibling=null,this.parent=null,this.attributes=Ou({},Cu),this.defaultAttributes=Cu,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.paddingLeft=5,this.paddingRight=5,this.paddingTop=5,this.paddingBottom=5,this.isFirstLine=!1,this.isLastLine=!1,this.isFirstCell=!1,this.isLastCell=!1,this.GridRowPos=0,this.GridColPos=0}static create(){const t=new mi;return t.readFromChanges(super.createDefaultEmptyDocContent().toDelta()),t}get start(){return this.prevSibling===null?0:this.prevSibling.start+1}readFromOps(t){var e;const n=t[0].insert;super.readFromChanges(n),this.setAttributes((e=t[0])==null?void 0:e.attributes)}toOp(t){const e={insert:this.toDelta(t)};return t&&(e.key=this.id),this.originalAttributes&&Object.keys(this.originalAttributes).length>0&&(e.attributes=Ou({},this.originalAttributes)),e}setAttributes(t){const e=t==null?void 0:t.colSpan;typeof e=="number"&&(this.attributes.colSpan=e);const n=t==null?void 0:t.rowSpan;typeof n=="number"&&(this.attributes.rowSpan=n);const r=t==null?void 0:t.vertAlign;typeof r=="number"&&(this.attributes.vertAlign=r)}setWidth(t){if(t!==this.width){this.width=t;for(let e=0;e<this.children.length;e++)this.children[e].setWidth(this.width-this.paddingLeft-this.paddingRight)}}drawBorder(t,e,n){t.strokeStyle="#000";const r=this.x+e,s=this.y+n;if(t.beginPath(),!this.isLastCell){const o=Ht(r+this.width,-1),l=Ht(s,-1),c=Ht(s+this.height,1);t.moveTo(o,l),t.lineTo(o,c)}if(!this.isLastLine){const o=Ht(s+this.height,-1),l=Ht(r,-1),c=Ht(r+this.width,1);t.moveTo(l,o),t.lineTo(c,o)}t.stroke()}onPointerEnter(t,e,n,r){super.onPointerEnter(t,e,n,r),this.bubbleUp(Vn.POINTER_ENTER_TABLE_CELL,null,[])}onPointerLeave(){super.onPointerLeave(),this.bubbleUp(Vn.POINTER_LEAVE_TABLE_CELL,null,[])}format(t,e){var n,r;if(this.setAttributes(t),e===void 0)return super.format(t);{let s=new(y());const o=(0,fi.isArray)(e)?e:[e];for(let l=0;l<o.length;l++){const c=o[l];if(c.start.inner||c.end.inner){const d={start:(n=c.start.inner)!=null?n:{index:0,inner:null},end:(r=c.end.inner)!=null?r:{index:this.children.length,inner:null}};s=s.compose(super.format(t,d))}else s=s.compose(super.format(t))}return s}}clearFormat(t){var e,n;if(this.setAttributes({vertAlign:Gs.Top}),t===void 0)return super.clearFormat();{let r=new(y());const s=(0,fi.isArray)(t)?t:[t];for(let o=0;o<s.length;o++){const l=s[o];if(l.start.inner||l.end.inner){const c={start:(e=l.start.inner)!=null?e:{index:0,inner:null},end:(n=l.end.inner)!=null?n:{index:this.children.length,inner:null}};r=r.compose(super.clearFormat(c))}else r=r.compose(super.clearFormat())}return r}}getFormat(t){var e,n;let r={};if(t===void 0)r=Ut(this);else{const s=(0,fi.isArray)(t)?t:[t];for(let o=0;o<s.length;o++){const l=s[o];((e=l.start)==null?void 0:e.inner)&&((n=l.end)==null?void 0:n.inner)?Pt(super.getFormat([{start:l.start.inner,end:l.end.inner}]),r):Pt(super.getFormat(),r)}}return Pt(this.attributes,r),r}setOverrideDefaultAttributes(t){throw new Error("Method not implemented.")}setOverrideAttributes(t){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}};mi=Lf([vi],mi);var Rf=Xt(8446),ba=Xt.n(Rf),zs=Xt(5659),Ff=Xt.n(zs),js=Xt(971),kf=Xt.n(js);class Xs{constructor(e){this.frags=[],this.isSpace=!1,this.text="",this.totalWidth=0,this.fragWidth=[],this.isHolder=e}calTotalWidth(){if(this.isHolder){this.totalWidth=this.frags[0].frag.calTotalWidth(),this.fragWidth=[this.totalWidth];return}let e;this.frags.length===1?(e=ce().measureTextWidth(this.text,this.frags[0].frag.attributes),this.fragWidth=[e]):((this.fragWidth===void 0||!this.fragWidth.length)&&this.calFragWidth(),e=this.fragWidth.reduce((n,r)=>n+r,0)),this.totalWidth=e}calFragWidth(){this.frags.length===1?this.fragWidth=[this.totalWidth]:this.fragWidth=this.frags.map(e=>ce().measureTextWidth(this.text.substring(e.start,e.end),e.frag.attributes))}calCharWidthByFrag(e){const n=this.frags[e];return this.text.substr(n.start,n.end).split("").map(r=>ce().measureTextWidth(r,n.frag.attributes))}}var mn;(function(t){t.left="left",t.center="center",t.right="right",t.justify="justify",t.scattered="scattered"})(mn||(mn={}));const bn={background:"#ffffff",color:"#494949",strike:!1,underline:!1};var _e;(function(t){t[t.Text=-1]="Text",t[t.Title=0]="Title",t[t.Subtitle=1]="Subtitle",t[t.H1=2]="H1",t[t.H2=3]="H2",t[t.H3=4]="H3",t[t.H4=5]="H4"})(_e||(_e={}));const Gr=[{name:"Default",value:'BlinkMacSystemFont,"PingFang SC",Helvetica,Tahoma,Arial,"Hiragino Sans GB","Microsoft YaHei","\\5FAE\\8F6F\\96C5\\9ED1",sans-serif'},{name:"simsun",value:"SimSun,STSong,sans-serif"},{name:"simhei",value:"SimHei,STHeiti,sans-serif"},{name:"Weiruanyahei",value:"Weiruanyahei"},{name:"fangsong",value:"FangSong,STFangsong,sans-serif"},{name:"kaiti",value:"KaiTi,STKaiti,sans-serif"},{name:"arial",value:"Arial,sans-serif"},{name:"droid",value:'"Droid Serif",sans-serif'},{name:"source",value:'"Source Code Pro",sans-serif'}],Du=[...Gr].sort((t,e)=>t.name>e.name?1:-1),Lu=[...Gr].sort((t,e)=>t.value>e.value?1:-1),an={getFontValue(t){const e=L().eq(Du,{name:t,value:""},(n,r)=>n.name>r.name?1:n.name<r.name?-1:0);return e>=0&&e<Gr.length?Du[e].value:Gr[0].value},getFontName(t){const e=L().eq(Lu,{name:"",value:t},(n,r)=>n.value>r.value?1:n.value<r.value?-1:0);return e>=0&&e<Gr.length?Lu[e].name:Gr[0].name}};var Mf=Object.defineProperty,Ru=Object.getOwnPropertyDescriptor,Fu=(t,e,n,r)=>{for(var s=r>1?void 0:r?Ru(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Mf(e,n,s),s};let or=class{constructor(){this.defaultAttributes=bn,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.attributes=bn,this.prevSibling=null,this.nextSibling=null,this.metrics={baseline:0,bottom:0,xTop:0},this.id=$(),this.isPointerHover=!1}get typeName(){return or.typeName}get start(){return this.prevSibling===null?0:this.prevSibling.start+this.prevSibling.length}get length(){return 1}destroy(){}readFromOps(t){}calTotalWidth(){return 0}calMetrics(){}toOp(t){return{retain:0}}toHtml(t){return""}toText(t){return""}format(t,e){return e?[]:(this.setAttributes(t),[this])}clearFormat(t){t||this.setAttributes(this.defaultAttributes)}getFormat(){return this.attributes}insertText(t,e,n){return[]}insertEnter(t){return null}insertFragment(t,e){return[]}insertBlock(t,e){return!1}delete(t,e){}eat(t){return!1}firstPos(){return{index:0,inner:null}}lastPos(){return{index:this.length-1,inner:null}}nextPos(t){const e=N(t,1);return e.index>=this.length?null:e}prevPos(t){const e=N(t,-1);return e.index<0?null:e}firstLinePos(t){return null}lastLinePos(t){return null}nextLinePos(t){return null}prevLinePos(t){return null}lineStartPos(t){return null}lineEndPos(t){return null}onPointerEnter(){this.isPointerHover=!0}onPointerLeave(){this.isPointerHover=!1}onPointerMove(){}onPointerDown(){}onPointerUp(){}onPointerTap(){}bubbleUp(t,e,n){throw new Error("this method should implemented in IGetAbsolutePosDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}setOverrideDefaultAttributes(t){throw new Error("Method not implemented.")}setOverrideAttributes(t){throw new Error("Method not implemented.")}setAttributes(t){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(t){throw new Error("Method not implemented.")}};or.typeName="frag",or=Fu([Oe,vi],or);var ya=Object.defineProperty,Nf=Object.defineProperties,ku=Object.getOwnPropertyDescriptors,ts=Object.getOwnPropertySymbols,Mu=Object.prototype.hasOwnProperty,Bf=Object.prototype.propertyIsEnumerable,xa=(t,e,n)=>e in t?ya(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nu=(t,e)=>{for(var n in e||(e={}))Mu.call(e,n)&&xa(t,n,e[n]);if(ts)for(var n of ts(e))Bf.call(e,n)&&xa(t,n,e[n]);return t},wa=(t,e)=>Nf(t,ku(e));const Ks=wa(Nu({},bn),{bold:!1,font:an.getFontValue("Default"),italic:!1,link:"",size:11,composing:!1});var Bu=Object.defineProperty,Ys=Object.getOwnPropertySymbols,Sa=Object.prototype.hasOwnProperty,bi=Object.prototype.propertyIsEnumerable,_a=(t,e,n)=>e in t?Bu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hn=(t,e)=>{for(var n in e||(e={}))Sa.call(e,n)&&_a(t,n,e[n]);if(Ys)for(var n of Ys(e))bi.call(e,n)&&_a(t,n,e[n]);return t};const Aa=class extends or{constructor(){super(...arguments);this.content="",this.defaultAttributes=Ks,this.attributes=Hn({},Ks)}get typeName(){return Aa.typeName}readFromOps(t){const e=t.attributes;e!==void 0&&(e.font&&e.hasOwnProperty("font")&&(e.font=an.getFontValue(e.font)),this.setAttributes(e)),this.calMetrics(),this.content=t.insert}get length(){return this.content.length}calTotalWidth(){return ce().measureTextWidth(this.content,this.attributes)}calMetrics(){this.metrics=ce().measureTextMetrics(this.attributes)}toOp(){var t;const e=((t=this.originalAttributes)==null?void 0:t.font)?{font:an.getFontName(this.originalAttributes.font)}:null,n={insert:this.content};return(e!==null||this.originalAttributes&&Object.keys(this.originalAttributes).length>0)&&(n.attributes=Hn(Hn({},this.originalAttributes),e)),n}toHtml(t){const e=t?this.content.substring(t.start.index,t.end.index):this.content;return this.attributes.link?`<a href=${this.attributes.link} style=${yt(this.attributes)}>${e}</a>`:`<span style=${yt(this.attributes)}>${e}</span>`}toText(t){return t?this.content.substring(t.start.index,t.end.index):this.content}insertText(t,e,n){if(t.length===0)return[];if(n){let r=!0;const s=Object.keys(n);for(let o=0;o<s.length;o++)if(!ba()(n[s[o]],this.attributes[s[o]])){r=!1;break}if(r)return this.content=this.content.slice(0,e.index)+t+this.content.slice(e.index),[this];{const o=[],l=this.content.slice(0,e.index),c=this.content.slice(e.index);l&&(this.setContent(l),o.push(this));const d=this.constructor,m=new d;if(m.setContent(t),m.setAttributes(n),m.calMetrics(),o.push(m),c){const S=new d;S.setContent(c),S.setAttributes(this.attributes),S.calMetrics(),o.push(S)}return o}}else return this.content=this.content.slice(0,e.index)+t+this.content.slice(e.index),[this]}insertEnter(t){const e=new this.constructor;return e.setContent(this.content.slice(t.index)),e.setAttributes(this.originalAttributes),e.calMetrics(),this.content=this.content.slice(0,t.index),e}insertFragment(t,e){const n=new this.constructor;return n.setContent(this.content.slice(e.index)),n.setAttributes(this.originalAttributes),n.calMetrics(),this.content=this.content.slice(0,e.index),[this,t,n]}delete(t,e){const{start:n,end:r}=t;let s="",o="";X(t.start,t.end)===0?e?(s=this.content.substr(0,n.index-1),o=this.content.substr(r.index)):(s=this.content.substr(0,n.index),o=this.content.substr(r.index+1)):(s=this.content.substr(0,n.index),o=this.content.substr(r.index)),this.content=s+o,super.delete(t)}format(t,e){if(!e||e.start.index<=0&&e.end.index>=this.length)return this.setAttributes(t),[this];{const n=this.content.substring(0,e.start.index),r=this.content.substring(e.start.index,e.end.index),s=this.content.substring(e.end.index),o=[],l=this.constructor;if(n)if(s){const c=new l;c.content=r,c.setAttributes(Hn(Hn({},this.originalAttributes),t)),c.calMetrics();const d=new l;d.content=s,d.setAttributes(Hn({},this.originalAttributes)),d.calMetrics(),this.content=n,o.push(this,c,d)}else{const c=new l;c.content=r,c.setAttributes(Hn(Hn({},this.originalAttributes),t)),c.calMetrics(),this.content=n,this.calMetrics(),o.push(this,c)}else{const c=new l;c.content=s,c.setAttributes(Hn({},this.originalAttributes)),c.calMetrics(),this.setAttributes(t),this.content=r,this.calMetrics(),o.push(this,c)}return o}}clearFormat(t){const e=Hn({},Ks);delete e.link,delete e.composing,this.format(e,t)}setContent(t){this.content=t,this.calMetrics()}eat(t){return t instanceof Aa&&ba()(this.originalAttributes,t.originalAttributes)?(this.setContent(this.content+t.content),!0):!1}onPointerEnter(){super.onPointerEnter()}onPointerLeave(){super.onPointerLeave()}onPointerTap(){super.onPointerTap(),this.attributes.link&&this.bubbleUp(Te.OPEN_LINK,this.attributes.link)}compileAttributes(){super.compileAttributes(),this.calMetrics()}};let ln=Aa;ln.typeName="";class yi{constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.solidHeight=!1,this.prevSibling=null,this.nextSibling=null,this.isSpace=!1,this.length=1,this.isPointerHover=!1}destroy(){}setSize(e,n){this.width=n,this.height=e}calSize(){return{height:this.calHeight(),width:this.calWidth()}}setPosition(e,n){this.x=e,this.y=n}getCoordinatePosX(e){return e===0?0:this.width}getCursorType(){return Bn.Default}onPointerEnter(e,n){this.isPointerHover=!0,this.frag.onPointerEnter()}onPointerLeave(){this.isPointerHover=!1,this.frag.onPointerLeave()}onPointerMove(e,n){this.frag.onPointerMove()}onPointerDown(e,n){this.frag.onPointerDown()}onPointerUp(e,n){this.frag.onPointerUp()}onPointerTap(e,n){this.frag.onPointerTap()}}yi.typeName="run";var Hu=Object.defineProperty,$u=Object.getOwnPropertyDescriptor,Hf=(t,e,n,r)=>{for(var s=r>1?void 0:r?$u(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Hu(e,n,s),s};let un=class extends yi{constructor(t,e){super();this.content="",this.frag=t,this.setContent(e!=null?e:this.frag.content)}setContent(t){this.content=t,this.length=t.length,this.height=this.calHeight(),this.isSpace=this.content===" "}draw(t,e,n,r){(this.prevSibling===null||this.prevSibling.frag!==this.frag)&&(t.font=ce().createTextFontString(this.frag.attributes),this.frag.attributes.link.length===0?t.fillStyle=this.frag.attributes.color:t.fillStyle="#70b1e7"),t.fillText(this.content,this.x+e,r+n),window.runBorder&&(t.strokeStyle="green",t.strokeRect(this.x+e,this.y+n,this.width,this.height))}calHeight(){return this.height=this.frag.metrics.bottom,this.height}calWidth(){return this.width=ce().measureTextWidth(this.content,this.frag.attributes),this.width}getDocumentPos(t,e,n){if(this.length===1)return t<this.width/2?{index:0,inner:null}:{index:1,inner:null};if(this.length>1){const r=[0];for(let s=1;s<=this.content.length;s++){const o=this.content.substr(0,s),l=ce().measureTextWidth(o,this.frag.attributes);if(r.push(l),l>=t){const c=l-r[s-1];return t-r[s-1]<c/2?s===1?{index:0,inner:null}:{index:s-1,inner:null}:{index:s,inner:null}}}return{index:this.content.length,inner:null}}else return{index:0,inner:null}}getCoordinatePosX(t){return t===0?0:ce().measureTextWidth(this.content.substr(0,t),this.frag.attributes)}getCursorType(){return this.frag.attributes.link.length===0?Bn.Text:Bn.Pointer}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}};un.typeName="run-text",un=Hf([Oe],un);var $f=Object.defineProperty,Uu=Object.getOwnPropertyDescriptor,Uf=(t,e,n,r)=>{for(var s=r>1?void 0:r?Uu(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&$f(e,n,s),s};let zr=class{constructor(t,e,n,r,s=0,o=0){this.children=[],this.head=null,this.tail=null,this.start=0,this.length=0,this.width=0,this.height=0,this.em=new(_()),this.baseline=0,this.linespacing=1.7,this.maxWidth=0,this.minBaseline=0,this.minHeight=0,this.backgroundList=[],this.underlineList=[],this.strikeList=[],this.composingUnderline=[],this.isPointerHover=!1,this.x=t,this.y=e,this.linespacing=n,this.maxWidth=r,this.minBaseline=s,this.minHeight=o}destroy(){}afterAdd(t){let e=this.baseline,n=this.height,r=this.width;t.forEach(s=>{var o,l,c,d,m,S;r=r+s.width;const C=s.solidHeight?1:this.linespacing,z=s instanceof un?ce().convertPt2Px[(l=(o=s.frag)==null?void 0:o.attributes.size)!=null?l:0]:s.height;n=Math.max(n,z*C),e=Math.max(e,(n-((d=(c=s.frag)==null?void 0:c.metrics.bottom)!=null?d:0))/2+((S=(m=s.frag)==null?void 0:m.metrics.baseline)!=null?S:0)),this.length+=s.length,s.setBubbleHandler(this.bubbleUp.bind(this))}),this.setBaseline(e),this.setSize(n,r)}afterRemove(t){t.forEach(e=>{this.length-=e.length,e.setBubbleHandler(null)})}draw(t,e,n){this.backgroundList.forEach(r=>{t.fillStyle=r.background,t.fillRect(r.start+this.x+e,this.y+n,r.end-r.start,this.height)});for(let r=0,s=this.children.length;r<s;r++)this.children[r].draw(t,this.x+e,this.y+n,this.baseline);if(t.lineWidth=1,this.underlineList.forEach(r=>{t.beginPath(),t.moveTo(r.start+this.x+e,r.posY+n),t.lineTo(r.end+this.x+e,r.posY+n),t.strokeStyle=r.color,t.stroke()}),this.composingUnderline.length>0){const r=t.lineWidth;t.lineWidth=1.5,this.composingUnderline.forEach(s=>{t.beginPath(),t.moveTo(s.start+this.x+e,s.posY+n),t.lineTo(s.end+this.x+e,s.posY+n),t.strokeStyle="#67aef9",t.stroke()}),t.lineWidth=r}this.strikeList.forEach(r=>{t.beginPath(),t.moveTo(r.start+this.x+e,r.posY+n),t.lineTo(r.end+this.x+e,r.posY+n),t.strokeStyle=r.color,t.stroke()}),(window.lineBorder||this.isPointerHover)&&(t.save(),t.strokeStyle="red",t.strokeRect(this.x+e,this.y+n,this.width,this.height),t.restore())}layout(t){var e;let n=0,r=0;switch(t){case mn.left:case mn.scattered:n=0;break;case mn.justify:{let ft=this.children.length-1;((e=this.tail)==null?void 0:e.isSpace)&&ft--;const pt=this.children.reduce((wt,Ot,Vt)=>Ot.isSpace&&Vt===this.children.length-1?wt:wt+Ot.width,0);r=(this.maxWidth-pt)/ft,n=0;break}case mn.center:{const ft=this.children.reduce((pt,wt,Ot)=>wt.isSpace&&Ot===this.children.length-1?pt:pt+wt.width,0);n=(this.maxWidth-ft)/2;break}case mn.right:{const ft=this.children.reduce((pt,wt,Ot)=>wt.isSpace&&Ot===this.children.length-1?pt:pt+wt.width,0);n=this.maxWidth-ft;break}}let s=!1,o={start:n,end:0,background:""};const l=this.y+this.baseline+2;let c=!1,d={start:n,end:0,posY:this.calClearPosY(l),color:""},m=!1,S={start:n,end:0,posY:this.calClearPosY(l)},C=!1,z={start:n,end:0,posY:.5,color:""},V=null,ot=this.head;for(;ot==null?void 0:ot.frag;)ot.y=this.baseline-ot.frag.metrics.baseline,ot.x=Math.min(this.maxWidth,ot.prevSibling===null?n:ot.prevSibling.x+ot.prevSibling.width+r),t===mn.justify&&ot.prevSibling&&ot.prevSibling.setSize(ot.prevSibling.height,ot.x-ot.prevSibling.x),s?ot.frag.attributes.background!==o.background&&(o.end=ot.x,this.backgroundList.push(o),s=!1,o={start:n,end:0,background:""},ot.frag.attributes.background!==bn.background&&(o.start=ot.x,o.background=ot.frag.attributes.background,s=!0)):ot.frag.attributes.background!==bn.background&&(o.start=ot.x,o.background=ot.frag.attributes.background,s=!0),c?(ot.frag.attributes.color!==d.color||!ot.frag.attributes.underline)&&(d.end=ot.x,this.underlineList.push(d),c=!1,d={start:n,end:0,posY:this.calClearPosY(l),color:""},ot.frag.attributes.underline!==bn.underline&&(d.start=ot.x,d.color=ot.frag.attributes.color,c=!0)):ot.frag.attributes.underline!==bn.underline&&(d.start=ot.x,d.color=ot.frag.attributes.color,c=!0),m?(!(ot.frag instanceof ln)||!ot.frag.attributes.composing)&&(S.end=ot.x,this.composingUnderline.push(S),m=!1,S={start:n,end:0,posY:this.calClearPosY(l)}):ot.frag.attributes.composing&&(S.start=ot.x,m=!0),C?ot.frag!==V&&(z.end=ot.x,this.strikeList.push(z),C=!1,V=null,z={start:n,end:0,posY:.5,color:""},ot.frag.attributes.strike!==bn.strike&&(z.start=ot.x,z.color=ot.frag.attributes.color,z.posY=this.calClearPosY(this.y+this.baseline-(ot.frag.metrics.baseline-ot.frag.metrics.xTop)/2),C=!0,V=ot.frag)):ot.frag.attributes.strike!==bn.strike&&(z.start=ot.x,z.color=ot.frag.attributes.color,z.posY=this.calClearPosY(this.y+this.baseline-(ot.frag.metrics.baseline-ot.frag.metrics.xTop)/2),C=!0,V=ot.frag),ot=ot.nextSibling;s&&(o.end=this.tail.x+this.tail.width,this.backgroundList.push(o)),c&&(d.end=this.tail.x+this.tail.width,this.underlineList.push(d)),m&&(S.end=this.tail.x+this.tail.width,this.composingUnderline.push(S)),C&&(z.end=this.tail.x+this.tail.width,this.strikeList.push(z)),this.tail!==null&&this.setSize(this.height,this.tail.x+this.tail.width)}getChildrenStackByPos(t,e){const n=[this],r=Zt(t,e,this.children,!1);return r&&n.push(r),n}getCursorType(){return Bn.Default}addLast(t){throw new Error("Method not implemented.")}addAfter(t,e){throw new Error("Method not implemented.")}addBefore(t,e){throw new Error("Method not implemented.")}addAtIndex(t,e){throw new Error("Method not implemented.")}addAll(t){throw new Error("Method not implemented.")}removeAll(){throw new Error("Method not implemented.")}remove(t){throw new Error("Method not implemented.")}removeAllFrom(t){throw new Error("Method not implemented.")}splice(t,e,n){return[]}findIndex(t){throw new Error("Method not implemented.")}onPointerEnter(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}setSize(t,e){this.width=e,this.height=Math.max(this.minHeight,t),this.bubbleUp(Te.LINE_CHANGE_SIZE,{width:this.width,height:this.height},[this])}setBaseline(t){this.baseline=Math.max(t,this.minBaseline)}calClearPosY(t){return Math.floor(t)+.5}};zr=Uf([Oe,Jn,Hr],zr);var Wf=Object.defineProperty,Gf=Object.defineProperties,Ea=Object.getOwnPropertyDescriptors,Wu=Object.getOwnPropertySymbols,zf=Object.prototype.hasOwnProperty,jf=Object.prototype.propertyIsEnumerable,Gu=(t,e,n)=>e in t?Wf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xf=(t,e)=>{for(var n in e||(e={}))zf.call(e,n)&&Gu(t,n,e[n]);if(Wu)for(var n of Wu(e))jf.call(e,n)&&Gu(t,n,e[n]);return t},ve=(t,e)=>Gf(t,Ea(e));const de=ve(Xf({},bn),{size:11});var Kf=Object.defineProperty,zu=Object.getOwnPropertySymbols,Yf=Object.prototype.hasOwnProperty,Zf=Object.prototype.propertyIsEnumerable,ju=(t,e,n)=>e in t?Kf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jf=(t,e)=>{for(var n in e||(e={}))Yf.call(e,n)&&ju(t,n,e[n]);if(zu)for(var n of zu(e))Zf.call(e,n)&&ju(t,n,e[n]);return t};const Zs=class extends or{constructor(){super(...arguments);this.defaultAttributes=de,this.attributes=Jf({},de)}get typeName(){return Zs.typeName}readFromOps(t){this.calMetrics()}calMetrics(){this.metrics=ce().measureTextMetrics({bold:!1,size:this.attributes.size,font:an.getFontValue("Default")})}toOp(t){const e={insert:1,attributes:{frag:Zs.typeName}};return t&&(e.key=this.id),e}toHtml(){return""}toText(){return`
`}compileAttributes(){super.compileAttributes(),this.calMetrics()}lastPos(){return{index:0,inner:null}}};let Qn=Zs;Qn.typeName="end";const Ne={align:mn.left,indent:0,linespacing:1.7};var Pa=Object.defineProperty,es=Object.getOwnPropertyDescriptor,Ca=Object.getOwnPropertySymbols,Ta=Object.prototype.hasOwnProperty,Tn=Object.prototype.propertyIsEnumerable,Ia=(t,e,n)=>e in t?Pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yn=(t,e)=>{for(var n in e||(e={}))Ta.call(e,n)&&Ia(t,n,e[n]);if(Ca)for(var n of Ca(e))Tn.call(e,n)&&Ia(t,n,e[n]);return t},Xu=(t,e,n,r)=>{for(var s=r>1?void 0:r?es(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Pa(e,n,s),s};function Ku(t){return class extends t{bubbleUp(n,r,s){if(n==="LINE_CHANGE_SIZE"){this.childrenSizeChangeHandler();return}super.bubbleUp(n,r,s)}}}function Yu(t){return class extends t{setOverrideDefaultAttributes(n){this.children.forEach(r=>{r.setOverrideDefaultAttributes(n)}),super.setOverrideDefaultAttributes(n)}setOverrideAttributes(n){this.children.forEach(r=>{r.setOverrideAttributes(n)}),super.setOverrideAttributes(n)}compileAttributes(){super.compileAttributes(),this.calcIndentWidth()}}}let $n=class{constructor(){this.children=[],this.head=null,this.tail=null,this.prevSibling=null,this.nextSibling=null,this.start=0,this.length=0,this.x=0,this.y=0,this.width=0,this.height=0,this.maxWidth=0,this.firstIndent=0,this.indentWidth=0,this.lines=[],this.id=$(),this.attributes=yn({},Ne),this.defaultAttributes=Ne,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.minBaseline=0,this.minLineHeight=0,this.isPointerHover=!1}readFromOps(t){this.setAttributes(t[t.length-1].attributes);const e=this.readOpsToFragment(t);this.addAll(e),this.calLength()}readOpsToFragment(t){var e;const n=[];for(let r=0;r<t.length;r++){const s=t[r],o=((e=s.attributes)==null?void 0:e.frag)||"",l=xu(o);if(l)if(typeof s.insert=="number")for(let c=0;c<s.insert;c++){const d=new l;d.readFromOps({insert:1,attributes:yn({},s.attributes)}),n.push(d)}else{const c=new l;c.readFromOps(s),n.push(c)}else console.log("unknown fragment type: ",o)}return n}destroy(){}addLine(t){this.lines.push(t),t.setBubbleHandler(this.bubbleUp.bind(this));const e=Math.max(this.width,t.x+t.width),n=this.height+t.height;this.setSize(n,e)}draw(t,e,n,r){for(let s=0,o=this.lines.length;s<o;s++){const l=this.lines[s];n+this.y+l.y+l.height>=0&&l.y<r&&l.draw(t,this.x+e,this.y+n)}(window.frameBorder||this.isPointerHover)&&(t.save(),t.strokeStyle="blue",t.strokeRect(this.x+e,this.y+n,this.width,this.height),t.restore())}layout(){this.lines=[],this.addLine(new zr(this.firstIndent+this.indentWidth,0,this.attributes.linespacing,this.maxWidth-this.firstIndent-this.indentWidth,this.minBaseline,this.minLineHeight)),this.breakLines(this.calLineBreakPoint());const t=this.lines.length;let e=this.attributes.align===mn.scattered?mn.justify:this.attributes.align;for(let n=0;n<t;n++){const r=this.lines[n];for(let s=0;s<r.children.length;s++){const o=r.children[s];if(o instanceof un&&o.content.length>1&&(F(o.content[0])||F(o.content[o.content.length-1]))){const l=o.content.split("").map(c=>{const d=we(un.typeName,o.frag);return d.setContent(c),d.setSize(o.height,d.calWidth()),d.isSpace=!1,d});r.splice(s,1,l)}}n===t-1&&this.attributes.align===mn.justify&&(e=mn.left),this.lines[n].layout(e),n===0?r.start=0:r.start=this.lines[n-1].start+this.lines[n-1].length}}setMaxWidth(t){this.maxWidth=t}setFirstIndent(t){this.firstIndent=t}setMinMetrics(t){this.minBaseline=t.baseline,this.minLineHeight=t.bottom}getDocumentPos(t,e,n){let r=null,s=0,o=t;for(const S=this.lines.length;s<S;s++)if(r=this.lines[s],r.y<=e&&e<=r.y+r.height||e<r.y&&s===0||e>r.y+r.height&&s===this.lines.length-1){s++;break}if(s--,r===null)return{index:0,inner:null};let l=null,c=0,d=0;if(e<r.y?o=-1:e>r.y+r.height&&(o=r.width+1),o<=r.x)l=r.head;else if(o>=r.x+r.width)l=r.tail,c=r.children.length-1,d=r.length-l.length;else{o=o-r.x;for(const S=r.children.length;c<S;c++){l=r.children[c];const C=l.x+l.width;if(l.x<=o&&o<=C||l.nextSibling!==null&&C<o&&o<l.nextSibling.x)break;d+=l.length}}if(l===null)return{index:0,inner:null};const m=l.getDocumentPos(o-l.x,e-r.y-l.y,n);return m.index+=r.start+d,m}getSelectionRectangles(t,e){const n=t.index,s=e.index-n+(e.inner!==null?1:0),o=[];for(let l=0;l<this.lines.length;l++){const c=this.lines[l];if(c.start+c.length<n)continue;if(c.start>n+s)break;const d=Math.max(0,n-c.start),m=Math.min(s,n+s-c.start);let S=0,C=0,z=0;for(let V=0;V<c.children.length;V++){const ot=c.children[V];if(d>=S&&d<=S+ot.length&&(C=ot.getCoordinatePosX(d-S)+ot.x+c.x),S+ot.length===m+d)z=ot.x+ot.width+c.x;else if(m+d<S+ot.length){z=ot.getCoordinatePosX(m+d-S)+ot.x+c.x;break}z=z||c.width+c.x,S+=ot.length}o.push({x:C+this.x,y:c.y+this.y,width:z-C,height:c.height})}return o}setPositionY(t,e=!0,n=!1){if((n===!0||this.y!==t)&&(this.y=Math.floor(t),e)){let r=this,s=this.nextSibling;for(;s!==null;)s.y=Math.floor(r.y+r.height),r=s,s=r.nextSibling}}setStart(t,e=!1,n=!1){if((n===!0||this.start!==t)&&(this.start=t,e)){let r=this,s=r.nextSibling;for(;s!==null;)s.start=r.start+r.length,r=s,s=r.nextSibling}}toOp(t){const e=new Array(this.children.length);for(let n=0;n<this.children.length;n++){const r=this.children[n];e[n]=r.toOp(t)}return Object.assign(e[e.length-1].attributes,yn({},this.originalAttributes)),e}toHtml(t){const e=`line-height:${this.attributes.linespacing};text-align:${this.attributes.align};padding-left:${this.attributes.indent}px;`,n=Me(this,t);return`<div style=${e}>${n}</div>`}toText(t){return Zn(this,t)}insertText(t,e,n){let r=!1;const s=Rt(e.index,this.children,!0),o=this.children[s];if(!o)return r;if(o.start===e.index&&e.inner===null)if(n){const l=we("");l.setContent(t),l.setAttributes(n),this.addBefore(l,o),o instanceof ln&&l.eat(o)&&this.remove(o),r=!0}else if(o.prevSibling)if(o.prevSibling instanceof ln){const l=o.prevSibling.insertText(t,{index:o.prevSibling.length,inner:null});l.length>0&&this.splice(s-1,1,l),r=l.length>0}else{const l=we("");l.setContent(t),this.addBefore(l,o),o instanceof ln&&l.eat(o)&&this.remove(o),r=!0}else if(o instanceof ln){const l=o.insertText(t,{index:0,inner:null});l.length>0&&this.splice(s,1,l),r=l.length>0}else{const l=we("");l.setContent(t),this.addBefore(l,o),r=!0}else{const l=o.insertText(t,{index:e.index-o.start,inner:e.inner},n);l.length>0&&this.splice(s,1,l),r=l.length>0}return this.calLength(),r}insertEnter(t,e){var n,r;const s=vt(t.index,this.children,!0);if(!s)return null;const o=this.constructor;if(s.start===t.index){const l=we(Qn.typeName),c=yn(yn(yn({},(n=this.tail)==null?void 0:n.attributes),(r=s.prevSibling)==null?void 0:r.attributes),e);l.setAttributes(c),l.calMetrics(),s.start===0?this.addAtIndex(l,0):this.addBefore(l,s);const d=this.removeAllFrom(l.nextSibling),m=new o;return m.setAttributes(yn(yn({},this.originalAttributes),e)),m.addAll(d),m.calLength(),this.calLength(),m}else{const l=s.insertEnter({index:t.index-s.start,inner:t.inner});if(l){const c=we(Qn.typeName),d=yn(yn({},s.originalAttributes),e);c.setAttributes(d),c.calMetrics();const m=this.removeAllFrom(s.nextSibling);this.addAfter(c,s);const S=new o;return S.setAttributes(yn(yn({},this.originalAttributes),e)),S.addLast(l),S.addAll(m),S.calLength(),this.calLength(),S}else return null}}insertFragment(t,e){const n=Rt(e.index,this.children,!0),r=this.children[n];if(!(n<0)){if(r.start===e.index&&e.inner===null)this.addBefore(t,r),this.mergeFragment();else{const s=r.insertFragment(t,D(r.start,e));s.length&&this.splice(n,1,s)}this.calLength()}}tryInsertBlock(t,e){const n=Rt(e.index,this.children,!0),r=this.children[n];return n<0||r.start===e.index&&e.inner===null?!1:r.insertBlock(t,D(r.start,e))}delete(t,e){Se(this,t,e),this.mergeFragment(),this.calLength()}format(t,e){this.formatSelf(t);let n=null,r=null;if(e){const s=Rt(e.start.index,this.children,!0),o=this.children[s];let l=Rt(e.end.index,this.children,!0),c=this.children[l];if(!o||!c)return;if(o!==c&&c.prevSibling&&c.start===e.end.index&&e.end.inner===null&&(c=c.prevSibling,l--),n=o.prevSibling||this.head,r=c.nextSibling||this.tail,o===c){const d=o.format(t,{start:D(o.start,e.start),end:D(c.start,e.end)});d.length>0&&this.splice(s,1,d)}else{let d=l,m=c;for(;m;){let S=[];if(m===o){m.start===e.start.index&&e.start.inner===null?S=m.format(t):S=m.format(t,{start:{index:e.start.index-m.start,inner:e.start.inner},end:{index:m.start+m.length,inner:null}}),S.length>0&&this.splice(d,1,S);break}else m===c?m.start+m.length===e.end.index&&e.end.inner===null?S=m.format(t):S=m.format(t,{start:{index:0,inner:null},end:{index:e.end.index-m.start,inner:e.end.inner}}):S=m.format(t);S.length>0&&this.splice(d,1,S),m=m.prevSibling,d--}}}else{n=this.head,r=this.tail;for(let s=this.children.length-1;s>=0;s--){const l=this.children[s].format(t);l.length>0&&this.splice(s,1,l)}}if(n&&r){let s=n;for(;s==null?void 0:s.nextSibling;)s.eat(s.nextSibling)?this.remove(s.nextSibling):s=s.nextSibling}}clearFormat(t){this.setAttributes(Ne);const e=ne(this,t);if(e){let n=e.start;for(;n==null?void 0:n.nextSibling;)n.eat(n.nextSibling)?this.remove(n.nextSibling):n=n.nextSibling}}getFormat(t){const e=t?Ut(this,[t],"left"):Ut(this);return Pt(this.attributes,e),e}setIndent(t){const e=this.attributes.indent;let r=e+(t?1:-1);return r=Math.min(r,8),r=Math.max(r,0),e!==r?(this.setAttributes({indent:r}),this.calcIndentWidth(),!0):!1}eat(t){const e=this.tail;this.addAll(t.children),e instanceof ln&&e.nextSibling instanceof ln&&ba()(e.attributes,e.nextSibling.attributes)&&(e.content=e.content+e.nextSibling.content,this.remove(e.nextSibling)),this.calLength()}calLength(){this.length=0;for(let t=0;t<this.children.length;t++)this.length+=this.children[t].length}search(t){const e=[],n=[];for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r];if(o instanceof ln)n.push(o);else if(n.length>0){const l=n.map(d=>d.content).join(""),c=Ct(t,l);if(c.length>0)for(let d=0;d<c.length;d++){c[d]+=n[0].start;const m=c[d],S=this.getSelectionRectangles({index:m,inner:null},{index:m+t.length,inner:null});e.push({pos:{index:m,inner:null},rects:S})}n.length=0}}return e}getChildrenStackByPos(t,e){const n=Zt(t,e,this.lines);let r;return n?(r=n.getChildrenStackByPos(t-n.x,e-n.y),r.unshift(this)):r=[this],r}getCursorType(){return Bn.Default}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextPos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}prevPos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}firstLinePos(t){return this.lines.length>0?this.getDocumentPos(t,this.lines[0].y+this.lines[0].height/2,!1):null}lastLinePos(t){return this.lines.length>0?this.getDocumentPos(t,this.lines[this.lines.length-1].y+this.lines[this.lines.length-1].height/2,!1):null}nextLinePos(t,e){const n=this.findSelectionTargetLineIndex(t,e);if(n!==null&&n<this.lines.length-1){const r=this.lines[n+1];return this.getDocumentPos(e,r.y+r.height/2,!1)}return null}prevLinePos(t,e){const n=this.findSelectionTargetLineIndex(t,e);if(n!==null&&n>0){const r=this.lines[n-1];return this.getDocumentPos(e,r.y+r.height/2,!1)}return null}lineStartPos(t,e){const n=t.index;for(let r=this.lines.length-1;r>=0;r--){const s=this.lines[r];if(s.start<=n&&s.start+s.length>=n&&s.y<=e&&s.y+s.height>=e&&s.head)return{index:s.start,inner:null}}return null}lineEndPos(t,e){const n=t.index;for(let r=this.lines.length-1;r>=0;r--){const s=this.lines[r];if(s.start<=n&&s.start+s.length>=n&&s.y<=e&&s.y+s.height>=e&&s.tail)return s!==this.lines[this.lines.length-1]?{index:s.start+s.length,inner:null}:this.lastPos()}return null}onPointerEnter(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}afterAdd(t){t.forEach(e=>{e.setOverrideDefaultAttributes(this.overrideDefaultAttributes),e.setOverrideAttributes(this.overrideAttributes),e.setBubbleHandler(this.bubbleUp.bind(this))})}afterRemove(t){t.forEach(e=>{e.setOverrideDefaultAttributes(null),e.setOverrideAttributes(null),e.setBubbleHandler(null)})}addLast(t){throw new Error("Method not implemented.")}addAfter(t,e){throw new Error("Method not implemented.")}addBefore(t,e){throw new Error("Method not implemented.")}addAtIndex(t,e){throw new Error("Method not implemented.")}addAll(t){throw new Error("Method not implemented.")}removeAll(){throw new Error("Method not implemented.")}remove(t){throw new Error("Method not implemented.")}removeAllFrom(t){throw new Error("Method not implemented.")}splice(t,e,n){throw new Error("Method not implemented.")}findIndex(t){throw new Error("Method not implemented.")}setOverrideDefaultAttributes(t){throw new Error("Method not implemented.")}setOverrideAttributes(t){throw new Error("Method not implemented.")}setAttributes(t){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(t){const e=[];e.push([this]);const n=vt(t.start.index,this.children,!0),r=vt(t.end.index,this.children,!0);if(n&&r)if(n===r)e.push([[n]]);else{const s=[];let o=n;for(;o;)s.push(o),o=o.nextSibling;e.push([s])}return e}calcIndentWidth(){this.indentWidth=this.attributes.indent>0?this.attributes.indent*20+6:0}childrenSizeChangeHandler(){const t=this.calSize();this.setSize(t.height,t.width)}calLineBreakPoint(){const t=[],e=[];for(let n=0,r=this.children.length;n<r;n++){const s=this.children[n];if(s instanceof ln)e.push(s);else{t.push(...this.constructLayoutPieces(e)),e.length=0;const o=new Xs(!0);o.frags=[{frag:s,start:0,end:1}],o.calTotalWidth(),t.push(o)}}return t}formatSelf(t){this.setAttributes(t)}constructLayoutPieces(t){if(t.length===0)return[];const e=[],n=t.map(c=>c.content).join(""),r=new(kf())(n);let s=t[0].start,o=r.nextBreak(),l=0;for(;o;){const c=n.slice(l,o.position);l=o.position,o=r.nextBreak();const d=Ff()(c);let m=c.length-d.length;const S=m;if(m>0){const V=new Xs(!1);for(V.isSpace=!0,V.text="";m>0;)V.text+=" ",m--;V.frags=this.getFragsForLayoutPiece(t,V,s),V.calTotalWidth(),e.push(V),s+=S}const C=d.trim();let z=d.length-C.length;if(C.length>0){const V=new Xs(!1);V.isSpace=!1,V.text=C;const ot=this.getFragsForLayoutPiece(t,V,s);V.frags=ot,V.calTotalWidth(),e.push(V)}if(s+=C.length,z>0){const V=z,ot=new Xs(!1);for(ot.isSpace=!0,ot.text="";z>0;)ot.text+=" ",z--;ot.frags=this.getFragsForLayoutPiece(t,ot,s),ot.calTotalWidth(),e.push(ot),s+=V}}return e}getFragsForLayoutPiece(t,e,n){const r=[];for(let s=0,o=t.length;s<o;s++){const l=t[s];l.start+l.length-1<n||l.start>=n+e.text.length||r.push({start:Math.max(n,l.start)-n,end:Math.min(n+e.text.length,l.start+l.length)-n,frag:l})}return r}breakLines(t){for(let e=0,n=t.length;e<n;e++){let r=this.lines[this.lines.length-1];const s=Math.max(this.maxWidth-r.x-r.width,0),o=t[e];if(o.totalWidth<=s||o.isSpace)if(o.isHolder){const l=Hs(o.frags[0].frag),c=l.calSize();l.setSize(c.height,c.width),r.addLast(l)}else if(o.frags.length===1){const l=we(un.typeName,o.frags[0].frag);l.setContent(o.text),l.setSize(l.calHeight(),o.totalWidth),l.isSpace=o.isSpace,r.addLast(l)}else for(let l=0,c=o.frags.length;l<c;l++){const d=o.frags[l],m=we(un.typeName,d.frag);m.setContent(o.text.substring(d.start,d.end)),m.setSize(m.calHeight(),o.fragWidth[l]),m.isSpace=o.isSpace,r.addLast(m)}else{if(r.children.length>0){this.addLine(new zr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight)),e--;continue}else if(o.isHolder){const c=Hs(o.frags[0].frag),d=c.calSize();c.setSize(d.height,d.width),r.addLast(c),this.addLine(new zr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight));continue}let l=0;for(;l<o.frags.length;){let c=this.maxWidth-r.x-r.width;const d=o.frags[l];if(o.fragWidth[l]<=c){const m=we(un.typeName,d.frag);m.setContent(o.text.substring(d.start,d.end)),m.setSize(m.calHeight(),o.fragWidth[l]),m.isSpace=o.isSpace,r.addLast(m),c-=o.fragWidth[l]}else{let m=0;for(;d.start+m<d.end;)for(let S=d.end-d.start-m;S>0;S--){const C=o.text.substr(d.start+m,S),z=ce().measureTextWidth(C,d.frag.attributes);if(z<=c){const V=we(un.typeName,d.frag);V.setContent(C),V.setSize(V.calHeight(),z),V.isSpace=o.isSpace,r.addLast(V),c-=z,m+=S,d.start+m<d.end&&(r=new zr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight),this.addLine(r),c=this.maxWidth-r.x-r.width);break}else if(S===1)if(r.children.length===0){const V=we(un.typeName,d.frag);V.setContent(C),V.setSize(V.calHeight(),z),V.isSpace=o.isSpace,r.addLast(V),m+=1}else{r=new zr(this.indentWidth,Math.floor(r.y+r.height),this.attributes.linespacing,this.maxWidth-this.indentWidth,this.minBaseline,this.minLineHeight),this.addLine(r),S=d.end-m+2,c=this.maxWidth-r.x-r.width;break}}}l++}}}}setSize(t,e){this.width=e,this.height=t}mergeFragment(){if(this.children.length<2)return!1;let t=!1;for(let e=this.children.length-2;e>=0;e--){const n=this.children[e],r=this.children[e+1];n.eat(r)&&(this.remove(r),t=!0)}return t}calSize(){let t=0,e=0;this.lines.forEach(r=>{t=Math.max(t,r.x+r.width)});const n=this.lines[this.lines.length-1];return e=n.y+n.height,{width:t,height:e}}findSelectionTargetLineIndex(t,e){const n=[],r=t.index;for(let s=this.lines.length-1;s>=0;s--){const o=this.lines[s];if(o.start<r&&o.start+o.length>r)return s;(o.start===r||o.start+o.length===r)&&n.push(s)}if(n.length===1)return n[0];if(n.length>1){const s=n.map(c=>{const d=this.lines[c];return Math.abs(d.start===r?d.x-e:d.x+d.width-e)});let o=1/0,l=0;return s.forEach((c,d)=>{c<o&&(l=d,o=c)}),n[l]}return null}};$n.typeName="frame",$n=Xu([Ku,Oe,Jn,Hr,Yu,vi,$r],$n);var xn=Object.defineProperty,Zu=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Vf=Object.prototype.propertyIsEnumerable,Oa=(t,e,n)=>e in t?xn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ar=(t,e)=>{for(var n in e||(e={}))In.call(e,n)&&Oa(t,n,e[n]);if(Zu)for(var n of Zu(e))Vf.call(e,n)&&Oa(t,n,e[n]);return t};class xi{constructor(){this.id=$(),this.prevSibling=null,this.nextSibling=null,this.start=0,this.length=0,this.x=0,this.y=0,this.width=0,this.height=0,this.needLayout=!0,this.needMerge=!1,this.isPointerHover=!1}destroy(){this.prevSibling=null,this.nextSibling=null,this.needLayout=!1}draw(e,n,r,s){window.blockBorder&&(e.save(),e.strokeStyle="green",e.strokeRect(this.x+n,this.y+r,this.width,this.height),e.restore())}setPositionY(e,n=!0,r=!1){if((r===!0||this.y!==e)&&(this.y=Math.floor(e),n&&!this.needLayout)){let s=this,o=this.nextSibling;for(;o!==null;)o.y=Math.floor(s.y+s.height),s=o,o=s.nextSibling;this.bubbleUp(Te.UPDATE_CONTENT_HEIGHT,null)}}setStart(e,n=!1,r=!1,s=!1){if((r===!0||this.start!==e)&&(this.start=e,n)){let o=this,l=o.nextSibling;for(;l!==null&&!(s&&l.start===o.start+o.length);)l.start=o.start+o.length,o=l,l=o.nextSibling;this.bubbleUp(Te.UPDATE_CONTENT_LENGTH,null)}}setHeight(e){this.height!==e&&(this.height=e),this.nextSibling===null&&this.bubbleUp(Te.UPDATE_CONTENT_HEIGHT,null)}setWidth(e){this.width!==e&&(this.width=e)}getCursorType(){return Bn.Default}isHungry(){return!1}eat(e){return!1}applyChanges(e){}correctSelectionPos(e,n){return[{start:e,end:n}]}readOpsToLayoutFrame(e){var n;const r=[],s=[];for(let o=0;o<e.length;o++){const l=e[o];if(((n=l.attributes)==null?void 0:n.frag)==="end"&&typeof l.insert=="number"){s.push({insert:1,attributes:ar({},l.attributes)});const c=we($n.typeName);c.readFromOps(s),r.push(c);for(let d=0;d<l.insert-1;d++){const m=we($n.typeName);m.readFromOps([{insert:1,attributes:ar({},l.attributes)}]),r.push(m)}s.length=0}else s.push(l)}return r}formatSelf(e,n){}clearSelfFormat(e){}setBlockOpAttribute(e,n){return e.length===0?!1:(Object.assign(e[e.length-1].attributes,{block:n}),!0)}}xi.typeName="block";const ns={height:0};var me=Object.defineProperty,Pr=Object.getOwnPropertyDescriptor,Js=Object.getOwnPropertySymbols,Qf=Object.prototype.hasOwnProperty,Da=Object.prototype.propertyIsEnumerable,Ju=(t,e,n)=>e in t?me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,La=(t,e)=>{for(var n in e||(e={}))Qf.call(e,n)&&Ju(t,n,e[n]);if(Js)for(var n of Js(e))Da.call(e,n)&&Ju(t,n,e[n]);return t},qf=(t,e,n,r)=>{for(var s=r>1?void 0:r?Pr(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&me(e,n,s),s};let rs=class{constructor(){this.id=$(),this.children=[],this.head=null,this.tail=null,this.prevSibling=null,this.nextSibling=null,this.parent=null,this.x=0,this.y=0,this.width=0,this.height=0,this.attributes=La({},ns),this.defaultAttributes=ns,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.contentMinHeight=0}get start(){return this.prevSibling===null?0:this.prevSibling.start+1}get length(){return this.children.length}readFromOps(t){var e,n;const r=t[0].insert,s=(n=(e=t[0])==null?void 0:e.attributes)==null?void 0:n.height;typeof s=="number"&&(this.attributes.height=s);const o=r.ops.map(l=>{const c=new mi;return c.readFromOps([l]),c});this.addAll(o),o.forEach(l=>{l.parent=this})}toOp(t){const e=this.children.map(r=>r.toOp(t)),n={insert:new(y())(e)};return t&&(n.key=this.id),this.originalAttributes&&Object.keys(this.originalAttributes).length>0&&(n.attributes=La({},this.originalAttributes)),n}setHeight(t){t>=this.contentMinHeight&&(this.height=t)}setHeightAttribute(t){this.setAttributes({height:t})}setContentMinHeight(t){this.contentMinHeight=t}setPositionY(t,e=!0,n=!1){if((n===!0||this.y!==t)&&(this.y=Math.floor(t),e)){let r=this,s=this.nextSibling;for(;s!==null;)s.y=Math.floor(r.y+r.height),r=s,s=r.nextSibling}}destroy(){throw new Error("Method not implemented.")}draw(t,e,n,r){for(let s=0;s<this.children.length;s++)this.children[s].draw(t,this.x+e,this.y+n,r)}drawBorder(t,e,n){for(let r=0;r<this.children.length;r++)this.children[r].drawBorder(t,this.x+e,this.y+n)}getCursorType(){return Bn.ColResize}format(t,e){var n,r;if(this.setAttributes(t),e&&(e.start.inner||e.end.inner)){const s={start:(n=e.start.inner)!=null?n:{index:0,inner:null},end:(r=e.end.inner)!=null?r:{index:this.children.length,inner:null}};if(s){const o=vt(s.start.index,this.children,!0);let l=vt(s.end.index,this.children,!0);if(!o||!l||(l=l.start===s.end.index&&s.end.inner===null?l.prevSibling:l,!o||!l))return;if(o===l)o.format(t,{start:D(o.start,s.start),end:D(l.start,s.end)});else{let c=l;for(;c;){if(c===o){c.start===s.start.index&&s.start.inner===null?c.format(t):c.format(t,{start:{index:s.start.index-c.start,inner:s.start.inner},end:{index:c.start+1,inner:null}});break}else c===l?c.start+1===s.end.index&&s.end.inner===null?c.format(t):c.format(t,{start:{index:0,inner:null},end:{index:s.end.index-c.start,inner:s.end.inner}}):c.format(t);c=c.prevSibling}}}else for(let o=0;o<this.children.length;o++)this.children[o].format(t)}else for(let s=0;s<this.children.length;s++)this.children[s].format(t)}clearFormat(t){var e,n;if(this.setAttributes(La({},ns)),t&&(t.start.inner||t.end.inner)){const r={start:(e=t.start.inner)!=null?e:{index:0,inner:null},end:(n=t.end.inner)!=null?n:{index:this.children.length,inner:null}};if(r){const s=vt(r.start.index,this.children,!0);let o=vt(r.end.index,this.children,!0);if(!s||!o||(o=o.start===r.end.index&&r.end.inner===null?o.prevSibling:o,!s||!o))return;if(s===o)s.clearFormat({start:D(s.start,r.start),end:D(o.start,r.end)});else{let l=o;for(;l;){if(l===s){l.start===r.start.index&&r.start.inner===null?l.clearFormat():l.clearFormat({start:{index:r.start.index-l.start,inner:r.start.inner},end:{index:l.start+1,inner:null}});break}else l===o?l.start+1===r.end.index&&r.end.inner===null?l.clearFormat():l.clearFormat({start:{index:0,inner:null},end:{index:r.end.index-l.start,inner:r.end.inner}}):l.clearFormat();l=l.prevSibling}}}else for(let s=0;s<this.children.length;s++)this.children[s].clearFormat()}else for(let r=0;r<this.children.length;r++)this.children[r].clearFormat()}getFormat(t){var e,n;let r={};return t?((e=t.start)==null?void 0:e.inner)&&((n=t.end)==null?void 0:n.inner)?r=Ut(this,[{start:t.start.inner,end:t.end.inner}]):r={}:r=Ut(this),Pt(this.attributes,r),r}lastLinePos(t){let e=0,n=this.children[e];for(let o=0;o<this.children.length;o++){const l=this.children[o];if(o===0&&t<=l.x||_t(l.x,l.x+l.width,t,t)||o===this.children.length-1&&t>=l.x+l.width){e=o,n=l;break}}const r=t-n.x,s=n.lastLinePos(r);return s?{index:e,inner:s}:null}firstLinePos(t){let e=0,n=this.children[e];for(let o=0;o<this.children.length;o++){const l=this.children[o];if(o===0&&t<=l.x||_t(l.x,l.x+l.width,t,t)||o===this.children.length-1&&t>=l.x+l.width){e=o,n=l;break}}const r=t-n.x,s=n.firstLinePos(r);return s?{index:e,inner:s}:null}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}onPointerEnter(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerLeave(){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerMove(t,e,n,r){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerDown(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerUp(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}onPointerTap(t,e){throw new Error("Need IPointerInteractiveDecorator to implement.")}afterAdd(t){t.forEach(e=>{e.setBubbleHandler(this.bubbleUp.bind(this))})}afterRemove(t){t.forEach(e=>{e.setBubbleHandler(null)})}addLast(t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAfter(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addBefore(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAtIndex(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAll(t){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAll(){throw new Error("this method should be implemented in ILinkedListDecorator")}remove(t){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAllFrom(t){throw new Error("this method should be implemented in ILinkedListDecorator")}splice(t,e,n){throw new Error("this method should be implemented in ILinkedListDecorator")}findIndex(t){throw new Error("this method should be implemented in ILinkedListDecorator")}setAttributes(t){throw new Error("Method not implemented.")}setOverrideDefaultAttributes(t){throw new Error("Method not implemented.")}setOverrideAttributes(t){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(t){const e=[];if(e.push([this]),t.start.inner&&t.end.inner){const n=vt(t.start.inner.index,this.children,!0),r=vt(t.end.inner.index,this.children,!0);if(n&&r)if(n===r)e.push(...n.getSelectedElement({start:D(n.start,t.start.inner),end:D(n.start,t.end.inner)}));else{const s=[];let o=n;for(;o;)s.push(o),o=o.nextSibling;e.push([s])}}return e}};rs=qf([di,Oe,Jn,Hr,vi],rs);const is={width:0,colWidth:[0]};class wi{constructor(){this.containerWidth=650,this.containerHeight=670,this.canvasWidth=616,this.canCopy=!0,this.canEdit=!0}}var Vs=new wi,Ra=Object.defineProperty,Vu=Object.defineProperties,Fa=Object.getOwnPropertyDescriptor,ka=Object.getOwnPropertyDescriptors,Ma=Object.getOwnPropertySymbols,td=Object.prototype.hasOwnProperty,Na=Object.prototype.propertyIsEnumerable,Qs=(t,e,n)=>e in t?Ra(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qu=(t,e)=>{for(var n in e||(e={}))td.call(e,n)&&Qs(t,n,e[n]);if(Ma)for(var n of Ma(e))Na.call(e,n)&&Qs(t,n,e[n]);return t},qu=(t,e)=>Vu(t,ka(e)),wn=(t,e,n,r)=>{for(var s=r>1?void 0:r?Fa(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Ra(e,n,s),s};let qn=class extends xi{constructor(){super(...arguments);this.needCorrectSelectionPos=!0,this.children=[],this.head=null,this.tail=null,this.attributes=Qu({},is),this.defaultAttributes=is,this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.length=1,this.canMerge=!1,this.canBeMerge=!1}static create(t,e){const n=new qn;for(let s=0;s<t;s++){const o=new rs;for(let l=0;l<e;l++){const c=mi.create();o.addLast(c)}n.addLast(o)}const r=Math.floor(Vs.canvasWidth/e);return n.setAttributes({width:Vs.canvasWidth,colWidth:[...Array(e-1).fill(r),Vs.canvasWidth-r*(e-1)]}),n}readFromOps(t){var e;const n=t[0].insert;((e=t[0])==null?void 0:e.attributes)&&this.setAttributes(t[0].attributes);const r=n.ops.map(s=>{const o=new rs;return o.readFromOps([s]),o});this.addAll(r),r.forEach(s=>{s.parent=this})}layout(){if(!this.needLayout)return;const t=this.attributes.colWidth.map(n=>({width:n,span:0})),e=new Map;for(let n=0,r=this.children.length;n<r;n++){let s=0;const o=this.children[n];o.width=this.width;const l=Array(t.length).fill(0);let c=0,d=0;if(o.children.length>0)for(let C=0,z=t.length;C<z;C++)if(t[C].span===0){const V=o.children[c];V.GridRowPos=n,V.GridColPos=C,V.isLastCell=C+V.attributes.colSpan===t.length,V.isFirstCell=C===0,V.isFirstLine=o.prevSibling===null,V.isLastLine=n+V.attributes.rowSpan===this.children.length,V.x=d;let ot=0;const ft=C;for(let pt=0;pt<V.attributes.colSpan;pt++)ot+=t[ft+pt].width,C++;if(C--,V.setWidth(ot),V.layout(),V.attributes.rowSpan>1){for(let wt=0;wt<V.attributes.colSpan;wt++)l[ft+wt]+=V.attributes.rowSpan;const pt=e.get(n+V.attributes.rowSpan-1);pt?pt.push(V):e.set(n+V.attributes.rowSpan-1,[V])}else s=Math.max(s,V.contentHeight);d+=ot,c++}else d+=t[C].width;t.forEach((C,z)=>{C.span=Math.max(0,C.span-1+l[z])});const m=e.get(n);if(m&&m.length>0){let C=0;m.forEach(z=>{const V=z.contentHeight-this.sumRowHeight(n-z.attributes.rowSpan+1,n-1)-s;V>C&&(C=V)}),C>0&&(s+=C)}o.setContentMinHeight(s);const S=Math.max(s,o.attributes.height);o.setHeight(S);for(let C=0;C<o.children.length;C++)o.children[C].attributes.rowSpan===1&&o.children[C].setHeight(S);m&&m.length>0&&m.forEach(C=>{C.setHeight(this.sumRowHeight(n-C.attributes.rowSpan+1,n))})}this.head&&this.head.setPositionY(0,!0,!0),this.needLayout=!1,this.tail!==null&&this.setHeight(this.tail.y+this.tail.height),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}getCursorType(){return Bn.RowResize}search(t){const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];for(let s=0;s<r.children.length;s++){const o=r.children[s],l=o.search(t);for(let c=0;c<l.length;c++){const d=l[c];e.push({pos:{index:this.start,inner:{index:n,inner:{index:s,inner:d.pos}}},rects:d.rects.map(m=>({x:m.x+o.x+r.x+this.x,y:m.y+o.y+r.y+this.y,width:m.width,height:m.height}))})}}}return e}correctSelectionPos(t,e){let n=t,r=e;const s=[];if(n!==null&&r!==null)if(n.inner===null&&r.inner===null)s.push({start:n,end:r});else if(n.inner===null&&r.inner!==null)s.push({start:{index:0,inner:null},end:{index:r.index+(r.inner?1:0),inner:null}});else if(n.inner!==null&&r.inner!==null){n=n.inner,r=r.inner;const o=n?n.index:0,l=r?r.index:0;if(n.inner===null||r.inner===null)if(X(n,r)===0){const c={index:0,inner:{index:o,inner:{index:0,inner:{index:0,inner:null}}}};s.push({start:c,end:c})}else s.push({start:{index:0,inner:{index:o,inner:null}},end:{index:0,inner:{index:l+(r.inner?1:0),inner:null}}});else{const c=n.inner,d=r.inner,m=c.index,S=d.index;if(o!==l){const C=this.children[o],z=this.children[l],V=C.children[Math.min(m,C.children.length-1)].GridColPos,ot=z.children[Math.min(S,z.children.length-1)].GridColPos,ft=Math.min(V,ot),pt=Math.max(V,ot);for(let wt=o;wt<=l;wt++){const Ot=this.children[wt];let Vt=null,Qt=null;for(let se=0;se<Ot.children.length;se++){const At=Ot.children[se],$t=At.GridColPos+At.attributes.colSpan-1;if(At.GridColPos<=ft&&ft<=$t||At.GridColPos<=pt&&pt<=$t||ft<=At.GridColPos&&$t<=pt)Vt===null&&(Vt=se),Qt=se;else if(Vt!==null&&Qt!==null)break}Vt!==null&&Qt!==null&&s.push({start:{index:0,inner:{index:wt,inner:{index:Vt,inner:null}}},end:{index:0,inner:{index:wt,inner:{index:(d==null?void 0:d.inner)?Qt+1:Qt,inner:null}}}})}}else{const C=S+(d.inner?1:0);if(X(n,r)===0&&n.inner===null){const z={index:0,inner:{index:o,inner:{index:m,inner:{index:0,inner:null}}}};s.push({start:z,end:z})}else m!==S?m===0&&C===this.children[o].children.length?s.push({start:{index:0,inner:{index:o,inner:null}},end:{index:0,inner:{index:o+1,inner:null}}}):s.push({start:{index:0,inner:{index:o,inner:{index:m,inner:null}}},end:{index:0,inner:{index:o,inner:{index:C,inner:null}}}}):s.push({start:{index:0,inner:n},end:{index:0,inner:r}})}}}else console.warn("end should not be null while start is null"),s.push({start:{index:0,inner:null},end:{index:0,inner:null}});else if(r!==null)if(r=r.inner,r!==null){const o=r.index,l=r.inner?o+1:o;l>=this.children.length?s.push({start:null,end:{index:1,inner:null}}):s.push({start:null,end:{index:0,inner:{index:l,inner:null}}})}else s.push({start:null,end:{index:0,inner:null}});else if(n!==null)if(n=n.inner,n!==null){const o=n.index;o<=0?s.push({start:{index:0,inner:null},end:null}):s.push({start:{index:0,inner:{index:o,inner:null}},end:null})}else s.push({start:{index:0,inner:null},end:null});else console.warn("start and end should not be null at same time");return s}getDocumentPos(t,e,n){const r=t-this.x,s=e-this.y;let o=null,l=null,c=null,d=0,m=0;for(;d<this.children.length;d++){m=0;const S=this.children[d];for(;m<S.children.length;m++){const C=S.children[m];if(jt(r-S.x,s-S.y,C)){l=S,c=C;break}}if(c)break;if(jt(r,s,qu(Qu({},S),{height:S.height}))){l=S;break}}if(c&&l){const S=c.getDocumentPos(r-l.x-c.x,s-l.y-c.y);o={index:0,inner:{index:d,inner:{index:m,inner:S}}}}else if(l&&!n){let S=l.children.length-1;for(;S>=0;S--){const C=l.children[S];if(r>=C.x+C.width)break}o={index:0,inner:{index:d,inner:{index:S+1,inner:null}}}}else if(!n){let S=this.children.length-1;for(;S>=0;S--){const C=this.children[S];if(s>=C.y+C.height)break}o={index:0,inner:{index:S+1,inner:null}}}return o}getSelectionRectangles(t,e,n){if(t.index===0&&t.inner===null){if(e.index>=1)return[{x:this.x,y:this.y,width:this.width,height:this.height}];if(e.index===0&&e.inner!==null){let r=e.inner.index;if(e.inner.inner!==null&&(r+=1),r===this.children.length)return[{x:this.x,y:this.y,width:this.width,height:this.height}];{const s=[];for(let o=0;o<r;o++){const l=this.children[o];for(let c=0;c<l.children.length;c++){const d=l.children[c];s.push({x:this.x+l.x+d.x,y:this.y+l.y+d.y,width:d.width,height:d.height})}}return s}}}else if(t.index===0&&t.inner!==null){if(e.index>=1){const r=t.inner.index;if(r===0)return[{x:this.x,y:this.y,width:this.width,height:this.height}];{const s=[];for(let o=r;o<this.children.length;o++){const l=this.children[o];for(let c=0;c<l.children.length;c++){const d=l.children[c];s.push({x:this.x+l.x+d.x,y:this.y+l.y+d.y,width:d.width,height:d.height})}}return s}}else if(e.index===0&&e.inner!==null){const r=t.inner.index,s=e.inner.index,o=[];if(t.inner.inner===null&&e.inner.inner===null)for(let l=r;l<s;l++){const c=this.children[l];for(let d=0;d<c.children.length;d++){const m=c.children[d];o.push({x:this.x+c.x+m.x,y:this.y+c.y+m.y,width:m.width,height:m.height})}}else if(t.inner.inner!==null&&e.inner.inner!==null&&t.inner.inner.inner===null&&e.inner.inner.inner===null){const l=t.inner.inner.index,c=e.inner.inner.index;for(let d=r;d<=s;d++){const m=this.children[d];for(let S=l;S<c;S++){const C=m.children[S];o.push({x:this.x+m.x+C.x,y:this.y+m.y+C.y,width:C.width,height:C.height})}}}else if(t.inner.inner!==null&&e.inner.inner!==null&&t.inner.inner.inner!==null&&e.inner.inner.inner!==null){const l=t.inner.inner.index,c=t.inner.inner.inner,d=e.inner.inner.inner,m=this.children[r],S=m.children[l],C=S.getSelectionRectangles(c,d,n).map(z=>({x:z.x+S.x+m.x+this.x,y:z.y+S.y+m.y+this.y,width:z.width,height:z.height}));o.push(...C)}return o}}return[]}getChildrenStackByPos(t,e){let n=null,r=null;for(let o=0;o<this.children.length;o++){const l=this.children[o];for(let c=0;c<l.children.length;c++){const d=l.children[c];if(jt(t-l.x,e-l.y,d)){n=l,r=d;break}}if(r)break;jt(t,e,l)&&(n=l)}let s=[];return r&&n&&(s=r.getChildrenStackByPos(t-n.x-r.x,e-n.y-r.y)),n&&s.unshift(n),s.unshift(this),s}toOp(t){const e=this.children.map(r=>r.toOp(t)),n={insert:new(y())(e),attributes:{block:"table"}};return t&&(n.key=this.id),this.originalAttributes&&Object.keys(this.originalAttributes).length>0&&Object.assign(n.attributes,this.originalAttributes),[n]}toHtml(t){return console.log("toHtml not implement"),""}toText(t){return""}insertText(t,e,n){const r=this.getPosElement(e);return r.cell&&r.posInCell?(r.cell.insertText(t,r.posInCell,n),r.cell.setNeedToLayout(),this.needLayout=!0,!0):!1}insertEnter(t,e){const n=this.getPosElement(t);return n.cell&&n.cell.insertEnter(n.posInCell,e),this.needLayout=!0,null}insertBlock(t,e){const n=this.getPosElement(e);return n.cell&&n.cell.insertBlock(t,n.posInCell),this.needLayout=!0,[]}insertFragment(t,e){const n=this.getPosElement(e);n.cell&&n.cell.insertFragment(t,n.posInCell),this.needLayout=!0}getFormat(t){var e,n;let r={};return t?((e=t.start)==null?void 0:e.inner)&&((n=t.end)==null?void 0:n.inner)?r=Ut(this,[{start:t.start.inner,end:t.end.inner}]):r={}:r=Ut(this),Pt(this.attributes,r),r}format(t,e){let n;if(e)if(e.start.inner&&e.end.inner)n={start:e.start.inner,end:e.end.inner};else return;ue(this,t,n),this.needLayout=!0}clearFormat(t){let e;if(t)if(t.start.inner&&t.end.inner)e={start:t.start.inner,end:t.end.inner};else return;ne(this,e),this.needLayout=!0}delete(t,e){var n,r;const{start:s,end:o}=t,l=this.getPosElement(s),c=this.getPosElement(o);if(l.row===c.row&&l.cell!==null&&c.cell===null)(n=l.row)==null||n.children.forEach(d=>d.clearContent());else if(l.cell===c.cell&&l.cell!==null){const d={start:s.inner,end:o.inner},m={start:d.start.inner,end:d.end.inner},S={start:m.start.inner,end:m.end.inner};c.cell.delete([S],e)}else{let d=l.cell;for(;d&&(d.clearContent(),d!==((r=c.cell)==null?void 0:r.prevSibling));)d=d.nextSibling}this.needLayout=!0}getAllLayoutFrames(){return console.log("getAllLayoutFrames not implement"),[]}merge(t){console.log("merge not implement")}setColWidth(t,e){var n;if(Array.isArray(t))this.setAttributes({colWidth:t});else if(typeof t=="number"&&typeof e=="number"){const r=((n=this.originalAttributes)==null?void 0:n.colWidth)||[];r[e]=t,this.setAttributes({colWidth:[...r]})}}draw(t,e,n,r){for(let l=0;l<this.children.length;l++){const c=this.children[l];c.y<r&&(c.draw(t,this.x+e,this.y+n,r-c.y),c.drawBorder(t,this.x+e,this.y+n))}const s=Ht(this.x+e,1),o=Ht(this.y+n,1);t.strokeRect(s,o,Math.floor(this.width-(s-this.x-e)),Math.round(this.height)),super.draw(t,e,n,r)}canMergeCells(t){const e=[];for(let o=0;o<t.length;o++){const l=t[o];e.push(...this.getSelectedCell(l))}if(e.length<=1)return null;let n=e[0];const r=[];e.forEach(o=>{var l;for(let c=o.GridRowPos;c<o.GridRowPos+o.attributes.rowSpan;c++)for(let d=o.GridColPos;d<o.GridColPos+o.attributes.colSpan;d++)r[c]=(l=r[c])!=null?l:[],r[c][d]=1,(n.GridRowPos>o.GridRowPos||n.GridRowPos===o.GridRowPos&&n.GridColPos>o.GridColPos)&&(n=o)});let s=null;for(let o=0;o<r.length;o++){if(s===null){Array.isArray(r[o])&&(s=r[o]);continue}const l=r[o];let c=l.length===s.length;if(!c)return null;for(let d=0;d<l.length&&(c=c&&l[d]===s[d],!!c);d++);if(!c)return null}return{cornerCell:n,cells:e}}mergeCells(t){var e;const n=this.canMergeCells(t);let r=0,s=0;if(n){const{cornerCell:o,cells:l}=n;for(let c=0;c<l.length;c++){const d=l[c];d!==o&&(r=Math.max(r,d.GridRowPos+d.attributes.rowSpan-o.GridRowPos),s=Math.max(s,d.GridColPos+d.attributes.colSpan-o.GridColPos),(e=d.parent)==null||e.remove(d))}return o.setAttributes({rowSpan:r,colSpan:s}),this.needLayout=!0,o.setNeedToLayout(),!0}else return!1}canUnmergeCells(t){let e;for(let n=0;n<t.length;n++){const r=t[n],s=this.getPosElement(r.start),o=this.getPosElement(r.end);if(e===void 0&&(e=s.cell),s.cell===null||e!==s.cell||o.cell===null||e!==o.cell)return null}return e.attributes.colSpan>1||e.attributes.rowSpan>1?e:null}unmergeCells(t){const e=this.canUnmergeCells(t);if(e){const n=e.GridRowPos,r=n+e.attributes.rowSpan,s=e.GridColPos,o=s+e.attributes.colSpan;for(let l=n;l<r;l++){const c=this.children[l];for(let d=s;d<o;d++){if(l===n&&d===s){e.setAttributes({colSpan:1,rowSpan:1});continue}const m=mi.create();c.splice(c.head?Math.max(0,d-c.head.GridColPos):0,0,[m])}}return this.needLayout=!0,!0}else return!1}getSelectedCell(t){const e=this.getPosElement(t.start),n=this.getPosElement(t.end);if(e.row===null&&n.row===null&&t.start.index===0&&t.end.index===1)return this.children.reduce((r,s)=>(r.push(...s.children),r),[]);if(e.cell===null&&n.cell===null){const r=[];let s=e.row;for(;s&&(r.push(...s.children),s.nextSibling!==n.row);)s=s.nextSibling;return r}else if(e.posInCell===null&&n.posInCell===null){const r=[];let s=e.cell;for(;s&&(r.push(s),s.nextSibling!==n.cell);)s=s.nextSibling;return r}return[]}createSelf(){return new qn}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){return{index:0,inner:{index:0,inner:{index:0,inner:this.children[0].children[0].firstPos()}}}}lastPos(){let t=null,e=0,n=0;for(let r=this.children.length-1;r>=0;r--){const s=this.children[r];if(s.tail){t=s.tail.lastPos(),e=r,n=s.children.length-1;break}}if(t)return{index:0,inner:{index:e,inner:{index:n,inner:t}}};throw new Error("table should not be empty.")}nextPos(t){let e=null,n=0,r=0;const s=t.inner;if(s&&(n=Rt(s.index,this.children),n>=0)){const o=s.inner;if(o){const l=this.children[n];if(r=Rt(o.index,l.children),r>=0){const c=l.children[r],d=o.inner;d&&(e=c.nextPos(d)),!e&&c.nextSibling&&(e=c.nextSibling.firstPos(),r++)}if(!e&&l.nextSibling){let c=l.nextSibling;for(;c;)if(n++,c.children.length>0){e=c.children[0].firstPos(),r=0;break}else c=c.nextSibling}}}return e?{index:0,inner:{index:n,inner:{index:r,inner:e}}}:null}prevPos(t){let e=null,n=0,r=0;const s=t.inner;if(s&&(n=Rt(s.index,this.children),n>=0)){const o=s.inner;if(o){const l=this.children[n];if(r=Rt(o.index,l.children),r>=0){const c=l.children[r],d=o.inner;d&&(e=c.prevPos(d)),!e&&c.prevSibling&&(e=c.prevSibling.lastPos(),r--)}if(!e&&l.prevSibling){let c=l.prevSibling;for(;c;)if(n--,c.children.length>0){e=c.children[c.children.length-1].lastPos(),r=l.prevSibling.children.length-1;break}else c=c.prevSibling}}}return e?{index:0,inner:{index:n,inner:{index:r,inner:e}}}:null}firstLinePos(t){const e=this.children[0],n=t-e.x,r=e.firstLinePos(n);return r?{index:0,inner:{index:0,inner:r}}:null}lastLinePos(t){let e=0,n=null;for(let r=0;r<this.children.length;r++){const s=this.children[r];s.children.length>0&&(n=s,e=r)}if(n){const r=t-n.x,s=n.lastLinePos(r);return s?{index:0,inner:{index:e,inner:s}}:null}return null}nextLinePos(t,e){let n=null;const r=t.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s],c=e-l.x;if(l){const d=r.inner;if(d){o=d.index;const m=l.children[o];if(m&&d.inner){const S=c-m.x,C=m.nextLinePos(d.inner,S);C&&(n={index:o,inner:C})}if(!n&&l.nextSibling){let S=l.nextSibling;for(;S;)if(s++,S.children.length>0){n=S.firstLinePos(c);break}else S=S.nextSibling}}}}return n?{index:0,inner:{index:s,inner:n}}:null}prevLinePos(t,e){console.log("x",e);let n=null;const r=t.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s];if(l){const c=r.inner;if(c){o=c.index;const d=l.children[o];if(d&&c.inner){const m=e-l.x-d.x,S=d.prevLinePos(c.inner,m);S&&(n={index:o,inner:S})}if(!n&&l.prevSibling){let m=l.prevSibling;for(;m;)if(s--,m.children.length>0){n=m.lastLinePos(e-m.x);break}else m=m.prevSibling}}}}return n?{index:0,inner:{index:s,inner:n}}:null}lineStartPos(t,e){let n=null;const r=t.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s],c=e-l.y;if(l){const d=r.inner;if(d){o=d.index;const m=l.children[o];if(m&&d.inner){const S=c-m.y;n=m.lineStartPos(d.inner,S)}}}}return n?{index:0,inner:{index:s,inner:{index:o,inner:n}}}:null}lineEndPos(t,e){let n=null;const r=t.inner;let s=0,o=0;if(r){s=r.index;const l=this.children[s],c=e-l.y;if(l){const d=r.inner;if(d){o=d.index;const m=l.children[o];if(m&&d.inner){const S=c-m.y;n=m.lineEndPos(d.inner,S)}}}}return n?{index:0,inner:{index:s,inner:{index:o,inner:n}}}:null}onPointerEnter(t,e,n,r){}onPointerLeave(){}onPointerMove(t,e,n,r){}onPointerDown(t,e){}onPointerUp(t,e){}onPointerTap(t,e){}afterAdd(t){t.forEach(e=>{e.setBubbleHandler(this.bubbleUp.bind(this))})}afterRemove(t){t.forEach(e=>{e.setBubbleHandler(null)})}addLast(t){throw new Error("this method should be implemented in ILinkedListDecorator")}addAfter(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addBefore(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAtIndex(t,e){throw new Error("this method should be implemented in ILinkedListDecorator")}addAll(t){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAll(){throw new Error("this method should be implemented in ILinkedListDecorator")}remove(t){throw new Error("this method should be implemented in ILinkedListDecorator")}removeAllFrom(t){throw new Error("this method should be implemented in ILinkedListDecorator")}splice(t,e,n){throw new Error("this method should be implemented in ILinkedListDecorator")}findIndex(t){throw new Error("this method should be implemented in ILinkedListDecorator")}setOverrideDefaultAttributes(t){throw new Error("Method not implemented.")}setOverrideAttributes(t){throw new Error("Method not implemented.")}setAttributes(t){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(t){const e=[];if(e.push([this]),t.start.inner&&t.end.inner){const n=vt(t.start.inner.index,this.children,!0),r=vt(t.end.inner.index,this.children,!0);if(n&&r)if(n===r)e.push(...n.getSelectedElement({start:D(n.start,t.start.inner),end:D(n.start,t.end.inner)}));else{const s=[];let o=n;for(;o;)s.push(o),o=o.nextSibling;e.push([s])}}return e}sumRowHeight(t,e){let n=0;for(let r=t;r<=e;r++)n+=this.children[r].height;return n}getPosElement(t,e="right"){const n={row:null,cell:null,posInCell:null},r=t.inner;if(!r)return n;const s=r.index;if(s>=this.children.length)return n;n.row=this.children[s];const o=r.inner;if(!o)return n;const l=o.index;if(l>=n.row.children.length)return n;n.cell=n.row.children[l];const c=o.inner;return c&&(n.posInCell=c),n}getWholeRowAttributes(t,e){for(let n=0;n<t.children.length;n++){const r=t==null?void 0:t.children[n];Pt(r.getFormat([{start:{index:0,inner:null},end:{index:r.length,inner:null}}]),e),Pt(r.attributes,e)}}};qn.typeName="table",qn=wn([Oe,Jn,Hr,vi],qn);class Si{constructor(e,n){this.editor=e,this.doc=n}}var Ba;(function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"})(Ba||(Ba={}));const qs=20;class ed extends Si{constructor(e,n,r,s){super(e,n);this.cellTop=document.createElement("div"),this.cellBottom=document.createElement("div"),this.cellLeft=document.createElement("div"),this.cellRight=document.createElement("div"),this.rowResizeLine=document.createElement("div"),this.colResizeLine=document.createElement("div"),this.currentTable=null,this.currentRow=null,this.currentCell=null,this.currentBorder=0,this.currentTableAbsPos=null,this.currentCellAbsPos=null,this.startMousePosX=0,this.startMousePosY=0,this.startLinePosX=0,this.startLinePosY=0,this.startColWidth=[],this.startRowHeight=[],this.startTableWidth=0,this.onEnterCell=(o,l)=>{const c=l[0],d={x:0,y:0},m={x:0,y:0};for(let S=0;S<l.length;S++){const C=l[S];S>=2&&(d.x+=C.x,d.y+=C.y),m.x+=C.x,m.y+=C.y}c.GridRowPos>0&&(this.cellTop.style.left=`${this.editor.cvsOffsetX+m.x}px`,this.cellTop.style.top=`${m.y}px`,this.cellTop.style.width=`${c.width}px`,this.cellTop.style.display="block"),this.cellBottom.style.left=`${this.editor.cvsOffsetX+m.x}px`,this.cellBottom.style.top=`${m.y+c.height-c.paddingBottom}px`,this.cellBottom.style.width=`${c.width}px`,this.cellBottom.style.display="block",c.GridColPos>0&&(this.cellLeft.style.left=`${this.editor.cvsOffsetX+m.x}px`,this.cellLeft.style.top=`${m.y+c.paddingTop}px`,this.cellLeft.style.height=`${c.height-c.paddingTop-c.paddingBottom}px`,this.cellLeft.style.display="block"),this.cellRight.style.left=`${this.editor.cvsOffsetX+m.x+c.width-c.paddingLeft}px`,this.cellRight.style.top=`${m.y+c.paddingTop}px`,this.cellRight.style.height=`${c.height-c.paddingTop-c.paddingBottom}px`,this.cellRight.style.display="block",this.currentCell=c,this.currentCellAbsPos=m,c.parent&&(this.currentRow=c.parent,c.parent.parent&&(this.currentTable=c.parent.parent,this.currentTableAbsPos=d))},this.onLeaveCell=()=>{this.cellTop.style.display="none",this.cellBottom.style.display="none",this.cellLeft.style.display="none",this.cellRight.style.display="none",this.currentCell=null,this.currentRow=null,this.currentTable=null,this.currentTableAbsPos=null,this.currentCellAbsPos=null},this.onMouseMove=o=>{var l;if(!(!this.currentCell||!this.currentTable))if(this.currentBorder===0||this.currentBorder===1){const c=o.pageY-this.startMousePosY,d=this.currentBorder===0?(l=this.currentRow)==null?void 0:l.prevSibling:this.currentRow,m=this.currentCell.GridRowPos+this.currentCell.attributes.rowSpan-1+(this.currentBorder===0?-1:0);if(d){const S=this.startRowHeight[m]+c;S>d.contentMinHeight?(this.tableService.updateModifyRowHeight(d,S),this.rowResizeLine.style.top=`${this.startLinePosY+c}px`):this.tableService.updateModifyRowHeight(d,0),this.currentTable.needLayout=!0,this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT)}}else{const c=o.pageX-this.startMousePosX;if(this.currentBorder===3&&this.currentCell.GridColPos+this.currentCell.attributes.colSpan-1==this.currentTable.attributes.colWidth.length-1){const d=this.startColWidth[this.startColWidth.length-1]+c,m=this.startTableWidth+c;if(d<=qs||m>this.doc.width)return;this.tableService.updateLastColumnWidth(this.currentTable,d,m),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.colResizeLine.style.left=`${this.startLinePosX+(o.pageX-this.startMousePosX)}px`,this.colResizeLine.style.height=`${this.currentTable.height}px`}else{const d=this.currentBorder===2?this.currentCell.GridColPos-1:this.currentCell.GridColPos+this.currentCell.attributes.colSpan-1,m=d+1,S=this.startColWidth[d]+c,C=this.startColWidth[m]-c;S>=qs&&C>=qs&&(this.tableService.updateModifyColumnWidth(this.currentTable,d,S,m,C),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT),this.colResizeLine.style.left=`${this.startLinePosX+(o.pageX-this.startMousePosX)}px`,this.colResizeLine.style.height=`${this.currentTable.height}px`)}}},this.onMouseUp=o=>{document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp,!0),this.rowResizeLine.style.display="none",this.colResizeLine.style.display="none",this.startColWidth.length=0,this.startRowHeight.length=0,this.startTableWidth=0,this.doc.em.addListener(Vn.POINTER_ENTER_TABLE_CELL,this.onEnterCell),this.doc.em.addListener(Vn.POINTER_LEAVE_TABLE_CELL,this.onLeaveCell),this.currentTable&&this.tableService.endModify(this.currentTable),(this.currentBorder===0||this.currentBorder===1)&&(this.rowResizeLine.style.top=`${this.startLinePosY+(o.pageY-this.startMousePosY)}px`)},this.contentService=r,this.tableService=s,this.initToolbarDom(),this.initEventListener()}insertTable(e){const n=3,r=3,s=qn.create(n,r);this.contentService.insertBlock(s,e),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT)}initToolbarDom(){const e=this.editor.container.querySelector("#heightPlaceholderContainer");if(e){this.cellTop.id="cellTop",this.cellBottom.id="cellBottom",this.cellLeft.id="cellLeft",this.cellRight.id="cellRight",this.cellTop.tabIndex=-1,this.cellBottom.tabIndex=-1,this.cellLeft.tabIndex=-1,this.cellRight.tabIndex=-1;const n="display:none;position:absolute;outline:none;user-select:none;",r="height:6px;cursor:row-resize;",s="width:6px;cursor:col-resize;";this.cellTop.setAttribute("style",n+r),this.cellBottom.setAttribute("style",n+r),this.cellLeft.setAttribute("style",n+s),this.cellRight.setAttribute("style",n+s),e.appendChild(this.cellTop),e.appendChild(this.cellBottom),e.appendChild(this.cellLeft),e.appendChild(this.cellRight),this.rowResizeLine.id="tableRowResizeLine",this.rowResizeLine.tabIndex=-1,this.colResizeLine.id="tableColResizeLine",this.colResizeLine.tabIndex=-1,this.rowResizeLine.setAttribute("style",`${n}height: 3px;background-color:gray`),this.colResizeLine.setAttribute("style",`${n}width: 3px;background-color:gray;`),e.appendChild(this.rowResizeLine),e.appendChild(this.colResizeLine)}}initEventListener(){this.doc.em.addListener(Vn.POINTER_ENTER_TABLE_CELL,this.onEnterCell),this.doc.em.addListener(Vn.POINTER_LEAVE_TABLE_CELL,this.onLeaveCell),this.cellTop.addEventListener("mousedown",e=>{this.currentBorder=0,this.startDrag(e),this.rowResizeLine.style.display="block"}),this.cellBottom.addEventListener("mousedown",e=>{this.currentBorder=1,this.startDrag(e),this.rowResizeLine.style.display="block"}),this.cellLeft.addEventListener("mousedown",e=>{this.currentBorder=2,this.startDrag(e),this.colResizeLine.style.display="block"}),this.cellRight.addEventListener("mousedown",e=>{this.currentBorder=3,this.startDrag(e),this.colResizeLine.style.display="block"})}startDrag(e){!this.currentCell||!this.currentTable||(this.startMousePosY=e.pageY,this.startMousePosX=e.pageX,document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp,!0),this.setResizeLinePos(),this.startColWidth=[...this.currentTable.attributes.colWidth],this.startRowHeight=this.currentTable.children.map(n=>n.height),this.startTableWidth=this.currentTable.width,this.doc.em.removeListener(Vn.POINTER_ENTER_TABLE_CELL,this.onEnterCell),this.doc.em.removeListener(Vn.POINTER_LEAVE_TABLE_CELL,this.onLeaveCell),this.currentTable&&this.tableService.startModify(this.currentTable))}setResizeLinePos(){var e,n,r,s,o,l;((n=(e=this.currentCell)==null?void 0:e.parent)==null?void 0:n.parent)&&(this.currentTableAbsPos&&(this.rowResizeLine.style.left=`${this.editor.cvsOffsetX+this.currentTableAbsPos.x}px`,this.colResizeLine.style.top=`${this.currentTableAbsPos.y}px`),this.rowResizeLine.style.width=`${(s=(r=this.currentTable)==null?void 0:r.width)!=null?s:0}px`,this.colResizeLine.style.height=`${(l=(o=this.currentTable)==null?void 0:o.height)!=null?l:0}px`,this.currentCellAbsPos&&(this.startLinePosY=this.currentCellAbsPos.y+(this.currentBorder===1?this.currentCell.height:0)-2,this.rowResizeLine.style.top=`${this.startLinePosY}px`,this.startLinePosX=this.editor.cvsOffsetX+this.currentCellAbsPos.x+(this.currentBorder===3?this.currentCell.width:0)-2,this.colResizeLine.style.left=`${this.startLinePosX}px`))}}class nd extends Er{constructor(e,n){super(e);this.modifyStatus=new Map,this.stack=n}startModify(e){this.modifyStatus.set(e,new(y())(e.toOp(!0)))}updateModifyRowHeight(e,n){e.setHeightAttribute(n)}updateModifyColumnWidth(e,n,r,s,o){e.setColWidth(r,n),e.setColWidth(o,s),e.needLayout=!0,e.children.forEach(l=>{for(let c=0;c<l.children.length;c++){const d=l.children[c];(d.GridColPos<=n&&n<=d.GridColPos+d.attributes.colSpan-1||d.GridColPos<=s&&s<=d.GridColPos+d.attributes.colSpan-1)&&d.setNeedToLayout()}})}updateLastColumnWidth(e,n,r){e.setColWidth(n,e.attributes.colWidth.length-1),e.setWidth(r),e.needLayout=!0,e.children.forEach(s=>{s.tail&&s.tail.setNeedToLayout()})}endModify(e){const n=this.modifyStatus.get(e);if(n){const r=new(y())(e.toOp(!0)),s=n.diff(r),o=new(y());e.start>0&&o.retain(e.start),s.ops.length>0&&this.stack.pushDiff(o.concat(s)),this.modifyStatus.delete(e)}}}class rd extends Er{constructor(e){super(e);this.searchKeywords="",this.searchResults=[],this.searchResultCurrentIndex=void 0,this.onDocumentLayout=({hasLayout:n,ctx:r,scrollTop:s,viewHeight:o})=>{this.searchKeywords.length>0&&(n&&this.search(this.searchKeywords,!0),this.searchResults.length>0&&this.draw(r,s,o))},this.onDocumentIdleLayout=({hasLayout:n})=>{this.searchKeywords.length>0&&n&&this.search(this.searchKeywords,!0)},this.onDocumentFastDraw=({ctx:n,scrollTop:r,viewHeight:s})=>{this.searchKeywords.length>0&&this.searchResults.length>0&&this.draw(n,r,s)},this.doc.em.addListener(g.DOCUMENT_AFTER_LAYOUT,this.onDocumentLayout),this.doc.em.addListener(g.DOCUMENT_AFTER_IDLE_LAYOUT,this.onDocumentIdleLayout),this.doc.em.addListener(g.DOCUMENT_AFTER_DRAW,this.onDocumentFastDraw)}getSearchResult(){return this.searchResults}search(e,n=!1){var r;if(this.searchKeywords=e,this.searchResults=this.doc.search(e),this.searchResults.length>0)if(n){const s=(r=this.searchResultCurrentIndex)!=null?r:0;this.searchResultCurrentIndex=Math.min(s,this.searchResults.length-1)}else this.searchResultCurrentIndex=0;else this.searchResultCurrentIndex=void 0;return this.emit(g.SEARCH_RESULT_CHANGE,this.searchResults,this.searchResultCurrentIndex),this.searchResults}setSearchResultCurrentIndex(e){this.searchResultCurrentIndex=Math.max(0,e),this.searchResultCurrentIndex=Math.min(this.searchResults.length-1,this.searchResultCurrentIndex)}clearSearch(){this.searchResults.length=0,this.searchKeywords="",this.searchResultCurrentIndex=void 0,this.emit(g.SEARCH_RESULT_CHANGE,this.searchResults,this.searchResultCurrentIndex)}nextSearchResult(){let e=null;if(this.searchResults.length>0){this.searchResultCurrentIndex=this.searchResultCurrentIndex||0;let n=this.searchResultCurrentIndex+1;n>=this.searchResults.length&&(n=0),this.setSearchResultCurrentIndex(n);const r=this.searchResults[n];e={index:n,res:r}}else e=null;return this.emit(g.SEARCH_NEED_DRAW),e}prevSearchResult(){let e=null;if(this.searchResults.length>0){this.searchResultCurrentIndex=this.searchResultCurrentIndex||0;let n=this.searchResultCurrentIndex-1;n<0&&(n=this.searchResults.length-1),this.setSearchResultCurrentIndex(n);const r=this.searchResults[n];e={index:n,res:r}}else e=null;return this.emit(g.SEARCH_NEED_DRAW),e}replace(e,n=!1){if(typeof this.searchResultCurrentIndex=="number"&&this.searchResults.length>0){const r=n?this.searchResults:[this.searchResults[this.searchResultCurrentIndex]],s=this.doc.replace(r,this.searchKeywords.length,e);return this.search(this.searchKeywords,!0),s}else return new(y())}draw(e,n,r){const s=this.findStartSearchResult(this.searchResults,n);e.drawSearchResult(this.searchResults,n,n+r,s,this.searchResultCurrentIndex)}findStartSearchResult(e,n){let r=0,s=e.length-1,o=Math.floor((r+s)/2);for(;s>r+1;){const l=e[o].rects[0].y;l<=n?r=o:l>n&&(s=o),o=Math.floor((r+s)/2)}for(;o>=0&&!(e[o].rects[0].y+e[o].rects[0].height<n);o--);return o=Math.max(o,0),o}}var id=Object.defineProperty,sd=Object.getOwnPropertyDescriptor,_i=(t,e,n,r)=>{for(var s=r>1?void 0:r?sd(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&id(e,n,s),s};function od(t){return class extends t{removeAll(){return this.length=0,super.removeAll()}remove(e){if(e.nextSibling!==null){const n=e.prevSibling===null?0:e.prevSibling.start+e.prevSibling.length;e.nextSibling.setStart(n,!0,!0)}super.remove(e),this.length-=e.length}removeAllFrom(e){const n=super.removeAllFrom(e),r=n.reduce((s,o)=>s+o.length,0);return this.length-=r,n}splice(e,n,r){return super.splice(e,n,r)}}}let lr=class extends xi{constructor(){super(...arguments);this.children=[],this.head=null,this.tail=null,this.defaultAttributes={},this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.attributes={},this.canMerge=!0,this.canBeMerge=!0,this.needMerge=!0}layout(){throw new Error("Method not implemented.")}getDocumentPos(t,e,n){const r=t-this.x,s=e-this.y;for(let o=0;o<this.children.length;o++){const l=this.children[o];if(l.y<=s&&s<=l.y+l.height||o===0&&s<l.y||o===this.children.length-1&&s>l.y+l.height){const c=l.getDocumentPos(r-l.x,s-l.y,n);return c&&(c.index+=l.start),c}}return null}getSelectionRectangles(t,e,n){const r=[];let s=t.index;const o=e.index-s,l=s<0?o+s:o;s=Math.max(0,s);for(let c=0;c<this.children.length;c++){const d=this.children[c];if(d.start+d.length<=s)continue;if(d.start>s+l)break;const m=s-d.start,S=m<0?l+m:l,C=d.getSelectionRectangles({index:Math.max(m,0),inner:null},{index:Math.max(m,0)+S,inner:null});for(let z=C.length-1;z>=0;z--){const V=C[z];if(V.y+=this.y,typeof n=="number"&&(n<V.y||n>V.y+V.height)){C.splice(z,1);continue}V.x+=this.x}r.push(...C)}return r}toOp(t){return[]}readFromOps(t){throw new Error("Method not implemented.")}toHtml(t){throw new Error("Method not implemented.")}toText(t){return Zn(this,t)}insertText(t,e,n){const r=W(e);let s=!1;const o=vt(r.index,this.children,!0);return o&&(s=o.insertText(t,{index:r.index-o.start,inner:r.inner},n)),this.head!==null&&this.head.setStart(0,!0,!0),this.calLength(),this.needLayout=!0,s}insertEnter(t,e){const n=vt(t.index,this.children,!0);if(!n)return null;const r=n.insertEnter({index:t.index-n.start,inner:t.inner},e);return this.needLayout=!0,r&&this.addAfter(r,n),this.calLength(),null}insertBlock(t,e){const n=Rt(e.index,this.children,!0),r=this.children[n];if(n<0)return[];if(r.start===e.index&&e.inner===null){const s=this.removeAllFrom(r),o=this.createSelf();return o.addAll(s),o.setAttributes(this.originalAttributes),[this,t,o]}else{if(!r.tryInsertBlock(t,D(this.start,e))){const o=r.insertEnter(e);if(o){const l=this.createSelf();return l.addAll([o]),l.setAttributes(this.originalAttributes),this.calLength(),this.needLayout=!0,[this,t,l]}}return[]}}insertFragment(t,e){const n=vt(e.index,this.children,!0);!n||(n.insertFragment(t,D(n.start,e)),this.needLayout=!0,this.calLength())}delete(t,e){Se(this,t,e),this.mergeFrame(),this.head!==null&&this.head.setStart(0,!0,!0),this.calLength(),this.needLayout=!0}setIndent(t){let e=!1;for(let n=0;n<this.children.length;n++)e=this.children[n].setIndent(t)||e;e&&(this.needLayout=!0,this.bubbleUp(Te.CONTENT_CHANGE,null,[this]))}findLayoutFramesByRange(t,e,n){const r=n!=null?n:dt.both;return kt(this.children,t,e,n)}format(t,e){this.formatSelf(t,e),ue(this,t,e),this.needLayout=!0}clearFormat(t){this.clearSelfFormat(t),ne(this,t),this.needLayout=!0}isHungry(){return!(this.tail.tail instanceof Qn)}eat(t){if(t===this||!(t instanceof lr)||this.tail===null||this.tail.tail instanceof Qn)return!1;const e=t.head===t.tail,n=t.head;return n instanceof $n&&(t.remove(n),this.tail.addAll(n.children),this.tail.calLength(),this.mergeFrame(),this.calLength(),this.needLayout=!0),e}getFormat(t){const e=t?Ut(this,[t]):Ut(this);return Pt(this.attributes,e),e}getAllLayoutFrames(){return this.children}search(t){const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n],s=r.search(t);if(s.length>0){for(let o=0;o<s.length;o++){const l=s[o];l.pos.index+=this.start+r.start;for(let c=0;c<l.rects.length;c++){const d=l.rects[c];d.x+=this.x,d.y+=this.y}}e.push(...s)}}return e}getChildrenStackByPos(t,e){const n=Zt(t,e,this.children);let r;return n?(r=n.getChildrenStackByPos(t-n.x,e-n.y),r.unshift(this)):r=[this],r}calLength(){this.length=0;for(let t=0;t<this.children.length;t++)this.length+=this.children[t].length}merge(t){const e=t.removeAll();this.addAll(e)}setWidth(t){if(this.width!==t){this.width=t;for(let e=0;e<this.children.length;e++)this.children[e].setMaxWidth(t)}}createSelf(){throw new Error("method not implemented")}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}firstPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastPos(){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextPos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}prevPos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}firstLinePos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}lastLinePos(t){throw new Error("this method should implemented in IDosPosOperatorHDecorator")}nextLinePos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}prevLinePos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineStartPos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}lineEndPos(t,e){throw new Error("this method should implemented in IDosPosOperatorVDecorator")}beforeAdd(t){t.forEach(e=>{e.setMinMetrics({baseline:0,bottom:0})})}afterAdd(t,e,n,r,s){t.forEach(o=>{this.setChildrenMaxWidth(o),this.length+=o.length,o.setBubbleHandler(this.bubbleUp.bind(this))}),t[0].setStart(e===0?0:s[e-1].start+s[e-1].length,!0,!0)}afterRemove(t,e,n,r,s){t.forEach(o=>{o.setBubbleHandler(null)})}addLast(t){throw new Error("Method not implemented.")}addAfter(t,e){throw new Error("Method not implemented.")}addBefore(t,e){throw new Error("Method not implemented.")}addAtIndex(t,e){throw new Error("Method not implemented.")}addAll(t){throw new Error("Method not implemented.")}removeAll(){throw new Error("Method not implemented.")}remove(t){throw new Error("Method not implemented.")}removeAllFrom(t){throw new Error("Method not implemented.")}splice(t,e,n){throw new Error("Method not implemented.")}findIndex(t){throw new Error("Method not implemented.")}onPointerEnter(t,e,n,r){}onPointerLeave(){}onPointerMove(t,e,n,r){}onPointerDown(t,e){}onPointerUp(t,e){}onPointerTap(t,e){}setOverrideDefaultAttributes(t){throw new Error("Method not implemented.")}setOverrideAttributes(t){throw new Error("Method not implemented.")}setAttributes(t){throw new Error("Method not implemented.")}compileAttributes(){throw new Error("Method not implemented.")}getSelectedElement(t){throw new Error("Method not implemented.")}setFrameStart(){if(this.children.length>0)this.children[0].start=0;else return;for(let t=1;t<this.children.length;t++)this.children[t].start=this.children[t-1].start+this.children[t-1].length}setChildrenMaxWidth(t){t.setMaxWidth(this.width)}mergeFrame(){for(let t=0;t<this.children.length-1;t++){const e=this.children[t];if(!(e.tail instanceof Qn)){const n=this.children[t+1];e.eat(n),this.remove(n);break}}}};lr.typeName="blockCommon",lr=_i([di,Oe,od,Jn,Hr,vi,$r,Cn],lr);const ss={listType:A.ol1,listId:0,liColor:"#494949",liSize:11,liLinespacing:1.7,liIndent:0,title:_e.Text};var tc=Object.defineProperty,ur=Object.getOwnPropertySymbols,to=Object.prototype.hasOwnProperty,ad=Object.prototype.propertyIsEnumerable,ec=(t,e,n)=>e in t?tc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eo=(t,e)=>{for(var n in e||(e={}))to.call(e,n)&&ec(t,n,e[n]);if(ur)for(var n of ur(e))ad.call(e,n)&&ec(t,n,e[n]);return t};const tr=class extends lr{constructor(){super(...arguments);this.defaultAttributes=ss,this.attributes=eo({},ss),this.overrideDefaultAttributes=null,this.originalAttributes=null,this.overrideAttributes=null,this.titleContent="",this.titleWidth=0,this.titleBaseline=0,this.titleIndex=0,this.titleParent=""}readFromOps(t){const e=super.readOpsToLayoutFrame(t);this.addAll(e),this.setFrameStart(),this.setAttributes(t[t.length-1].attributes)}layout(){if(this.needLayout){this.setTitleIndex(),this.setTitleContent(gt(this.attributes.listType,this.attributes.liIndent,this.titleIndex,this.titleParent)),this.titleWidth=ce().measureTextWidth(this.titleContent,{italic:!1,bold:!1,size:this.attributes.liSize,font:an.getFontValue("Default")});const t=ce().measureTextMetrics({bold:!1,size:this.attributes.liSize,font:an.getFontValue("Default")}),e=ce().convertPt2Px[this.attributes.liSize]*this.attributes.liLinespacing,n=(e-t.bottom)/2+t.baseline;t.bottom=e,t.baseline=n,this.children[0].setFirstIndent(Math.max(10+this.titleWidth-(this.attributes.liIndent>1?20:26),0));const r=26*this.attributes.liIndent,s=this.width-r;let o;for(let d=0,m=this.children.length;d<m;d++)o=this.children[d],o.setMinMetrics({baseline:t.baseline,bottom:t.bottom}),o.setMaxWidth(s-26),o.x=r+26,o.layout(),d<m-1&&(this.children[d+1].y=Math.floor(o.y+o.height)),this.width=Math.max(this.width,o.x+o.width);const l=Math.max(t.baseline,this.children[0].lines[0].baseline);this.titleBaseline=l,this.head!==null&&this.head.setPositionY(0,!0,!0),this.needLayout=!1;const c=o.y+o.height;this.setHeight(c),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}}draw(t,e,n,r){const s=26*this.attributes.liIndent;t.font=ce().createTextFontString({italic:!1,bold:!1,size:this.attributes.liSize,font:an.getFontValue("Default")}),t.fillStyle=this.attributes.liColor,t.fillText(this.titleContent,this.x+e+6+s,this.y+n+this.titleBaseline);for(let o=0,l=this.children.length;o<l;o++){const c=this.children[o];c.draw(t,this.x+e,this.y+n,r-c.y)}super.draw(t,e,n,r)}setTitleContent(t){this.titleContent=t}setIndent(t){const e=this.attributes.liIndent;let r=e+(t?1:-1);r=Math.min(r,8),r=Math.max(r,0),e!==r&&(this.setAttributes({indent:r}),this.bubbleUp(Te.NEED_LAYOUT_LISTITEM,this.attributes.listId))}toOp(t){const e=[];for(let n=0;n<this.children.length;n++){const s=this.children[n].toOp(t);Object.assign(s[s.length-1].attributes,this.getOriginAttrs()),e.push(...s)}return this.setBlockOpAttribute(e,tr.typeName),e}toHtml(t){return`<li style="">${Me(this,t)}</li>`}insertEnter(t,e){const n=vt(t.index,this.children,!0);if(!n)return null;const r=n.insertEnter({index:t.index-n.start,inner:t.inner},e);if(this.calLength(),this.needLayout=!0,r){const s=new tr;return s.setHeight(this.width),s.addLast(r),s.setAttributes(this.getOriginAttrs()),s}return null}setAttributes(t){if(t){const e=t["list-type"];typeof e=="string"&&(t.listType=Z(e))}super.setAttributes(t),this.children.forEach(e=>{this.setFrameOverrideAttributes(e),this.setFrameOverrideDefaultAttributes(e)})}afterAdd(t,e,n,r,s){super.afterAdd(t,e,n,r,s),t.forEach(o=>{this.setFrameOverrideAttributes(o),this.setFrameOverrideDefaultAttributes(o)})}afterRemove(t,e,n,r,s){super.afterRemove(t,e,n,r,s),t.forEach(o=>{this.removeFrameOverrideAttributes(o),this.removeFrameOverrideDefaultAttributes(o)})}format(t,e){if(super.format(t,e),!e||e.start.index===0&&e.start.inner===null&&e.end.index===this.start+this.length&&e.end.inner===null){const n={};t.hasOwnProperty("color")&&(n.liColor=t.color),t.hasOwnProperty("size")&&(n.liSize=t.size),t.hasOwnProperty("linespacing")&&(n.liLinespacing=t.linespacing),t.hasOwnProperty("indent")&&(n.liIndent=t.indent),this.setAttributes(n)}}createSelf(){return new tr}formatSelf(t,e){this.setAttributes(t)}clearSelfFormat(t){this.setAttributes(eo({},ss))}setTitleIndex(){let t=0,e="",n=!1,r=this.attributes.listType!==A.ol3,s=this.prevSibling;for(;s!==null;){if(s instanceof tr&&s.attributes.listId===this.attributes.listId){const o=this.attributes.liIndent-s.attributes.liIndent;if(o===0)n=!0,r=!0,t=s.titleIndex+1,e=s.titleParent;else if(o>0){e=s.titleContent;for(let l=1;l<o;l++)e+="1.";r=!0,n=!0}else o<0&&(t=1)}if(n&&r)break;s=s.prevSibling}this.titleIndex=t,this.titleParent=e}getOriginAttrs(){let t;switch(this.attributes.listType){case A.ol1:t={"list-type":"decimal",listId:this.attributes.listId};break;case A.ol2:t={"list-type":"ckj-decimal",listId:this.attributes.listId};break;case A.ol3:t={"list-type":"upper-decimal",listId:this.attributes.listId};break;case A.ul1:t={"list-type":"circle",listId:this.attributes.listId};break;case A.ul2:t={"list-type":"ring",listId:this.attributes.listId};break;case A.ul3:t={"list-type":"arrow",listId:this.attributes.listId};break}return eo(eo({},this.originalAttributes),t)}setFrameOverrideAttributes(t){const e=this.getOverrideAttributes();Object.keys(e).length>0&&t.setOverrideAttributes(e)}removeFrameOverrideAttributes(t){const e=this.getOverrideAttributes();Object.keys(e).forEach(n=>{e[n]=void 0}),t.setOverrideAttributes(e)}getOverrideAttributes(){const t={};switch(this.attributes.title){case _e.Title:t.bold=!0,t.size=20;break;case _e.Subtitle:t.bold=!0,t.size=18;break;case _e.H1:t.bold=!0,t.size=16;break;case _e.H2:t.bold=!0,t.size=14;break;case _e.H3:t.bold=!0,t.size=13;break;case _e.H4:t.bold=!0,t.size=12;break}return t.linespacing=this.attributes.liLinespacing,t}setFrameOverrideDefaultAttributes(t){this.attributes.title===_e.Subtitle&&t.setOverrideDefaultAttributes({color:"#888"})}removeFrameOverrideDefaultAttributes(t){this.attributes.title===_e.Subtitle&&t.setOverrideDefaultAttributes({color:void 0})}};let De=tr;De.typeName="list";var nc=Object.defineProperty,ld=Object.defineProperties,ud=Object.getOwnPropertyDescriptors,rc=Object.getOwnPropertySymbols,cd=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable,os=(t,e,n)=>e in t?nc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K=(t,e)=>{for(var n in e||(e={}))cd.call(e,n)&&os(t,n,e[n]);if(rc)for(var n of rc(e))hd.call(e,n)&&os(t,n,e[n]);return t},at=(t,e)=>ld(t,ud(e)),it;(function(t){t.AFTER_APPLY="AFTER_APPLY"})(it||(it={}));class xt extends Er{constructor(e,n,r){super(e);this.compositionStartOps=[],this.compositionStartPos=null,this.compositionEndPos=null,this.stack=n,this.selector=r}input(e,n){let r=new(y());const s=this.selector.getSelection();if(s&&s.length>0){for(let d=s.length-1;d>=0;d--){const m=s[d];if(X(m.start,m.end)!==0){const S=this.doc.delete([m]);r=r.compose(S)}}const o=s[0].start,l=this.doc.insertText(e,o,n);r=r.compose(l),this.pushDelta(r);const c=N(o,e.length);this.selector.setSelection([{start:c,end:c}],Wr.Input)}}delete(e,n){const r=n||this.selector.getSelection();if(r&&r.length>0){let s=new(y());for(let o=r.length-1;o>=0;o--){const l=r[o],c=this.doc.delete([l],e);s=s.compose(c)}if(this.pushDelta(s),s.ops.length>0){let o={index:0,inner:null};if(r.length>1||r.length===1&&X(r[0].start,r[0].end)!==0){o=r[0].start;const l=this.getBlocksInRange({start:o,end:o});if(l.length>0){const c=l[0].correctSelectionPos(o,o);c.length>0&&c[0].start&&(o=c[0].start)}}else r.length===1&&(o=q(r[0].start,e?-1:0));this.selector.setSelection([{start:o,end:o}],Wr.Input)}return s}}startComposition(e){const n=e.filter(s=>X(s.start,s.end)!==0);this.delete(!0,n);const r=vt(e[0].start.index,this.doc.children,!0);r&&(this.compositionStartOps=r.toOp(!0),this.compositionStartPos=W(e[0].start),this.compositionEndPos=W(e[0].start))}updateComposition(e,n,r){this.compositionStartPos&&e&&(X(this.compositionStartPos,e)!==0&&this.doc.delete([{start:this.compositionStartPos,end:e}]),this.doc.insertText(n,this.compositionStartPos,at(K({},r),{composing:!0})),this.compositionEndPos=q(this.compositionStartPos,n.length),this.selector.setSelection([{start:W(this.compositionEndPos),end:W(this.compositionEndPos)}],Wr.Input))}endComposition(e){if(this.compositionStartPos&&this.compositionEndPos){this.doc.delete([{start:this.compositionStartPos,end:this.compositionEndPos}]),this.doc.insertText(e,this.compositionStartPos);const n=vt(this.compositionStartPos.index,this.doc.children,!0);if(n){const r=new(y())(this.compositionStartOps).diff(new(y())(n.toOp(!0))),s=new(y());n.start>0&&s.retain(n.start),this.compositionStartOps=[],this.compositionStartPos=null,this.compositionEndPos=null,this.pushDelta(s.concat(r))}}}format(e,n){const r=n||this.selector.getSelection();if(r){const s=this.doc.format(e,r);this.pushDelta(s)}}clearFormat(e){const n=e||this.selector.getSelection();if(n){const r=this.doc.clearFormat(n);this.pushDelta(r)}}getFormat(e){return this.doc.getFormat(e)}setLink(e,n){const r=n||this.selector.getSelection();r&&r.forEach(s=>{X(s.start,s.end)===0&&this.doc.insertText(e,s.start),this.doc.format({link:e},[s])})}setIndent(e,n){(n||this.selector.getSelection()).forEach(s=>{const o=vt(s.start.index,this.doc.children,!0),l=vt(s.start.index,this.doc.children,!0),c=[];let d=o;for(;d&&(d instanceof lr&&c.push(d),d!==l);)d=d.nextSibling;if(c.length<=0)return new(y());const m=[],S=[];for(let V=0;V<c.length;V++){const ot=c[V];m.push(...ot.toOp(!0)),c[V].setIndent(e),S.push(...ot.toOp(!0))}const C=new(y())(m).diff(new(y())(S)),z=new(y());c[0].start>0&&z.retain(c[0].start),this.pushDelta(z.concat(C))})}insertFragment(e,n){let r;const s=n||this.selector.getSelection();if(s.length===0)return;(s.length>1||X(s[0].start,s[0].end)!==0)&&(r=this.doc.delete(s,!0));const o=s[0].start;r=r!=null?r:new(y());const l=this.doc.insertFragment(e,o);l&&(r=r.compose(l)),this.pushDelta(r),this.selector.setSelection([{start:o,end:o}],Wr.Input)}insertBlock(e,n){let r;const s=n||this.selector.getSelection();if(s.length===0)return;(s.length>1||X(s[0].start,s[0].end)!==0)&&(r=this.doc.delete(s,!0));const o=s[0].start;r=r!=null?r:new(y());const l=this.doc.insertBlock(e,o);l&&(r=r.compose(l)),this.pushDelta(r),this.selector.setSelection([{start:o,end:o}],Wr.Input)}applyChanges(e){const n=[],r=[];let s=0,o=0,l={startIndex:0,endIndex:0,ops:[]};for(let c=0;c<e.ops.length;c++){const d=e.ops[c];if(d.retain!==void 0)if(typeof d.retain=="number")if(d.attributes===void 0){s+=d.retain;const m=Rt(s,this.doc.children);if(m!==l.endIndex){const{oldBlocks:S,newBlocks:C}=this.applyBat(l);n.push(...S),r.push(...C);const z=[];s-this.doc.children[m].start&&z.push({retain:s-this.doc.children[m].start}),o=s,l={startIndex:m,endIndex:m,ops:z}}}else s-o>0&&l.ops.push({retain:s-o}),l.ops.push(d),s+=d.retain,o=s,l.endIndex=Rt(s,this.doc.children);else s-o>0&&l.ops.push({retain:s-o}),l.ops.push(d),s+=1,o=s,l.endIndex=Rt(s,this.doc.children);else d.insert!==void 0?(s-o>0&&l.ops.push({retain:s-o}),l.ops.push(d),o=s):d.delete!==void 0&&(s-o>0&&l.ops.push({retain:s-o}),l.ops.push(d),s+=d.delete,o=s,l.endIndex=Rt(s,this.doc.children))}if(l.ops.length>0){const{oldBlocks:c,newBlocks:d}=this.applyBat(l);n.push(...c),r.push(...d)}this.emit(it.AFTER_APPLY,{oldBlocks:n,newBlocks:r}),this.doc.em.emit(g.DOCUMENT_CHANGE_CONTENT)}getBlocksInRange(e){const n=vt(e.start.index,this.doc.children,!0),r=vt(e.end.index,this.doc.children,!0),s=[];let o=n;for(;o&&(s.push(o),o!==r);)o=o.nextSibling;return s}pushDelta(e){e.ops.length>0&&this.stack.pushDiff(e)}applyBat(e){var n,r;if(e.ops.length===0)return{oldBlocks:[],newBlocks:[]};const s=new Set,o=this.doc.children.slice(e.startIndex,e.endIndex+1),l=[];for(let z=0;z<o.length;z++){const V=o[z];V instanceof De&&s.add(V.attributes.listId),l.push(...V.toOp(!1))}const c=new(y())(e.ops),d=new(y())(l).compose(c).ops;for(;d.length>0&&typeof d[0].retain=="number";)d.shift();const m=this.doc.readDeltaToBlocks(new(y())(d));for(let z=0;z<m.length;z++){const V=m[z];V instanceof De&&s.add(V.attributes.listId)}this.doc.splice(e.startIndex,e.endIndex+1-e.startIndex,m);const S=(n=m[0].prevSibling)!=null?n:m[0],C=(r=m[m.length-1].nextSibling)!=null?r:m[m.length-1];return this.doc.tryMerge(S,C),m[0].setStart(o[0].start,!0,!0,!0),m[0].setPositionY(o[0].y,!1,!0),this.selector.applyChanges(c),{oldBlocks:o,newBlocks:m}}}/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */var Tt=Object.freeze({});function mt(t){return t==null}function Q(t){return t!=null}function Ft(t){return t===!0}function Ha(t){return t===!1}function as(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="boolean"}function ge(t){return t!==null&&typeof t=="object"}var jr=Object.prototype.toString;function ic(t){return jr.call(t).slice(8,-1)}function Le(t){return jr.call(t)==="[object Object]"}function ls(t){return jr.call(t)==="[object RegExp]"}function us(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function re(t){return Q(t)&&typeof t.then=="function"&&typeof t.catch=="function"}function fd(t){return t==null?"":Array.isArray(t)||Le(t)&&t.toString===jr?JSON.stringify(t,null,2):String(t)}function Ai(t){var e=parseFloat(t);return isNaN(e)?t:e}function Re(t,e){for(var n=Object.create(null),r=t.split(","),s=0;s<r.length;s++)n[r[s]]=!0;return e?function(o){return n[o.toLowerCase()]}:function(o){return n[o]}}var sc=Re("slot,component",!0),dd=Re("key,ref,slot,slot-scope,is");function cr(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var no=Object.prototype.hasOwnProperty;function Ae(t,e){return no.call(t,e)}function cn(t){var e=Object.create(null);return function(r){var s=e[r];return s||(e[r]=t(r))}}var oc=/-(\w)/g,en=cn(function(t){return t.replace(oc,function(e,n){return n?n.toUpperCase():""})}),$a=cn(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),ac=/\B([A-Z])/g,er=cn(function(t){return t.replace(ac,"-$1").toLowerCase()});function lc(t,e){function n(r){var s=arguments.length;return s?s>1?t.apply(e,arguments):t.call(e,r):t.call(e)}return n._length=t.length,n}function cs(t,e){return t.bind(e)}var Xr=Function.prototype.bind?cs:lc;function Ei(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function ie(t,e){for(var n in e)t[n]=e[n];return t}function uc(t){for(var e={},n=0;n<t.length;n++)t[n]&&ie(e,t[n]);return e}function Ye(t,e,n){}var nn=function(t,e,n){return!1},hs=function(t){return t};function Ua(t){return t.reduce(function(e,n){return e.concat(n.staticKeys||[])},[]).join(",")}function Kr(t,e){if(t===e)return!0;var n=ge(t),r=ge(e);if(n&&r)try{var s=Array.isArray(t),o=Array.isArray(e);if(s&&o)return t.length===e.length&&t.every(function(d,m){return Kr(d,e[m])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(!s&&!o){var l=Object.keys(t),c=Object.keys(e);return l.length===c.length&&l.every(function(d){return Kr(t[d],e[d])})}else return!1}catch(d){return!1}else return!n&&!r?String(t)===String(e):!1}function Wa(t,e){for(var n=0;n<t.length;n++)if(Kr(t[n],e))return n;return-1}function ro(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var cc="data-server-rendered",Ee=["component","directive","filter"],We=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],Ge={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:nn,isReservedAttr:nn,isUnknownElement:nn,getTagNamespace:Ye,parsePlatformTagName:hs,mustUseProp:nn,async:!0,_lifecycleHooks:We},Ga=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function hc(t){var e=(t+"").charCodeAt(0);return e===36||e===95}function Pi(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var za=new RegExp("[^"+Ga.source+".$_\\d]");function fs(t){if(!za.test(t)){var e=t.split(".");return function(n){for(var r=0;r<e.length;r++){if(!n)return;n=n[e[r]]}return n}}}var ja="__proto__"in{},Fe=typeof window!="undefined",Yr=typeof WXEnvironment!="undefined"&&!!WXEnvironment.platform,Ci=Yr&&WXEnvironment.platform.toLowerCase(),Be=Fe&&window.navigator.userAgent.toLowerCase(),Sn=Be&&/msie|trident/.test(Be),Ti=Be&&Be.indexOf("msie 9.0")>0,Xa=Be&&Be.indexOf("edge/")>0,hv=Be&&Be.indexOf("android")>0||Ci==="android",pd=Be&&/iphone|ipad|ipod|ios/.test(Be)||Ci==="ios",fv=Be&&/chrome\/\d+/.test(Be)&&!Xa,Ka=Be&&/phantomjs/.test(Be),Ii=Be&&Be.match(/firefox\/(\d+)/),io={}.watch,x=!1;if(Fe)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){x=!0}}),window.addEventListener("test-passive",null,Zr)}catch(t){}var Jr,Ze=function(){return Jr===void 0&&(!Fe&&!Yr&&typeof Xt.g!="undefined"?Jr=Xt.g.process&&Xt.g.process.env.VUE_ENV==="server":Jr=!1),Jr},zt=Fe&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Oi(t){return typeof t=="function"&&/native code/.test(t.toString())}var so=typeof Symbol!="undefined"&&Oi(Symbol)&&typeof Reflect!="undefined"&&Oi(Reflect.ownKeys),ds;typeof Set!="undefined"&&Oi(Set)?ds=Set:ds=function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(n){return this.set[n]===!0},t.prototype.add=function(n){this.set[n]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Ue=Ye,dv=null,pv=null,gv=null;if(!1)var vv,mv,Cr,bv;var gd=0,_n=function(){this.id=gd++,this.subs=[]};_n.prototype.addSub=function(e){this.subs.push(e)},_n.prototype.removeSub=function(e){cr(this.subs,e)},_n.prototype.depend=function(){_n.target&&_n.target.addDep(this)},_n.prototype.notify=function(){for(var e=this.subs.slice(),n=0,r=e.length;n<r;n++)e[n].update()},_n.target=null;var oo=[];function ps(t){oo.push(t),_n.target=t}function An(){oo.pop(),_n.target=oo[oo.length-1]}var hn=function(e,n,r,s,o,l,c,d){this.tag=e,this.data=n,this.children=r,this.text=s,this.elm=o,this.ns=void 0,this.context=l,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=c,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=d,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fc={child:{configurable:!0}};fc.child.get=function(){return this.componentInstance},Object.defineProperties(hn.prototype,fc);var Vr=function(t){t===void 0&&(t="");var e=new hn;return e.text=t,e.isComment=!0,e};function Di(t){return new hn(void 0,void 0,void 0,String(t))}function Ya(t){var e=new hn(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Tr=Array.prototype,ao=Object.create(Tr),vd=["push","pop","shift","unshift","splice","sort","reverse"];vd.forEach(function(t){var e=Tr[t];Pi(ao,t,function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];var o=e.apply(this,r),l=this.__ob__,c;switch(t){case"push":case"unshift":c=r;break;case"splice":c=r.slice(2);break}return c&&l.observeArray(c),l.dep.notify(),o})});var Un=Object.getOwnPropertyNames(ao),Za=!0;function Ir(t){Za=t}var lo=function(e){this.value=e,this.dep=new _n,this.vmCount=0,Pi(e,"__ob__",this),Array.isArray(e)?(ja?md(e,ao):bd(e,ao,Un),this.observeArray(e)):this.walk(e)};lo.prototype.walk=function(e){for(var n=Object.keys(e),r=0;r<n.length;r++)Dr(e,n[r])},lo.prototype.observeArray=function(e){for(var n=0,r=e.length;n<r;n++)Or(e[n])};function md(t,e){t.__proto__=e}function bd(t,e,n){for(var r=0,s=n.length;r<s;r++){var o=n[r];Pi(t,o,e[o])}}function Or(t,e){if(!(!ge(t)||t instanceof hn)){var n;return Ae(t,"__ob__")&&t.__ob__ instanceof lo?n=t.__ob__:Za&&!Ze()&&(Array.isArray(t)||Le(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new lo(t)),e&&n&&n.vmCount++,n}}function Dr(t,e,n,r,s){var o=new _n,l=Object.getOwnPropertyDescriptor(t,e);if(!(l&&l.configurable===!1)){var c=l&&l.get,d=l&&l.set;(!c||d)&&arguments.length===2&&(n=t[e]);var m=!s&&Or(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var C=c?c.call(t):n;return _n.target&&(o.depend(),m&&(m.dep.depend(),Array.isArray(C)&&uo(C))),C},set:function(C){var z=c?c.call(t):n;C===z||C!==C&&z!==z||c&&!d||(d?d.call(t,C):n=C,m=!s&&Or(C),o.notify())}})}}function Ja(t,e,n){if(Array.isArray(t)&&us(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Dr(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function dc(t,e){if(Array.isArray(t)&&us(e)){t.splice(e,1);return}var n=t.__ob__;t._isVue||n&&n.vmCount||!Ae(t,e)||(delete t[e],!!n&&n.dep.notify())}function uo(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&uo(e)}var fn=Ge.optionMergeStrategies;function Li(t,e){if(!e)return t;for(var n,r,s,o=so?Reflect.ownKeys(e):Object.keys(e),l=0;l<o.length;l++)n=o[l],n!=="__ob__"&&(r=t[n],s=e[n],Ae(t,n)?r!==s&&Le(r)&&Le(s)&&Li(r,s):Ja(t,n,s));return t}function Va(t,e,n){return n?function(){var s=typeof e=="function"?e.call(n,n):e,o=typeof t=="function"?t.call(n,n):t;return s?Li(s,o):o}:e?t?function(){return Li(typeof e=="function"?e.call(this,this):e,typeof t=="function"?t.call(this,this):t)}:e:t}fn.data=function(t,e,n){return n?Va(t,e,n):e&&typeof e!="function"?t:Va(t,e)};function pc(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n&&yd(n)}function yd(t){for(var e=[],n=0;n<t.length;n++)e.indexOf(t[n])===-1&&e.push(t[n]);return e}We.forEach(function(t){fn[t]=pc});function hr(t,e,n,r){var s=Object.create(t||null);return e?ie(s,e):s}Ee.forEach(function(t){fn[t+"s"]=hr}),fn.watch=function(t,e,n,r){if(t===io&&(t=void 0),e===io&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var s={};ie(s,t);for(var o in e){var l=s[o],c=e[o];l&&!Array.isArray(l)&&(l=[l]),s[o]=l?l.concat(c):Array.isArray(c)?c:[c]}return s},fn.props=fn.methods=fn.inject=fn.computed=function(t,e,n,r){if(!t)return e;var s=Object.create(null);return ie(s,t),e&&ie(s,e),s},fn.provide=Va;var Qa=function(t,e){return e===void 0?t:e};function Ri(t){for(var e in t.components)On(e)}function On(t){new RegExp("^[a-zA-Z][\\-\\.0-9_"+Ga.source+"]*$").test(t)||Ue('Invalid component name: "'+t+'". Component names should conform to valid custom element name in html5 specification.'),(sc(t)||Ge.isReservedTag(t))&&Ue("Do not use built-in or reserved HTML elements as component id: "+t)}function xd(t,e){var n=t.props;if(!!n){var r={},s,o,l;if(Array.isArray(n))for(s=n.length;s--;)o=n[s],typeof o=="string"&&(l=en(o),r[l]={type:null});else if(Le(n))for(var c in n)o=n[c],l=en(c),r[l]=Le(o)?o:{type:o};t.props=r}}function gc(t,e){var n=t.inject;if(!!n){var r=t.inject={};if(Array.isArray(n))for(var s=0;s<n.length;s++)r[n[s]]={from:n[s]};else if(Le(n))for(var o in n){var l=n[o];r[o]=Le(l)?ie({from:o},l):{from:l}}}}function vc(t){var e=t.directives;if(e)for(var n in e){var r=e[n];typeof r=="function"&&(e[n]={bind:r,update:r})}}function co(t,e,n){Le(e)||Ue('Invalid value for option "'+t+'": expected an Object, but got '+ic(e)+".",n)}function dn(t,e,n){if(typeof e=="function"&&(e=e.options),xd(e,n),gc(e,n),vc(e),!e._base&&(e.extends&&(t=dn(t,e.extends,n)),e.mixins))for(var r=0,s=e.mixins.length;r<s;r++)t=dn(t,e.mixins[r],n);var o={},l;for(l in t)c(l);for(l in e)Ae(t,l)||c(l);function c(d){var m=fn[d]||Qa;o[d]=m(t[d],e[d],n,d)}return o}function ho(t,e,n,r){if(typeof n=="string"){var s=t[e];if(Ae(s,n))return s[n];var o=en(n);if(Ae(s,o))return s[o];var l=$a(o);if(Ae(s,l))return s[l];var c=s[n]||s[o]||s[l];return c}}function qa(t,e,n,r){var s=e[t],o=!Ae(n,t),l=n[t],c=po(Boolean,s.type);if(c>-1){if(o&&!Ae(s,"default"))l=!1;else if(l===""||l===er(t)){var d=po(String,s.type);(d<0||c<d)&&(l=!0)}}if(l===void 0){l=fo(r,s,t);var m=Za;Ir(!0),Or(l),Ir(m)}return l}function fo(t,e,n){if(!!Ae(e,"default")){var r=e.default;return t&&t.$options.propsData&&t.$options.propsData[n]===void 0&&t._props[n]!==void 0?t._props[n]:typeof r=="function"&&gs(e.type)!=="Function"?r.call(t):r}}function yv(t,e,n,r,s){if(t.required&&s){Ue('Missing required prop: "'+e+'"',r);return}if(!(n==null&&!t.required)){var o=t.type,l=!o||o===!0,c=[];if(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length&&!l;d++){var m=ze(n,o[d],r);c.push(m.expectedType||""),l=m.valid}}var S=c.some(function(z){return z});if(!l&&S){Ue(go(e,n,c),r);return}var C=t.validator;C&&(C(n)||Ue('Invalid prop: custom validator check failed for prop "'+e+'".',r))}}var mc=/^(String|Number|Boolean|Function|Symbol|BigInt)$/;function ze(t,e,n){var r,s=gs(e);if(mc.test(s)){var o=typeof t;r=o===s.toLowerCase(),!r&&o==="object"&&(r=t instanceof e)}else if(s==="Object")r=Le(t);else if(s==="Array")r=Array.isArray(t);else try{r=t instanceof e}catch(l){Ue('Invalid prop type: "'+String(e)+'" is not a constructor',n),r=!1}return{valid:r,expectedType:s}}var tl=/^\s*function (\w+)/;function gs(t){var e=t&&t.toString().match(tl);return e?e[1]:""}function Wn(t,e){return gs(t)===gs(e)}function po(t,e){if(!Array.isArray(e))return Wn(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Wn(e[n],t))return n;return-1}function go(t,e,n){var r='Invalid prop: type check failed for prop "'+t+'". Expected '+n.map($a).join(", "),s=n[0],o=ic(e);return n.length===1&&je(s)&&je(typeof e)&&!el(s,o)&&(r+=" with value "+Lr(e,s)),r+=", got "+o+" ",je(o)&&(r+="with value "+Lr(e,o)+"."),r}function Lr(t,e){return e==="String"?'"'+t+'"':e==="Number"?""+Number(t):""+t}var bc=null;function je(t){return bc.some(function(e){return t.toLowerCase()===e})}function el(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.some(function(n){return n.toLowerCase()==="boolean"})}function Qr(t,e,n){ps();try{if(e)for(var r=e;r=r.$parent;){var s=r.$options.errorCaptured;if(s)for(var o=0;o<s.length;o++)try{var l=s[o].call(r,t,e,n)===!1;if(l)return}catch(c){yc(c,r,"errorCaptured hook")}}yc(t,e,n)}finally{An()}}function Fi(t,e,n,r,s){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&re(o)&&!o._handled&&(o.catch(function(l){return Qr(l,r,s+" (Promise/async)")}),o._handled=!0)}catch(l){Qr(l,r,s)}return o}function yc(t,e,n){if(Ge.errorHandler)try{return Ge.errorHandler.call(null,t,e,n)}catch(r){r!==t&&vo(r,null,"config.errorHandler")}vo(t,e,n)}function vo(t,e,n){if((Fe||Yr)&&typeof console!="undefined")console.error(t);else throw t}var nl=!1,qr=[],mo=!1;function bo(){mo=!1;var t=qr.slice(0);qr.length=0;for(var e=0;e<t.length;e++)t[e]()}var vs;if(typeof Promise!="undefined"&&Oi(Promise)){var ms=Promise.resolve();vs=function(){ms.then(bo),pd&&setTimeout(Ye)},nl=!0}else if(!Sn&&typeof MutationObserver!="undefined"&&(Oi(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var yo=1,wd=new MutationObserver(bo),xo=document.createTextNode(String(yo));wd.observe(xo,{characterData:!0}),vs=function(){yo=(yo+1)%2,xo.data=String(yo)},nl=!0}else typeof setImmediate!="undefined"&&Oi(setImmediate)?vs=function(){setImmediate(bo)}:vs=function(){setTimeout(bo,0)};function wo(t,e){var n;if(qr.push(function(){if(t)try{t.call(e)}catch(r){Qr(r,e,"nextTick")}else n&&n(e)}),mo||(mo=!0,vs()),!t&&typeof Promise!="undefined")return new Promise(function(r){n=r})}var xv,wv;if(!1)var Sv;var Sd;if(!1)var xc,_v,wc,_d,Ad,Ed,rl;var Sc=new ds;function bs(t){So(t,Sc),Sc.clear()}function So(t,e){var n,r,s=Array.isArray(t);if(!(!s&&!ge(t)||Object.isFrozen(t)||t instanceof hn)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(s)for(n=t.length;n--;)So(t[n],e);else for(r=Object.keys(t),n=r.length;n--;)So(t[r[n]],e)}}var _c=cn(function(t){var e=t.charAt(0)==="&";t=e?t.slice(1):t;var n=t.charAt(0)==="~";t=n?t.slice(1):t;var r=t.charAt(0)==="!";return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});function _o(t,e){function n(){var r=arguments,s=n.fns;if(Array.isArray(s))for(var o=s.slice(),l=0;l<o.length;l++)Fi(o[l],null,r,e,"v-on handler");else return Fi(s,null,arguments,e,"v-on handler")}return n.fns=t,n}function Ac(t,e,n,r,s,o){var l,c,d,m,S;for(l in t)c=d=t[l],m=e[l],S=_c(l),mt(d)||(mt(m)?(mt(d.fns)&&(d=t[l]=_o(d,o)),Ft(S.once)&&(d=t[l]=s(S.name,d,S.capture)),n(S.name,d,S.capture,S.passive,S.params)):d!==m&&(m.fns=d,t[l]=m));for(l in e)mt(t[l])&&(S=_c(l),r(S.name,e[l],S.capture))}function nr(t,e,n){t instanceof hn&&(t=t.data.hook||(t.data.hook={}));var r,s=t[e];function o(){n.apply(this,arguments),cr(r.fns,o)}mt(s)?r=_o([o]):Q(s.fns)&&Ft(s.merged)?(r=s,r.fns.push(o)):r=_o([s,o]),r.merged=!0,t[e]=r}function Ec(t,e,n){var r=e.options.props;if(!mt(r)){var s={},o=t.attrs,l=t.props;if(Q(o)||Q(l))for(var c in r){var d=er(c);if(!1)var m;Ao(s,l,c,d,!0)||Ao(s,o,c,d,!1)}return s}}function Ao(t,e,n,r,s){if(Q(e)){if(Ae(e,n))return t[n]=e[n],s||delete e[n],!0;if(Ae(e,r))return t[n]=e[r],s||delete e[r],!0}return!1}function Pd(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function ys(t){return as(t)?[Di(t)]:Array.isArray(t)?Pc(t):void 0}function Bt(t){return Q(t)&&Q(t.text)&&Ha(t.isComment)}function Pc(t,e){var n=[],r,s,o,l;for(r=0;r<t.length;r++)s=t[r],!(mt(s)||typeof s=="boolean")&&(o=n.length-1,l=n[o],Array.isArray(s)?s.length>0&&(s=Pc(s,(e||"")+"_"+r),Bt(s[0])&&Bt(l)&&(n[o]=Di(l.text+s[0].text),s.shift()),n.push.apply(n,s)):as(s)?Bt(l)?n[o]=Di(l.text+s):s!==""&&n.push(Di(s)):Bt(s)&&Bt(l)?n[o]=Di(l.text+s.text):(Ft(t._isVList)&&Q(s.tag)&&mt(s.key)&&Q(e)&&(s.key="__vlist"+e+"_"+r+"__"),n.push(s)));return n}function Cd(t){var e=t.$options.provide;e&&(t._provided=typeof e=="function"?e.call(t):e)}function xs(t){var e=il(t.$options.inject,t);e&&(Ir(!1),Object.keys(e).forEach(function(n){Dr(t,n,e[n])}),Ir(!0))}function il(t,e){if(t){for(var n=Object.create(null),r=so?Reflect.ownKeys(t):Object.keys(t),s=0;s<r.length;s++){var o=r[s];if(o!=="__ob__"){for(var l=t[o].from,c=e;c;){if(c._provided&&Ae(c._provided,l)){n[o]=c._provided[l];break}c=c.$parent}if(!c&&"default"in t[o]){var d=t[o].default;n[o]=typeof d=="function"?d.call(e):d}}}return n}}function sl(t,e){if(!t||!t.length)return{};for(var n={},r=0,s=t.length;r<s;r++){var o=t[r],l=o.data;if(l&&l.attrs&&l.attrs.slot&&delete l.attrs.slot,(o.context===e||o.fnContext===e)&&l&&l.slot!=null){var c=l.slot,d=n[c]||(n[c]=[]);o.tag==="template"?d.push.apply(d,o.children||[]):d.push(o)}else(n.default||(n.default=[])).push(o)}for(var m in n)n[m].every(Td)&&delete n[m];return n}function Td(t){return t.isComment&&!t.asyncFactory||t.text===" "}function Je(t){return t.isComment&&t.asyncFactory}function Eo(t,e,n){var r,s=Object.keys(e).length>0,o=t?!!t.$stable:!s,l=t&&t.$key;if(!t)r={};else{if(t._normalized)return t._normalized;if(o&&n&&n!==Tt&&l===n.$key&&!s&&!n.$hasNormal)return n;r={};for(var c in t)t[c]&&c[0]!=="$"&&(r[c]=Po(e,c,t[c]))}for(var d in e)d in r||(r[d]=ol(e,d));return t&&Object.isExtensible(t)&&(t._normalized=r),Pi(r,"$stable",o),Pi(r,"$key",l),Pi(r,"$hasNormal",s),r}function Po(t,e,n){var r=function(){var s=arguments.length?n.apply(null,arguments):n({});s=s&&typeof s=="object"&&!Array.isArray(s)?[s]:ys(s);var o=s&&s[0];return s&&(!o||s.length===1&&o.isComment&&!Je(o))?void 0:s};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function ol(t,e){return function(){return t[e]}}function Cc(t,e){var n,r,s,o,l;if(Array.isArray(t)||typeof t=="string")for(n=new Array(t.length),r=0,s=t.length;r<s;r++)n[r]=e(t[r],r);else if(typeof t=="number")for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(ge(t))if(so&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),d=c.next();!d.done;)n.push(e(d.value,n.length)),d=c.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,s=o.length;r<s;r++)l=o[r],n[r]=e(t[l],l,r);return Q(n)||(n=[]),n._isVList=!0,n}function Tc(t,e,n,r){var s=this.$scopedSlots[t],o;s?(n=n||{},r&&(n=ie(ie({},r),n)),o=s(n)||(typeof e=="function"?e():e)):o=this.$slots[t]||(typeof e=="function"?e():e);var l=n&&n.slot;return l?this.$createElement("template",{slot:l},o):o}function En(t){return ho(this.$options,"filters",t,!0)||hs}function fr(t,e){return Array.isArray(t)?t.indexOf(e)===-1:t!==e}function al(t,e,n,r,s){var o=Ge.keyCodes[e]||n;return s&&r&&!Ge.keyCodes[e]?fr(s,r):o?fr(o,t):r?er(r)!==e:t===void 0}function Ic(t,e,n,r,s){if(n&&ge(n)){Array.isArray(n)&&(n=uc(n));var o,l=function(d){if(d==="class"||d==="style"||dd(d))o=t;else{var m=t.attrs&&t.attrs.type;o=r||Ge.mustUseProp(e,m,d)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var S=en(d),C=er(d);if(!(S in o)&&!(C in o)&&(o[d]=n[d],s)){var z=t.on||(t.on={});z["update:"+d]=function(V){n[d]=V}}};for(var c in n)l(c)}return t}function Co(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),To(r,"__static__"+t,!1)),r}function Oc(t,e,n){return To(t,"__once__"+e+(n?"_"+n:""),!0),t}function To(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&typeof t[r]!="string"&&ll(t[r],e+"_"+r,n);else ll(t,e,n)}function ll(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ul(t,e){if(e&&Le(e)){var n=t.on=t.on?ie({},t.on):{};for(var r in e){var s=n[r],o=e[r];n[r]=s?[].concat(s,o):o}}return t}function Io(t,e,n,r){e=e||{$stable:!n};for(var s=0;s<t.length;s++){var o=t[s];Array.isArray(o)?Io(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Rr(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];typeof r=="string"&&r&&(t[e[n]]=e[n+1])}return t}function Id(t,e){return typeof t=="string"?e+t:t}function dr(t){t._o=Oc,t._n=Ai,t._s=fd,t._l=Cc,t._t=Tc,t._q=Kr,t._i=Wa,t._m=Co,t._f=En,t._k=al,t._b=Ic,t._v=Di,t._e=Vr,t._u=Io,t._g=ul,t._d=Rr,t._p=Id}function Oo(t,e,n,r,s){var o=this,l=s.options,c;Ae(r,"_uid")?(c=Object.create(r),c._original=r):(c=r,r=r._original);var d=Ft(l._compiled),m=!d;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||Tt,this.injections=il(l.inject,r),this.slots=function(){return o.$slots||Eo(t.scopedSlots,o.$slots=sl(n,r)),o.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Eo(t.scopedSlots,this.slots())}}),d&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Eo(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(S,C,z,V){var ot=Lo(c,S,C,z,V,m);return ot&&!Array.isArray(ot)&&(ot.fnScopeId=l._scopeId,ot.fnContext=r),ot}:this._c=function(S,C,z,V){return Lo(c,S,C,z,V,m)}}dr(Oo.prototype);function Dc(t,e,n,r,s){var o=t.options,l={},c=o.props;if(Q(c))for(var d in c)l[d]=qa(d,c,e||Tt);else Q(n.attrs)&&Lc(l,n.attrs),Q(n.props)&&Lc(l,n.props);var m=new Oo(n,l,s,r,t),S=o.render.call(null,m._c,m);if(S instanceof hn)return Do(S,n,m.parent,o,m);if(Array.isArray(S)){for(var C=ys(S)||[],z=new Array(C.length),V=0;V<C.length;V++)z[V]=Do(C[V],n,m.parent,o,m);return z}}function Do(t,e,n,r,s){var o=Ya(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Lc(t,e){for(var n in e)t[en(n)]=e[n]}var cl={init:function(e,n){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var r=e;cl.prepatch(r,r)}else{var s=e.componentInstance=Fc(e,ti);s.$mount(n?e.elm:void 0,n)}},prepatch:function(e,n){var r=n.componentOptions,s=n.componentInstance=e.componentInstance;Wc(s,r.propsData,r.listeners,n,r.children)},insert:function(e){var n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,zn(r,"mounted")),e.data.keepAlive&&(n._isMounted?gl(r):Ho(r,!0))},destroy:function(e){var n=e.componentInstance;n._isDestroyed||(e.data.keepAlive?dl(n,!0):n.$destroy())}},Rc=Object.keys(cl);function hl(t,e,n,r,s){if(!mt(t)){var o=n.$options._base;if(ge(t)&&(t=o.extend(t)),typeof t=="function"){var l;if(mt(t.cid)&&(l=t,t=Ss(l,o),t===void 0))return Mi(l,e,n,r,s);e=e||{},ml(t),Q(e.model)&&Mc(t.options,e);var c=Ec(e,t,s);if(Ft(t.options.functional))return Dc(t,c,e,n,r);var d=e.on;if(e.on=e.nativeOn,Ft(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}Od(e);var S=t.options.name||s,C=new hn("vue-component-"+t.cid+(S?"-"+S:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:c,listeners:d,tag:s,children:r},l);return C}}}function Fc(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return Q(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function Od(t){for(var e=t.hook||(t.hook={}),n=0;n<Rc.length;n++){var r=Rc[n],s=e[r],o=cl[r];s!==o&&!(s&&s._merged)&&(e[r]=s?kc(o,s):o)}}function kc(t,e){var n=function(r,s){t(r,s),e(r,s)};return n._merged=!0,n}function Mc(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var s=e.on||(e.on={}),o=s[r],l=e.model.callback;Q(o)?(Array.isArray(o)?o.indexOf(l)===-1:o!==l)&&(s[r]=[l].concat(o)):s[r]=l}var pn=1,Gn=2;function Lo(t,e,n,r,s,o){return(Array.isArray(n)||as(n))&&(s=r,r=n,n=void 0),Ft(o)&&(s=Gn),Dd(t,e,n,r,s)}function Dd(t,e,n,r,s){if(Q(n)&&Q(n.__ob__)||(Q(n)&&Q(n.is)&&(e=n.is),!e))return Vr();Array.isArray(r)&&typeof r[0]=="function"&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),s===Gn?r=ys(r):s===pn&&(r=Pd(r));var o,l;if(typeof e=="string"){var c;l=t.$vnode&&t.$vnode.ns||Ge.getTagNamespace(e),Ge.isReservedTag(e)?o=new hn(Ge.parsePlatformTagName(e),n,r,void 0,void 0,t):(!n||!n.pre)&&Q(c=ho(t.$options,"components",e))?o=hl(c,n,t,r,e):o=new hn(e,n,r,void 0,void 0,t)}else o=hl(e,n,t,r);return Array.isArray(o)?o:Q(o)?(Q(l)&&ws(o,l),Q(n)&&ki(n),o):Vr()}function ws(t,e,n){if(t.ns=e,t.tag==="foreignObject"&&(e=void 0,n=!0),Q(t.children))for(var r=0,s=t.children.length;r<s;r++){var o=t.children[r];Q(o.tag)&&(mt(o.ns)||Ft(n)&&o.tag!=="svg")&&ws(o,e,n)}}function ki(t){ge(t.style)&&bs(t.style),ge(t.class)&&bs(t.class)}function Nc(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=sl(e._renderChildren,r),t.$scopedSlots=Tt,t._c=function(o,l,c,d){return Lo(t,o,l,c,d,!1)},t.$createElement=function(o,l,c,d){return Lo(t,o,l,c,d,!0)};var s=n&&n.data;Dr(t,"$attrs",s&&s.attrs||Tt,null,!0),Dr(t,"$listeners",e._parentListeners||Tt,null,!0)}var Ro=null;function Ld(t){dr(t.prototype),t.prototype.$nextTick=function(e){return wo(e,this)},t.prototype._render=function(){var e=this,n=e.$options,r=n.render,s=n._parentVnode;s&&(e.$scopedSlots=Eo(s.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=s;var o;try{Ro=e,o=r.call(e._renderProxy,e.$createElement)}catch(l){Qr(l,e,"render"),o=e._vnode}finally{Ro=null}return Array.isArray(o)&&o.length===1&&(o=o[0]),o instanceof hn||(o=Vr()),o.parent=s,o}}function Fo(t,e){return(t.__esModule||so&&t[Symbol.toStringTag]==="Module")&&(t=t.default),ge(t)?e.extend(t):t}function Mi(t,e,n,r,s){var o=Vr();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:s},o}function Ss(t,e){if(Ft(t.error)&&Q(t.errorComp))return t.errorComp;if(Q(t.resolved))return t.resolved;var n=Ro;if(n&&Q(t.owners)&&t.owners.indexOf(n)===-1&&t.owners.push(n),Ft(t.loading)&&Q(t.loadingComp))return t.loadingComp;if(n&&!Q(t.owners)){var r=t.owners=[n],s=!0,o=null,l=null;n.$on("hook:destroyed",function(){return cr(r,n)});var c=function(C){for(var z=0,V=r.length;z<V;z++)r[z].$forceUpdate();C&&(r.length=0,o!==null&&(clearTimeout(o),o=null),l!==null&&(clearTimeout(l),l=null))},d=ro(function(C){t.resolved=Fo(C,e),s?r.length=0:c(!0)}),m=ro(function(C){Q(t.errorComp)&&(t.error=!0,c(!0))}),S=t(d,m);return ge(S)&&(re(S)?mt(t.resolved)&&S.then(d,m):re(S.component)&&(S.component.then(d,m),Q(S.error)&&(t.errorComp=Fo(S.error,e)),Q(S.loading)&&(t.loadingComp=Fo(S.loading,e),S.delay===0?t.loading=!0:o=setTimeout(function(){o=null,mt(t.resolved)&&mt(t.error)&&(t.loading=!0,c(!1))},S.delay||200)),Q(S.timeout)&&(l=setTimeout(function(){l=null,mt(t.resolved)&&m(null)},S.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function Bc(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(Q(n)&&(Q(n.componentOptions)||Je(n)))return n}}function Hc(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&No(t,e)}var Ni;function ko(t,e){Ni.$on(t,e)}function $c(t,e){Ni.$off(t,e)}function Mo(t,e){var n=Ni;return function r(){var s=e.apply(null,arguments);s!==null&&n.$off(t,r)}}function No(t,e,n){Ni=t,Ac(e,n||{},ko,$c,Mo,t),Ni=void 0}function Bo(t){var e=/^hook:/;t.prototype.$on=function(n,r){var s=this;if(Array.isArray(n))for(var o=0,l=n.length;o<l;o++)s.$on(n[o],r);else(s._events[n]||(s._events[n]=[])).push(r),e.test(n)&&(s._hasHookEvent=!0);return s},t.prototype.$once=function(n,r){var s=this;function o(){s.$off(n,o),r.apply(s,arguments)}return o.fn=r,s.$on(n,o),s},t.prototype.$off=function(n,r){var s=this;if(!arguments.length)return s._events=Object.create(null),s;if(Array.isArray(n)){for(var o=0,l=n.length;o<l;o++)s.$off(n[o],r);return s}var c=s._events[n];if(!c)return s;if(!r)return s._events[n]=null,s;for(var d,m=c.length;m--;)if(d=c[m],d===r||d.fn===r){c.splice(m,1);break}return s},t.prototype.$emit=function(n){var r=this;if(!1)var s;var o=r._events[n];if(o){o=o.length>1?Ei(o):o;for(var l=Ei(arguments,1),c='event handler for "'+n+'"',d=0,m=o.length;d<m;d++)Fi(o[d],r,l,r,c)}return r}}var ti=null,Rd=!1;function _s(t){var e=ti;return ti=t,function(){ti=e}}function Uc(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function fl(t){t.prototype._update=function(e,n){var r=this,s=r.$el,o=r._vnode,l=_s(r);r._vnode=e,o?r.$el=r.__patch__(o,e):r.$el=r.__patch__(r.$el,e,n,!1),l(),s&&(s.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},t.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},t.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){zn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var n=e.$parent;n&&!n._isBeingDestroyed&&!e.$options.abstract&&cr(n.$children,e),e._watcher&&e._watcher.teardown();for(var r=e._watchers.length;r--;)e._watchers[r].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),zn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Fd(t,e,n){t.$el=e,t.$options.render||(t.$options.render=Vr),zn(t,"beforeMount");var r;return r=function(){t._update(t._render(),n)},new jn(t,r,Ye,{before:function(){t._isMounted&&!t._isDestroyed&&zn(t,"beforeUpdate")}},!0),n=!1,t.$vnode==null&&(t._isMounted=!0,zn(t,"mounted")),t}function Wc(t,e,n,r,s){var o=r.data.scopedSlots,l=t.$scopedSlots,c=!!(o&&!o.$stable||l!==Tt&&!l.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),d=!!(s||t.$options._renderChildren||c);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=s,t.$attrs=r.data.attrs||Tt,t.$listeners=n||Tt,e&&t.$options.props){Ir(!1);for(var m=t._props,S=t.$options._propKeys||[],C=0;C<S.length;C++){var z=S[C],V=t.$options.props;m[z]=qa(z,V,e,t)}Ir(!0),t.$options.propsData=e}n=n||Tt;var ot=t.$options._parentListeners;t.$options._parentListeners=n,No(t,n,ot),d&&(t.$slots=sl(s,r.context),t.$forceUpdate())}function rr(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ho(t,e){if(e){if(t._directInactive=!1,rr(t))return}else if(t._directInactive)return;if(t._inactive||t._inactive===null){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ho(t.$children[n]);zn(t,"activated")}}function dl(t,e){if(!(e&&(t._directInactive=!0,rr(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)dl(t.$children[n]);zn(t,"deactivated")}}function zn(t,e){ps();var n=t.$options[e],r=e+" hook";if(n)for(var s=0,o=n.length;s<o;s++)Fi(n[s],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),An()}var kd=100,pr=[],pl=[],Dn={},Gc={},As=!1,Es=!1,gr=0;function Bi(){gr=pr.length=pl.length=0,Dn={},As=Es=!1}var It=0,Hi=Date.now;if(Fe&&!Sn){var Ps=window.performance;Ps&&typeof Ps.now=="function"&&Hi()>document.createEvent("Event").timeStamp&&(Hi=function(){return Ps.now()})}function ei(){It=Hi(),Es=!0;var t,e;for(pr.sort(function(s,o){return s.id-o.id}),gr=0;gr<pr.length;gr++)t=pr[gr],t.before&&t.before(),e=t.id,Dn[e]=null,t.run();var n=pl.slice(),r=pr.slice();Bi(),zc(n),Md(r),zt&&Ge.devtools&&zt.emit("flush")}function Md(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&zn(r,"updated")}}function gl(t){t._inactive=!1,pl.push(t)}function zc(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ho(t[e],!0)}function Ve(t){var e=t.id;if(Dn[e]==null){if(Dn[e]=!0,!Es)pr.push(t);else{for(var n=pr.length-1;n>gr&&pr[n].id>t.id;)n--;pr.splice(n+1,0,t)}As||(As=!0,wo(ei))}}var Nd=0,jn=function(e,n,r,s,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),s?(this.deep=!!s.deep,this.user=!!s.user,this.lazy=!!s.lazy,this.sync=!!s.sync,this.before=s.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++Nd,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ds,this.newDepIds=new ds,this.expression="",typeof n=="function"?this.getter=n:(this.getter=fs(n),this.getter||(this.getter=Ye)),this.value=this.lazy?void 0:this.get()};jn.prototype.get=function(){ps(this);var e,n=this.vm;try{e=this.getter.call(n,n)}catch(r){if(this.user)Qr(r,n,'getter for watcher "'+this.expression+'"');else throw r}finally{this.deep&&bs(e),An(),this.cleanupDeps()}return e},jn.prototype.addDep=function(e){var n=e.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(e),this.depIds.has(n)||e.addSub(this))},jn.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var n=this.deps[e];this.newDepIds.has(n.id)||n.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},jn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ve(this)},jn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||ge(e)||this.deep){var n=this.value;if(this.value=e,this.user){var r='callback for watcher "'+this.expression+'"';Fi(this.cb,this.vm,[e,n],this.vm,r)}else this.cb.call(this.vm,e,n)}}},jn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},jn.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},jn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||cr(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var vr={enumerable:!0,configurable:!0,get:Ye,set:Ye};function vl(t,e,n){vr.get=function(){return this[e][n]},vr.set=function(s){this[e][n]=s},Object.defineProperty(t,n,vr)}function jc(t){t._watchers=[];var e=t.$options;e.props&&Bd(t,e.props),e.methods&&Ud(t,e.methods),e.data?Hd(t):Or(t._data={},!0),e.computed&&rn(t,e.computed),e.watch&&e.watch!==io&&Wd(t,e.watch)}function Bd(t,e){var n=t.$options.propsData||{},r=t._props={},s=t.$options._propKeys=[],o=!t.$parent;o||Ir(!1);var l=function(d){s.push(d);var m=qa(d,e,n,t);if(!1)var S;else Dr(r,d,m);d in t||vl(t,"_props",d)};for(var c in e)l(c);Ir(!0)}function Hd(t){var e=t.$options.data;e=t._data=typeof e=="function"?$d(e,t):e||{},Le(e)||(e={});for(var n=Object.keys(e),r=t.$options.props,s=t.$options.methods,o=n.length;o--;){var l=n[o];r&&Ae(r,l)||hc(l)||vl(t,"_data",l)}Or(e,!0)}function $d(t,e){ps();try{return t.call(e,e)}catch(n){return Qr(n,e,"data()"),{}}finally{An()}}var mr={lazy:!0};function rn(t,e){var n=t._computedWatchers=Object.create(null),r=Ze();for(var s in e){var o=e[s],l=typeof o=="function"?o:o.get;r||(n[s]=new jn(t,l||Ye,Ye,mr)),s in t||$o(t,s,o)}}function $o(t,e,n){var r=!Ze();typeof n=="function"?(vr.get=r?Xc(e):Uo(n),vr.set=Ye):(vr.get=n.get?r&&n.cache!==!1?Xc(e):Uo(n.get):Ye,vr.set=n.set||Ye),Object.defineProperty(t,e,vr)}function Xc(t){return function(){var n=this._computedWatchers&&this._computedWatchers[t];if(n)return n.dirty&&n.evaluate(),_n.target&&n.depend(),n.value}}function Uo(t){return function(){return t.call(this,this)}}function Ud(t,e){var n=t.$options.props;for(var r in e)t[r]=typeof e[r]!="function"?Ye:Xr(e[r],t)}function Wd(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var s=0;s<r.length;s++)ni(t,n,r[s]);else ni(t,n,r)}}function ni(t,e,n,r){return Le(n)&&(r=n,n=n.handler),typeof n=="string"&&(n=t[n]),t.$watch(e,n,r)}function Kc(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Ja,t.prototype.$delete=dc,t.prototype.$watch=function(r,s,o){var l=this;if(Le(s))return ni(l,r,s,o);o=o||{},o.user=!0;var c=new jn(l,r,s,o);if(o.immediate){var d='callback for immediate watcher "'+c.expression+'"';ps(),Fi(s,l,[c.value],l,d),An()}return function(){c.teardown()}}}var Yc=0;function Gd(t){t.prototype._init=function(e){var n=this;n._uid=Yc++;var r,s;n._isVue=!0,e&&e._isComponent?zd(n,e):n.$options=dn(ml(n.constructor),e||{},n),n._renderProxy=n,n._self=n,Uc(n),Hc(n),Nc(n),zn(n,"beforeCreate"),xs(n),jc(n),Cd(n),zn(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}function zd(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var s=r.componentOptions;n.propsData=s.propsData,n._parentListeners=s.listeners,n._renderChildren=s.children,n._componentTag=s.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function ml(t){var e=t.options;if(t.super){var n=ml(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var s=jd(t);s&&ie(t.extendOptions,s),e=t.options=dn(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function jd(t){var e,n=t.options,r=t.sealedOptions;for(var s in n)n[s]!==r[s]&&(e||(e={}),e[s]=n[s]);return e}function be(t){this._init(t)}Gd(be),Kc(be),Bo(be),fl(be),Ld(be);function Zc(t){t.use=function(e){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(e)>-1)return this;var r=Ei(arguments,1);return r.unshift(this),typeof e.install=="function"?e.install.apply(e,r):typeof e=="function"&&e.apply(null,r),n.push(e),this}}function Xd(t){t.mixin=function(e){return this.options=dn(this.options,e),this}}function bl(t){t.cid=0;var e=1;t.extend=function(n){n=n||{};var r=this,s=r.cid,o=n._Ctor||(n._Ctor={});if(o[s])return o[s];var l=n.name||r.options.name,c=function(m){this._init(m)};return c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.cid=e++,c.options=dn(r.options,n),c.super=r,c.options.props&&Jc(c),c.options.computed&&Cs(c),c.extend=r.extend,c.mixin=r.mixin,c.use=r.use,Ee.forEach(function(d){c[d]=r[d]}),l&&(c.options.components[l]=c),c.superOptions=r.options,c.extendOptions=n,c.sealedOptions=ie({},c.options),o[s]=c,c}}function Jc(t){var e=t.options.props;for(var n in e)vl(t.prototype,"_props",n)}function Cs(t){var e=t.options.computed;for(var n in e)$o(t.prototype,n,e[n])}function yl(t){Ee.forEach(function(e){t[e]=function(n,r){return r?(e==="component"&&Le(r)&&(r.name=r.name||n,r=this.options._base.extend(r)),e==="directive"&&typeof r=="function"&&(r={bind:r,update:r}),this.options[e+"s"][n]=r,r):this.options[e+"s"][n]}})}function xl(t){return t&&(t.Ctor.options.name||t.tag)}function Ts(t,e){return Array.isArray(t)?t.indexOf(e)>-1:typeof t=="string"?t.split(",").indexOf(e)>-1:ls(t)?t.test(e):!1}function Is(t,e){var n=t.cache,r=t.keys,s=t._vnode;for(var o in n){var l=n[o];if(l){var c=l.name;c&&!e(c)&&Wo(n,o,r,s)}}}function Wo(t,e,n,r){var s=t[e];s&&(!r||s.tag!==r.tag)&&s.componentInstance.$destroy(),t[e]=null,cr(n,e)}var Xn=[String,RegExp,Array],ri={name:"keep-alive",abstract:!0,props:{include:Xn,exclude:Xn,max:[String,Number]},methods:{cacheVNode:function(){var e=this,n=e.cache,r=e.keys,s=e.vnodeToCache,o=e.keyToCache;if(s){var l=s.tag,c=s.componentInstance,d=s.componentOptions;n[o]={name:xl(d),tag:l,componentInstance:c},r.push(o),this.max&&r.length>parseInt(this.max)&&Wo(n,r[0],r,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Wo(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",function(n){Is(e,function(r){return Ts(n,r)})}),this.$watch("exclude",function(n){Is(e,function(r){return!Ts(n,r)})})},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,n=Bc(e),r=n&&n.componentOptions;if(r){var s=xl(r),o=this,l=o.include,c=o.exclude;if(l&&(!s||!Ts(l,s))||c&&s&&Ts(c,s))return n;var d=this,m=d.cache,S=d.keys,C=n.key==null?r.Ctor.cid+(r.tag?"::"+r.tag:""):n.key;m[C]?(n.componentInstance=m[C].componentInstance,cr(S,C),S.push(C)):(this.vnodeToCache=n,this.keyToCache=C),n.data.keepAlive=!0}return n||e&&e[0]}},Kd={KeepAlive:ri};function Vc(t){var e={};e.get=function(){return Ge},Object.defineProperty(t,"config",e),t.util={warn:Ue,extend:ie,mergeOptions:dn,defineReactive:Dr},t.set=Ja,t.delete=dc,t.nextTick=wo,t.observable=function(n){return Or(n),n},t.options=Object.create(null),Ee.forEach(function(n){t.options[n+"s"]=Object.create(null)}),t.options._base=t,ie(t.options.components,Kd),Zc(t),Xd(t),bl(t),yl(t)}Vc(be),Object.defineProperty(be.prototype,"$isServer",{get:Ze}),Object.defineProperty(be.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(be,"FunctionalRenderContext",{value:Oo}),be.version="2.6.14";var Yd=Re("style,class"),Zd=Re("input,textarea,option,select,progress"),Qc=function(t,e,n){return n==="value"&&Zd(t)&&e!=="button"||n==="selected"&&t==="option"||n==="checked"&&t==="input"||n==="muted"&&t==="video"},qc=Re("contenteditable,draggable,spellcheck"),Jd=Re("events,caret,typing,plaintext-only"),Vd=function(t,e){return Go(e)||e==="false"?"false":t==="contenteditable"&&Jd(e)?e:"true"},Qd=Re("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),wl="http://www.w3.org/1999/xlink",Sl=function(t){return t.charAt(5)===":"&&t.slice(0,5)==="xlink"},th=function(t){return Sl(t)?t.slice(6,t.length):""},Go=function(t){return t==null||t===!1};function eh(t){for(var e=t.data,n=t,r=t;Q(r.componentInstance);)r=r.componentInstance._vnode,r&&r.data&&(e=_l(r.data,e));for(;Q(n=n.parent);)n&&n.data&&(e=_l(e,n.data));return nh(e.staticClass,e.class)}function _l(t,e){return{staticClass:Al(t.staticClass,e.staticClass),class:Q(t.class)?[t.class,e.class]:e.class}}function nh(t,e){return Q(t)||Q(e)?Al(t,El(e)):""}function Al(t,e){return t?e?t+" "+e:t:e||""}function El(t){return Array.isArray(t)?qd(t):ge(t)?rh(t):typeof t=="string"?t:""}function qd(t){for(var e="",n,r=0,s=t.length;r<s;r++)Q(n=El(t[r]))&&n!==""&&(e&&(e+=" "),e+=n);return e}function rh(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var tp={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ep=Re("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Pl=Re("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),np=function(t){return t==="pre"},Cl=function(t){return ep(t)||Pl(t)};function ih(t){if(Pl(t))return"svg";if(t==="math")return"math"}var sn=Object.create(null);function rp(t){if(!Fe)return!0;if(Cl(t))return!1;if(t=t.toLowerCase(),sn[t]!=null)return sn[t];var e=document.createElement(t);return t.indexOf("-")>-1?sn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:sn[t]=/HTMLUnknownElement/.test(e.toString())}var Tl=Re("text,number,password,search,email,tel,url");function Il(t){if(typeof t=="string"){var e=document.querySelector(t);return e||document.createElement("div")}else return t}function sh(t,e){var n=document.createElement(t);return t!=="select"||e.data&&e.data.attrs&&e.data.attrs.multiple!==void 0&&n.setAttribute("multiple","multiple"),n}function ip(t,e){return document.createElementNS(tp[t],e)}function sp(t){return document.createTextNode(t)}function op(t){return document.createComment(t)}function ap(t,e,n){t.insertBefore(e,n)}function Ol(t,e){t.removeChild(e)}function lp(t,e){t.appendChild(e)}function up(t){return t.parentNode}function cp(t){return t.nextSibling}function hp(t){return t.tagName}function fp(t,e){t.textContent=e}function dp(t,e){t.setAttribute(e,"")}var pp=Object.freeze({createElement:sh,createElementNS:ip,createTextNode:sp,createComment:op,insertBefore:ap,removeChild:Ol,appendChild:lp,parentNode:up,nextSibling:cp,tagName:hp,setTextContent:fp,setStyleScope:dp}),gp={create:function(e,n){$i(n)},update:function(e,n){e.data.ref!==n.data.ref&&($i(e,!0),$i(n))},destroy:function(e){$i(e,!0)}};function $i(t,e){var n=t.data.ref;if(!!Q(n)){var r=t.context,s=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?cr(o[n],s):o[n]===s&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(s)<0&&o[n].push(s):o[n]=[s]:o[n]=s}}var ii=new hn("",{},[]),Os=["create","activate","update","remove","destroy"];function si(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&Q(t.data)===Q(e.data)&&vp(t,e)||Ft(t.isAsyncPlaceholder)&&mt(e.asyncFactory.error))}function vp(t,e){if(t.tag!=="input")return!0;var n,r=Q(n=t.data)&&Q(n=n.attrs)&&n.type,s=Q(n=e.data)&&Q(n=n.attrs)&&n.type;return r===s||Tl(r)&&Tl(s)}function mp(t,e,n){var r,s,o={};for(r=e;r<=n;++r)s=t[r].key,Q(s)&&(o[s]=r);return o}function bp(t){var e,n,r={},s=t.modules,o=t.nodeOps;for(e=0;e<Os.length;++e)for(r[Os[e]]=[],n=0;n<s.length;++n)Q(s[n][Os[e]])&&r[Os[e]].push(s[n][Os[e]]);function l(et){return new hn(o.tagName(et).toLowerCase(),{},[],void 0,et)}function c(et,J){function ct(){--ct.listeners==0&&d(et)}return ct.listeners=J,ct}function d(et){var J=o.parentNode(et);Q(J)&&o.removeChild(J,et)}function m(et,J){return!J&&!et.ns&&!(Ge.ignoredElements.length&&Ge.ignoredElements.some(function(ct){return ls(ct)?ct.test(et.tag):ct===et.tag}))&&Ge.isUnknownElement(et.tag)}var S=0;function C(et,J,ct,St,Nt,le,te){if(Q(et.elm)&&Q(le)&&(et=le[te]=Ya(et)),et.isRootInsert=!Nt,!z(et,J,ct,St)){var ee=et.data,pe=et.children,he=et.tag;Q(he)?(et.elm=et.ns?o.createElementNS(et.ns,he):o.createElement(he,et),Vt(et),pt(et,pe,J),Q(ee)&&Ot(et,J),ft(ct,et.elm,St)):Ft(et.isComment)?(et.elm=o.createComment(et.text),ft(ct,et.elm,St)):(et.elm=o.createTextNode(et.text),ft(ct,et.elm,St))}}function z(et,J,ct,St){var Nt=et.data;if(Q(Nt)){var le=Q(et.componentInstance)&&Nt.keepAlive;if(Q(Nt=Nt.hook)&&Q(Nt=Nt.init)&&Nt(et,!1),Q(et.componentInstance))return V(et,J),ft(ct,et.elm,St),Ft(le)&&ot(et,J,ct,St),!0}}function V(et,J){Q(et.data.pendingInsert)&&(J.push.apply(J,et.data.pendingInsert),et.data.pendingInsert=null),et.elm=et.componentInstance.$el,wt(et)?(Ot(et,J),Vt(et)):($i(et),J.push(et))}function ot(et,J,ct,St){for(var Nt,le=et;le.componentInstance;)if(le=le.componentInstance._vnode,Q(Nt=le.data)&&Q(Nt=Nt.transition)){for(Nt=0;Nt<r.activate.length;++Nt)r.activate[Nt](ii,le);J.push(le);break}ft(ct,et.elm,St)}function ft(et,J,ct){Q(et)&&(Q(ct)?o.parentNode(ct)===et&&o.insertBefore(et,J,ct):o.appendChild(et,J))}function pt(et,J,ct){if(Array.isArray(J))for(var St=0;St<J.length;++St)C(J[St],ct,et.elm,null,!0,J,St);else as(et.text)&&o.appendChild(et.elm,o.createTextNode(String(et.text)))}function wt(et){for(;et.componentInstance;)et=et.componentInstance._vnode;return Q(et.tag)}function Ot(et,J){for(var ct=0;ct<r.create.length;++ct)r.create[ct](ii,et);e=et.data.hook,Q(e)&&(Q(e.create)&&e.create(ii,et),Q(e.insert)&&J.push(et))}function Vt(et){var J;if(Q(J=et.fnScopeId))o.setStyleScope(et.elm,J);else for(var ct=et;ct;)Q(J=ct.context)&&Q(J=J.$options._scopeId)&&o.setStyleScope(et.elm,J),ct=ct.parent;Q(J=ti)&&J!==et.context&&J!==et.fnContext&&Q(J=J.$options._scopeId)&&o.setStyleScope(et.elm,J)}function Qt(et,J,ct,St,Nt,le){for(;St<=Nt;++St)C(ct[St],le,et,J,!1,ct,St)}function se(et){var J,ct,St=et.data;if(Q(St))for(Q(J=St.hook)&&Q(J=J.destroy)&&J(et),J=0;J<r.destroy.length;++J)r.destroy[J](et);if(Q(J=et.children))for(ct=0;ct<et.children.length;++ct)se(et.children[ct])}function At(et,J,ct){for(;J<=ct;++J){var St=et[J];Q(St)&&(Q(St.tag)?($t(St),se(St)):d(St.elm))}}function $t(et,J){if(Q(J)||Q(et.data)){var ct,St=r.remove.length+1;for(Q(J)?J.listeners+=St:J=c(et.elm,St),Q(ct=et.componentInstance)&&Q(ct=ct._vnode)&&Q(ct.data)&&$t(ct,J),ct=0;ct<r.remove.length;++ct)r.remove[ct](et,J);Q(ct=et.data.hook)&&Q(ct=ct.remove)?ct(et,J):J()}else d(et.elm)}function Nr(et,J,ct,St,Nt){for(var le=0,te=0,ee=J.length-1,pe=J[0],he=J[ee],fe=ct.length-1,Ke=ct[0],sr=ct[fe],Bs,Vi,Qi,rm,lv=!Nt;le<=ee&&te<=fe;)mt(pe)?pe=J[++le]:mt(he)?he=J[--ee]:si(pe,Ke)?(ae(pe,Ke,St,ct,te),pe=J[++le],Ke=ct[++te]):si(he,sr)?(ae(he,sr,St,ct,fe),he=J[--ee],sr=ct[--fe]):si(pe,sr)?(ae(pe,sr,St,ct,fe),lv&&o.insertBefore(et,pe.elm,o.nextSibling(he.elm)),pe=J[++le],sr=ct[--fe]):si(he,Ke)?(ae(he,Ke,St,ct,te),lv&&o.insertBefore(et,he.elm,pe.elm),he=J[--ee],Ke=ct[++te]):(mt(Bs)&&(Bs=mp(J,le,ee)),Vi=Q(Ke.key)?Bs[Ke.key]:Br(Ke,J,le,ee),mt(Vi)?C(Ke,St,et,pe.elm,!1,ct,te):(Qi=J[Vi],si(Qi,Ke)?(ae(Qi,Ke,St,ct,te),J[Vi]=void 0,lv&&o.insertBefore(et,Qi.elm,pe.elm)):C(Ke,St,et,pe.elm,!1,ct,te)),Ke=ct[++te]);le>ee?(rm=mt(ct[fe+1])?null:ct[fe+1].elm,Qt(et,rm,ct,te,fe,St)):te>fe&&At(J,le,ee)}function bu(et){for(var J={},ct=0;ct<et.length;ct++){var St=et[ct],Nt=St.key;Q(Nt)&&(J[Nt]?Ue("Duplicate keys detected: '"+Nt+"'. This may cause an update error.",St.context):J[Nt]=!0)}}function Br(et,J,ct,St){for(var Nt=ct;Nt<St;Nt++){var le=J[Nt];if(Q(le)&&si(et,le))return Nt}}function ae(et,J,ct,St,Nt,le){if(et!==J){Q(J.elm)&&Q(St)&&(J=St[Nt]=Ya(J));var te=J.elm=et.elm;if(Ft(et.isAsyncPlaceholder)){Q(J.asyncFactory.resolved)?Mn(et.elm,J,ct):J.isAsyncPlaceholder=!0;return}if(Ft(J.isStatic)&&Ft(et.isStatic)&&J.key===et.key&&(Ft(J.isCloned)||Ft(J.isOnce))){J.componentInstance=et.componentInstance;return}var ee,pe=J.data;Q(pe)&&Q(ee=pe.hook)&&Q(ee=ee.prepatch)&&ee(et,J);var he=et.children,fe=J.children;if(Q(pe)&&wt(J)){for(ee=0;ee<r.update.length;++ee)r.update[ee](et,J);Q(ee=pe.hook)&&Q(ee=ee.update)&&ee(et,J)}mt(J.text)?Q(he)&&Q(fe)?he!==fe&&Nr(te,he,fe,ct,le):Q(fe)?(Q(et.text)&&o.setTextContent(te,""),Qt(te,null,fe,0,fe.length-1,ct)):Q(he)?At(he,0,he.length-1):Q(et.text)&&o.setTextContent(te,""):et.text!==J.text&&o.setTextContent(te,J.text),Q(pe)&&Q(ee=pe.hook)&&Q(ee=ee.postpatch)&&ee(et,J)}}function Yt(et,J,ct){if(Ft(ct)&&Q(et.parent))et.parent.data.pendingInsert=J;else for(var St=0;St<J.length;++St)J[St].data.hook.insert(J[St])}var Xe=!1,Ce=Re("attrs,class,staticClass,staticStyle,key");function Mn(et,J,ct,St){var Nt,le=J.tag,te=J.data,ee=J.children;if(St=St||te&&te.pre,J.elm=et,Ft(J.isComment)&&Q(J.asyncFactory))return J.isAsyncPlaceholder=!0,!0;if(Q(te)&&(Q(Nt=te.hook)&&Q(Nt=Nt.init)&&Nt(J,!0),Q(Nt=J.componentInstance)))return V(J,ct),!0;if(Q(le)){if(Q(ee))if(!et.hasChildNodes())pt(J,ee,ct);else if(Q(Nt=te)&&Q(Nt=Nt.domProps)&&Q(Nt=Nt.innerHTML)){if(Nt!==et.innerHTML)return!1}else{for(var pe=!0,he=et.firstChild,fe=0;fe<ee.length;fe++){if(!he||!Mn(he,ee[fe],ct,St)){pe=!1;break}he=he.nextSibling}if(!pe||he)return!1}if(Q(te)){var Ke=!1;for(var sr in te)if(!Ce(sr)){Ke=!0,Ot(J,ct);break}!Ke&&te.class&&bs(te.class)}}else et.data!==J.text&&(et.data=J.text);return!0}function Yn(et,J,ct){return Q(J.tag)?J.tag.indexOf("vue-component")===0||!m(J,ct)&&J.tag.toLowerCase()===(et.tagName&&et.tagName.toLowerCase()):et.nodeType===(J.isComment?8:3)}return function(J,ct,St,Nt){if(mt(ct)){Q(J)&&se(J);return}var le=!1,te=[];if(mt(J))le=!0,C(ct,te);else{var ee=Q(J.nodeType);if(!ee&&si(J,ct))ae(J,ct,te,null,null,Nt);else{if(ee){if(J.nodeType===1&&J.hasAttribute(cc)&&(J.removeAttribute(cc),St=!0),Ft(St)&&Mn(J,ct,te))return Yt(ct,te,!0),J;J=l(J)}var pe=J.elm,he=o.parentNode(pe);if(C(ct,te,pe._leaveCb?null:he,o.nextSibling(pe)),Q(ct.parent))for(var fe=ct.parent,Ke=wt(ct);fe;){for(var sr=0;sr<r.destroy.length;++sr)r.destroy[sr](fe);if(fe.elm=ct.elm,Ke){for(var Bs=0;Bs<r.create.length;++Bs)r.create[Bs](ii,fe);var Vi=fe.data.hook.insert;if(Vi.merged)for(var Qi=1;Qi<Vi.fns.length;Qi++)Vi.fns[Qi]()}else $i(fe);fe=fe.parent}Q(he)?At([J],0,0):Q(J.tag)&&se(J)}}return Yt(ct,te,le),ct.elm}}var yp={create:Dl,update:Dl,destroy:function(e){Dl(e,ii)}};function Dl(t,e){(t.data.directives||e.data.directives)&&xp(t,e)}function xp(t,e){var n=t===ii,r=e===ii,s=oh(t.data.directives,t.context),o=oh(e.data.directives,e.context),l=[],c=[],d,m,S;for(d in o)m=s[d],S=o[d],m?(S.oldValue=m.value,S.oldArg=m.arg,Ui(S,"update",e,t),S.def&&S.def.componentUpdated&&c.push(S)):(Ui(S,"bind",e,t),S.def&&S.def.inserted&&l.push(S));if(l.length){var C=function(){for(var z=0;z<l.length;z++)Ui(l[z],"inserted",e,t)};n?nr(e,"insert",C):C()}if(c.length&&nr(e,"postpatch",function(){for(var z=0;z<c.length;z++)Ui(c[z],"componentUpdated",e,t)}),!n)for(d in s)o[d]||Ui(s[d],"unbind",t,t,r)}var wp=Object.create(null);function oh(t,e){var n=Object.create(null);if(!t)return n;var r,s;for(r=0;r<t.length;r++)s=t[r],s.modifiers||(s.modifiers=wp),n[Ll(s)]=s,s.def=ho(e.$options,"directives",s.name,!0);return n}function Ll(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Ui(t,e,n,r,s){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,s)}catch(l){Qr(l,n.context,"directive "+t.name+" "+e+" hook")}}var Sp=[gp,yp];function ah(t,e){var n=e.componentOptions;if(!(Q(n)&&n.Ctor.options.inheritAttrs===!1)&&!(mt(t.data.attrs)&&mt(e.data.attrs))){var r,s,o,l=e.elm,c=t.data.attrs||{},d=e.data.attrs||{};Q(d.__ob__)&&(d=e.data.attrs=ie({},d));for(r in d)s=d[r],o=c[r],o!==s&&lh(l,r,s,e.data.pre);(Sn||Xa)&&d.value!==c.value&&lh(l,"value",d.value);for(r in c)mt(d[r])&&(Sl(r)?l.removeAttributeNS(wl,th(r)):qc(r)||l.removeAttribute(r))}}function lh(t,e,n,r){r||t.tagName.indexOf("-")>-1?uh(t,e,n):Qd(e)?Go(n)?t.removeAttribute(e):(n=e==="allowfullscreen"&&t.tagName==="EMBED"?"true":e,t.setAttribute(e,n)):qc(e)?t.setAttribute(e,Vd(e,n)):Sl(e)?Go(n)?t.removeAttributeNS(wl,th(e)):t.setAttributeNS(wl,e,n):uh(t,e,n)}function uh(t,e,n){if(Go(n))t.removeAttribute(e);else{if(Sn&&!Ti&&t.tagName==="TEXTAREA"&&e==="placeholder"&&n!==""&&!t.__ieph){var r=function(s){s.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var _p={create:ah,update:ah};function ch(t,e){var n=e.elm,r=e.data,s=t.data;if(!(mt(r.staticClass)&&mt(r.class)&&(mt(s)||mt(s.staticClass)&&mt(s.class)))){var o=eh(e),l=n._transitionClasses;Q(l)&&(o=Al(o,El(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var Ap={create:ch,update:ch},Ep=/[\w).+\-_$\]]/;function zo(t){var e=!1,n=!1,r=!1,s=!1,o=0,l=0,c=0,d=0,m,S,C,z,V;for(C=0;C<t.length;C++)if(S=m,m=t.charCodeAt(C),e)m===39&&S!==92&&(e=!1);else if(n)m===34&&S!==92&&(n=!1);else if(r)m===96&&S!==92&&(r=!1);else if(s)m===47&&S!==92&&(s=!1);else if(m===124&&t.charCodeAt(C+1)!==124&&t.charCodeAt(C-1)!==124&&!o&&!l&&!c)z===void 0?(d=C+1,z=t.slice(0,C).trim()):pt();else{switch(m){case 34:n=!0;break;case 39:e=!0;break;case 96:r=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:o++;break;case 125:o--;break}if(m===47){for(var ot=C-1,ft=void 0;ot>=0&&(ft=t.charAt(ot),ft===" ");ot--);(!ft||!Ep.test(ft))&&(s=!0)}}z===void 0?z=t.slice(0,C).trim():d!==0&&pt();function pt(){(V||(V=[])).push(t.slice(d,C).trim()),d=C+1}if(V)for(C=0;C<V.length;C++)z=Pp(z,V[C]);return z}function Pp(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),s=e.slice(n+1);return'_f("'+r+'")('+t+(s!==")"?","+s:s)}function oi(t,e){console.error("[Vue compiler]: "+t)}function Ds(t,e){return t?t.map(function(n){return n[e]}).filter(function(n){return n}):[]}function ai(t,e,n,r,s){(t.props||(t.props=[])).push(Ls({name:e,value:n,dynamic:s},r)),t.plain=!1}function Rl(t,e,n,r,s){var o=s?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[]);o.push(Ls({name:e,value:n,dynamic:s},r)),t.plain=!1}function Fl(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Ls({name:e,value:n},r))}function Cp(t,e,n,r,s,o,l,c){(t.directives||(t.directives=[])).push(Ls({name:e,rawName:n,value:r,arg:s,isDynamicArg:o,modifiers:l},c)),t.plain=!1}function kl(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function br(t,e,n,r,s,o,l,c){r=r||Tt,r.right?c?e="("+e+")==='click'?'contextmenu':("+e+")":e==="click"&&(e="contextmenu",delete r.right):r.middle&&(c?e="("+e+")==='click'?'mouseup':("+e+")":e==="click"&&(e="mouseup")),r.capture&&(delete r.capture,e=kl("!",e,c)),r.once&&(delete r.once,e=kl("~",e,c)),r.passive&&(delete r.passive,e=kl("&",e,c));var d;r.native?(delete r.native,d=t.nativeEvents||(t.nativeEvents={})):d=t.events||(t.events={});var m=Ls({value:n.trim(),dynamic:c},l);r!==Tt&&(m.modifiers=r);var S=d[e];Array.isArray(S)?s?S.unshift(m):S.push(m):S?d[e]=s?[m,S]:[S,m]:d[e]=m,t.plain=!1}function Tp(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}function Ln(t,e,n){var r=ke(t,":"+e)||ke(t,"v-bind:"+e);if(r!=null)return zo(r);if(n!==!1){var s=ke(t,e);if(s!=null)return JSON.stringify(s)}}function ke(t,e,n){var r;if((r=t.attrsMap[e])!=null){for(var s=t.attrsList,o=0,l=s.length;o<l;o++)if(s[o].name===e){s.splice(o,1);break}}return n&&delete t.attrsMap[e],r}function hh(t,e){for(var n=t.attrsList,r=0,s=n.length;r<s;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function Ls(t,e){return e&&(e.start!=null&&(t.start=e.start),e.end!=null&&(t.end=e.end)),t}function fh(t,e,n){var r=n||{},s=r.number,o=r.trim,l="$$v",c=l;o&&(c="(typeof "+l+" === 'string'? "+l+".trim(): "+l+")"),s&&(c="_n("+c+")");var d=Fr(e,c);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ("+l+") {"+d+"}"}}function Fr(t,e){var n=Ip(t);return n.key===null?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}var Ml,dh,Wi,ir,jo,Nl;function Ip(t){if(t=t.trim(),Ml=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<Ml-1)return ir=t.lastIndexOf("."),ir>-1?{exp:t.slice(0,ir),key:'"'+t.slice(ir+1)+'"'}:{exp:t,key:null};for(dh=t,ir=jo=Nl=0;!Gi();)Wi=Bl(),ph(Wi)?gh(Wi):Wi===91&&Op(Wi);return{exp:t.slice(0,jo),key:t.slice(jo+1,Nl)}}function Bl(){return dh.charCodeAt(++ir)}function Gi(){return ir>=Ml}function ph(t){return t===34||t===39}function Op(t){var e=1;for(jo=ir;!Gi();){if(t=Bl(),ph(t)){gh(t);continue}if(t===91&&e++,t===93&&e--,e===0){Nl=ir;break}}}function gh(t){for(var e=t;!Gi()&&(t=Bl(),t!==e););}var Dp,Xo="__r",Hl="__c";function Lp(t,e,n){Dp=n;var r=e.value,s=e.modifiers,o=t.tag,l=t.attrsMap.type;if(t.component)return fh(t,r,s),!1;if(o==="select")kp(t,r,s);else if(o==="input"&&l==="checkbox")Rp(t,r,s);else if(o==="input"&&l==="radio")Fp(t,r,s);else if(o==="input"||o==="textarea")Mp(t,r,s);else if(!Ge.isReservedTag(o))return fh(t,r,s),!1;return!0}function Rp(t,e,n){var r=n&&n.number,s=Ln(t,"value")||"null",o=Ln(t,"true-value")||"true",l=Ln(t,"false-value")||"false";ai(t,"checked","Array.isArray("+e+")?_i("+e+","+s+")>-1"+(o==="true"?":("+e+")":":_q("+e+","+o+")")),br(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+l+");if(Array.isArray($$a)){var $$v="+(r?"_n("+s+")":s)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Fr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Fr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Fr(e,"$$c")+"}",null,!0)}function Fp(t,e,n){var r=n&&n.number,s=Ln(t,"value")||"null";s=r?"_n("+s+")":s,ai(t,"checked","_q("+e+","+s+")"),br(t,"change",Fr(e,s),null,!0)}function kp(t,e,n){var r=n&&n.number,s='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",o="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",l="var $$selectedVal = "+s+";";l=l+" "+Fr(e,o),br(t,"change",l,null,!0)}function Mp(t,e,n){var r=t.attrsMap.type;if(!1)var s,o,l;var c=n||{},d=c.lazy,m=c.number,S=c.trim,C=!d&&r!=="range",z=d?"change":r==="range"?Xo:"input",V="$event.target.value";S&&(V="$event.target.value.trim()"),m&&(V="_n("+V+")");var ot=Fr(e,V);C&&(ot="if($event.target.composing)return;"+ot),ai(t,"value","("+e+")"),br(t,z,ot,null,!0),(S||m)&&br(t,"blur","$forceUpdate()")}function Ko(t){if(Q(t[Xo])){var e=Sn?"change":"input";t[e]=[].concat(t[Xo],t[e]||[]),delete t[Xo]}Q(t[Hl])&&(t.change=[].concat(t[Hl],t.change||[]),delete t[Hl])}var Rs;function vh(t,e,n){var r=Rs;return function s(){var o=e.apply(null,arguments);o!==null&&Ul(t,s,n,r)}}var mh=nl&&!(Ii&&Number(Ii[1])<=53);function $l(t,e,n,r){if(mh){var s=It,o=e;e=o._wrapper=function(l){if(l.target===l.currentTarget||l.timeStamp>=s||l.timeStamp<=0||l.target.ownerDocument!==document)return o.apply(this,arguments)}}Rs.addEventListener(t,e,x?{capture:n,passive:r}:n)}function Ul(t,e,n,r){(r||Rs).removeEventListener(t,e._wrapper||e,n)}function Wl(t,e){if(!(mt(t.data.on)&&mt(e.data.on))){var n=e.data.on||{},r=t.data.on||{};Rs=e.elm,Ko(n),Ac(n,r,$l,Ul,vh,e.context),Rs=void 0}}var bh={create:Wl,update:Wl},Fs;function yh(t,e){if(!(mt(t.data.domProps)&&mt(e.data.domProps))){var n,r,s=e.elm,o=t.data.domProps||{},l=e.data.domProps||{};Q(l.__ob__)&&(l=e.data.domProps=ie({},l));for(n in o)n in l||(s[n]="");for(n in l){if(r=l[n],n==="textContent"||n==="innerHTML"){if(e.children&&(e.children.length=0),r===o[n])continue;s.childNodes.length===1&&s.removeChild(s.childNodes[0])}if(n==="value"&&s.tagName!=="PROGRESS"){s._value=r;var c=mt(r)?"":String(r);Np(s,c)&&(s.value=c)}else if(n==="innerHTML"&&Pl(s.tagName)&&mt(s.innerHTML)){Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+r+"</svg>";for(var d=Fs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;d.firstChild;)s.appendChild(d.firstChild)}else if(r!==o[n])try{s[n]=r}catch(m){}}}}function Np(t,e){return!t.composing&&(t.tagName==="OPTION"||Bp(t,e)||Yo(t,e))}function Bp(t,e){var n=!0;try{n=document.activeElement!==t}catch(r){}return n&&t.value!==e}function Yo(t,e){var n=t.value,r=t._vModifiers;if(Q(r)){if(r.number)return Ai(n)!==Ai(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var Zo={create:yh,update:yh},xh=cn(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(s){if(s){var o=s.split(r);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e});function Gl(t){var e=Jo(t.style);return t.staticStyle?ie(t.staticStyle,e):e}function Jo(t){return Array.isArray(t)?uc(t):typeof t=="string"?xh(t):t}function wh(t,e){var n={},r;if(e)for(var s=t;s.componentInstance;)s=s.componentInstance._vnode,s&&s.data&&(r=Gl(s.data))&&ie(n,r);(r=Gl(t.data))&&ie(n,r);for(var o=t;o=o.parent;)o.data&&(r=Gl(o.data))&&ie(n,r);return n}var Hp=/^--/,Sh=/\s*!important$/,_h=function(t,e,n){if(Hp.test(e))t.style.setProperty(e,n);else if(Sh.test(n))t.style.setProperty(er(e),n.replace(Sh,""),"important");else{var r=$p(e);if(Array.isArray(n))for(var s=0,o=n.length;s<o;s++)t.style[r]=n[s];else t.style[r]=n}},Ah=["Webkit","Moz","ms"],Vo,$p=cn(function(t){if(Vo=Vo||document.createElement("div").style,t=en(t),t!=="filter"&&t in Vo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Ah.length;n++){var r=Ah[n]+e;if(r in Vo)return r}});function Eh(t,e){var n=e.data,r=t.data;if(!(mt(n.staticStyle)&&mt(n.style)&&mt(r.staticStyle)&&mt(r.style))){var s,o,l=e.elm,c=r.staticStyle,d=r.normalizedStyle||r.style||{},m=c||d,S=Jo(e.data.style)||{};e.data.normalizedStyle=Q(S.__ob__)?ie({},S):S;var C=wh(e,!0);for(o in m)mt(C[o])&&_h(l,o,"");for(o in C)s=C[o],s!==m[o]&&_h(l,o,s==null?"":s)}}var Up={create:Eh,update:Eh},Ph=/\s+/;function Ch(t,e){if(!(!e||!(e=e.trim())))if(t.classList)e.indexOf(" ")>-1?e.split(Ph).forEach(function(r){return t.classList.add(r)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Th(t,e){if(!(!e||!(e=e.trim())))if(t.classList)e.indexOf(" ")>-1?e.split(Ph).forEach(function(s){return t.classList.remove(s)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Ih(t){if(!!t){if(typeof t=="object"){var e={};return t.css!==!1&&ie(e,Rn(t.name||"v")),ie(e,t),e}else if(typeof t=="string")return Rn(t)}}var Rn=cn(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Oh=Fe&&!Ti,zi="transition",yr="animation",Mt="transition",Qo="transitionend",Qe="animation",Pe="animationend";Oh&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(Mt="WebkitTransition",Qo="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(Qe="WebkitAnimation",Pe="webkitAnimationEnd"));var Dh=Fe?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function xr(t){Dh(function(){Dh(t)})}function li(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Ch(t,e))}function wr(t,e){t._transitionClasses&&cr(t._transitionClasses,e),Th(t,e)}function Lh(t,e,n){var r=Rh(t,e),s=r.type,o=r.timeout,l=r.propCount;if(!s)return n();var c=s===zi?Qo:Pe,d=0,m=function(){t.removeEventListener(c,S),n()},S=function(C){C.target===t&&++d>=l&&m()};setTimeout(function(){d<l&&m()},o+1),t.addEventListener(c,S)}var Wp=/\b(transform|all)(,|$)/;function Rh(t,e){var n=window.getComputedStyle(t),r=(n[Mt+"Delay"]||"").split(", "),s=(n[Mt+"Duration"]||"").split(", "),o=qo(r,s),l=(n[Qe+"Delay"]||"").split(", "),c=(n[Qe+"Duration"]||"").split(", "),d=qo(l,c),m,S=0,C=0;e===zi?o>0&&(m=zi,S=o,C=s.length):e===yr?d>0&&(m=yr,S=d,C=c.length):(S=Math.max(o,d),m=S>0?o>d?zi:yr:null,C=m?m===zi?s.length:c.length:0);var z=m===zi&&Wp.test(n[Mt+"Property"]);return{type:m,timeout:S,propCount:C,hasTransform:z}}function qo(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(n,r){return Fh(n)+Fh(t[r])}))}function Fh(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Kn(t,e){var n=t.elm;Q(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Ih(t.data.transition);if(!mt(r)&&!(Q(n._enterCb)||n.nodeType!==1)){for(var s=r.css,o=r.type,l=r.enterClass,c=r.enterToClass,d=r.enterActiveClass,m=r.appearClass,S=r.appearToClass,C=r.appearActiveClass,z=r.beforeEnter,V=r.enter,ot=r.afterEnter,ft=r.enterCancelled,pt=r.beforeAppear,wt=r.appear,Ot=r.afterAppear,Vt=r.appearCancelled,Qt=r.duration,se=ti,At=ti.$vnode;At&&At.parent;)se=At.context,At=At.parent;var $t=!se._isMounted||!t.isRootInsert;if(!($t&&!wt&&wt!=="")){var Nr=$t&&m?m:l,bu=$t&&C?C:d,Br=$t&&S?S:c,ae=$t&&pt||z,Yt=$t&&typeof wt=="function"?wt:V,Xe=$t&&Ot||ot,Ce=$t&&Vt||ft,Mn=Ai(ge(Qt)?Qt.enter:Qt),Yn=s!==!1&&!Ti,et=xe(Yt),J=n._enterCb=ro(function(){Yn&&(wr(n,Br),wr(n,bu)),J.cancelled?(Yn&&wr(n,Nr),Ce&&Ce(n)):Xe&&Xe(n),n._enterCb=null});t.data.show||nr(t,"insert",function(){var ct=n.parentNode,St=ct&&ct._pending&&ct._pending[t.key];St&&St.tag===t.tag&&St.elm._leaveCb&&St.elm._leaveCb(),Yt&&Yt(n,J)}),ae&&ae(n),Yn&&(li(n,Nr),li(n,bu),xr(function(){wr(n,Nr),J.cancelled||(li(n,Br),et||(ye(Mn)?setTimeout(J,Mn):Lh(n,o,J)))})),t.data.show&&(e&&e(),Yt&&Yt(n,J)),!Yn&&!et&&J()}}}function zl(t,e){var n=t.elm;Q(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Ih(t.data.transition);if(mt(r)||n.nodeType!==1)return e();if(Q(n._leaveCb))return;var s=r.css,o=r.type,l=r.leaveClass,c=r.leaveToClass,d=r.leaveActiveClass,m=r.beforeLeave,S=r.leave,C=r.afterLeave,z=r.leaveCancelled,V=r.delayLeave,ot=r.duration,ft=s!==!1&&!Ti,pt=xe(S),wt=Ai(ge(ot)?ot.leave:ot),Ot=n._leaveCb=ro(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),ft&&(wr(n,c),wr(n,d)),Ot.cancelled?(ft&&wr(n,l),z&&z(n)):(e(),C&&C(n)),n._leaveCb=null});V?V(Vt):Vt();function Vt(){Ot.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),m&&m(n),ft&&(li(n,l),li(n,d),xr(function(){wr(n,l),Ot.cancelled||(li(n,c),pt||(ye(wt)?setTimeout(Ot,wt):Lh(n,o,Ot)))})),S&&S(n,Ot),!ft&&!pt&&Ot())}}function jl(t,e,n){typeof t!="number"?Ue("<transition> explicit "+e+" duration is not a valid number - got "+JSON.stringify(t)+".",n.context):isNaN(t)&&Ue("<transition> explicit "+e+" duration is NaN - the duration expression might be incorrect.",n.context)}function ye(t){return typeof t=="number"&&!isNaN(t)}function xe(t){if(mt(t))return!1;var e=t.fns;return Q(e)?xe(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Xl(t,e){e.data.show!==!0&&Kn(e)}var Gp=Fe?{create:Xl,activate:Xl,remove:function(e,n){e.data.show!==!0?zl(e,n):n()}}:{},zp=[_p,Ap,bh,Zo,Up,Gp],jp=zp.concat(Sp),Xp=bp({nodeOps:pp,modules:jp});Ti&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ki(t,"input")});var kh={inserted:function(e,n,r,s){r.tag==="select"?(s.elm&&!s.elm._vOptions?nr(r,"postpatch",function(){kh.componentUpdated(e,n,r)}):Mh(e,n,r.context),e._vOptions=[].map.call(e.options,Xi)):(r.tag==="textarea"||Tl(e.type))&&(e._vModifiers=n.modifiers,n.modifiers.lazy||(e.addEventListener("compositionstart",Kp),e.addEventListener("compositionend",Yl),e.addEventListener("change",Yl),Ti&&(e.vmodel=!0)))},componentUpdated:function(e,n,r){if(r.tag==="select"){Mh(e,n,r.context);var s=e._vOptions,o=e._vOptions=[].map.call(e.options,Xi);if(o.some(function(c,d){return!Kr(c,s[d])})){var l=e.multiple?n.value.some(function(c){return ji(c,o)}):n.value!==n.oldValue&&ji(n.value,o);l&&Ki(e,"change")}}}};function Mh(t,e,n){Kl(t,e,n),(Sn||Xa)&&setTimeout(function(){Kl(t,e,n)},0)}function Kl(t,e,n){var r=e.value,s=t.multiple;if(!(s&&!Array.isArray(r))){for(var o,l,c=0,d=t.options.length;c<d;c++)if(l=t.options[c],s)o=Wa(r,Xi(l))>-1,l.selected!==o&&(l.selected=o);else if(Kr(Xi(l),r)){t.selectedIndex!==c&&(t.selectedIndex=c);return}s||(t.selectedIndex=-1)}}function ji(t,e){return e.every(function(n){return!Kr(n,t)})}function Xi(t){return"_value"in t?t._value:t.value}function Kp(t){t.target.composing=!0}function Yl(t){!t.target.composing||(t.target.composing=!1,Ki(t.target,"input"))}function Ki(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function on(t){return t.componentInstance&&(!t.data||!t.data.transition)?on(t.componentInstance._vnode):t}var Yi={bind:function(e,n,r){var s=n.value;r=on(r);var o=r.data&&r.data.transition,l=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;s&&o?(r.data.show=!0,Kn(r,function(){e.style.display=l})):e.style.display=s?l:"none"},update:function(e,n,r){var s=n.value,o=n.oldValue;if(!s!=!o){r=on(r);var l=r.data&&r.data.transition;l?(r.data.show=!0,s?Kn(r,function(){e.style.display=e.__vOriginalDisplay}):zl(r,function(){e.style.display="none"})):e.style.display=s?e.__vOriginalDisplay:"none"}},unbind:function(e,n,r,s,o){o||(e.style.display=e.__vOriginalDisplay)}},Yp={model:kh,show:Yi},Nh={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Zl(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Zl(Bc(e.children)):t}function Bh(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var s=n._parentListeners;for(var o in s)e[en(o)]=s[o];return e}function Hh(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function $h(t){for(;t=t.parent;)if(t.data.transition)return!0}function Sr(t,e){return e.key===t.key&&e.tag===t.tag}var Wt=function(t){return t.tag||Je(t)},Uh=function(t){return t.name==="show"},Fn={name:"transition",props:Nh,abstract:!0,render:function(e){var n=this,r=this.$slots.default;if(!!r&&(r=r.filter(Wt),!!r.length)){var s=this.mode,o=r[0];if($h(this.$vnode))return o;var l=Zl(o);if(!l)return o;if(this._leaving)return Hh(e,o);var c="__transition-"+this._uid+"-";l.key=l.key==null?l.isComment?c+"comment":c+l.tag:as(l.key)?String(l.key).indexOf(c)===0?l.key:c+l.key:l.key;var d=(l.data||(l.data={})).transition=Bh(this),m=this._vnode,S=Zl(m);if(l.data.directives&&l.data.directives.some(Uh)&&(l.data.show=!0),S&&S.data&&!Sr(l,S)&&!Je(S)&&!(S.componentInstance&&S.componentInstance._vnode.isComment)){var C=S.data.transition=ie({},d);if(s==="out-in")return this._leaving=!0,nr(C,"afterLeave",function(){n._leaving=!1,n.$forceUpdate()}),Hh(e,o);if(s==="in-out"){if(Je(l))return m;var z,V=function(){z()};nr(d,"afterEnter",V),nr(d,"enterCancelled",V),nr(C,"delayLeave",function(ot){z=ot})}}return o}}},Jl=ie({tag:String,moveClass:String},Nh);delete Jl.mode;var Zp={props:Jl,beforeMount:function(){var e=this,n=this._update;this._update=function(r,s){var o=_s(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),n.call(e,r,s)}},render:function(e){for(var n=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),s=this.prevChildren=this.children,o=this.$slots.default||[],l=this.children=[],c=Bh(this),d=0;d<o.length;d++){var m=o[d];if(m.tag){if(m.key!=null&&String(m.key).indexOf("__vlist")!==0)l.push(m),r[m.key]=m,(m.data||(m.data={})).transition=c;else if(!1)var S,C}}if(s){for(var z=[],V=[],ot=0;ot<s.length;ot++){var ft=s[ot];ft.data.transition=c,ft.data.pos=ft.elm.getBoundingClientRect(),r[ft.key]?z.push(ft):V.push(ft)}this.kept=e(n,null,z),this.removed=V}return e(n,null,l)},updated:function(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";!e.length||!this.hasMove(e[0].elm,n)||(e.forEach(oe),e.forEach(Jp),e.forEach(Wh),this._reflow=document.body.offsetHeight,e.forEach(function(r){if(r.data.moved){var s=r.elm,o=s.style;li(s,n),o.transform=o.WebkitTransform=o.transitionDuration="",s.addEventListener(Qo,s._moveCb=function l(c){c&&c.target!==s||(!c||/transform$/.test(c.propertyName))&&(s.removeEventListener(Qo,l),s._moveCb=null,wr(s,n))})}}))},methods:{hasMove:function(e,n){if(!Oh)return!1;if(this._hasMove)return this._hasMove;var r=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(o){Th(r,o)}),Ch(r,n),r.style.display="none",this.$el.appendChild(r);var s=Rh(r);return this.$el.removeChild(r),this._hasMove=s.hasTransform}}};function oe(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Jp(t){t.data.newPos=t.elm.getBoundingClientRect()}function Wh(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,s=e.top-n.top;if(r||s){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+s+"px)",o.transitionDuration="0s"}}var ta={Transition:Fn,TransitionGroup:Zp};be.config.mustUseProp=Qc,be.config.isReservedTag=Cl,be.config.isReservedAttr=Yd,be.config.getTagNamespace=ih,be.config.isUnknownElement=rp,ie(be.options.directives,Yp),ie(be.options.components,ta),be.prototype.__patch__=Fe?Xp:Ye,be.prototype.$mount=function(t,e){return t=t&&Fe?Il(t):void 0,Fd(this,t,e)},Fe&&setTimeout(function(){Ge.devtools&&zt&&zt.emit("init",be)},0);var Vp=/\{\{((?:.|\r?\n)+?)\}\}/g,Gh=/[-.*+?^${}()|[\]\/\\]/g,Qp=cn(function(t){var e=t[0].replace(Gh,"\\$&"),n=t[1].replace(Gh,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function qp(t,e){var n=e?Qp(e):Vp;if(!!n.test(t)){for(var r=[],s=[],o=n.lastIndex=0,l,c,d;l=n.exec(t);){c=l.index,c>o&&(s.push(d=t.slice(o,c)),r.push(JSON.stringify(d)));var m=zo(l[1].trim());r.push("_s("+m+")"),s.push({"@binding":m}),o=c+l[0].length}return o<t.length&&(s.push(d=t.slice(o)),r.push(JSON.stringify(d))),{expression:r.join("+"),tokens:s}}}function tg(t,e){var n=e.warn||oi,r=ke(t,"class");if(!1)var s;r&&(t.staticClass=JSON.stringify(r));var o=Ln(t,"class",!1);o&&(t.classBinding=o)}function eg(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}var ng={staticKeys:["staticClass"],transformNode:tg,genData:eg};function rg(t,e){var n=e.warn||oi,r=ke(t,"style");if(r){if(!1)var s;t.staticStyle=JSON.stringify(xh(r))}var o=Ln(t,"style",!1);o&&(t.styleBinding=o)}function ig(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}var sg={staticKeys:["staticStyle"],transformNode:rg,genData:ig},ea,og={decode:function(e){return ea=ea||document.createElement("div"),ea.innerHTML=e,ea.textContent}},ag=Re("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Vl=Re("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),lg=Re("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ql=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ug=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,zh="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+Ga.source+"]*",jh="((?:"+zh+"\\:)?"+zh+")",He=new RegExp("^<"+jh),gn=/^\s*(\/?)>/,Xh=new RegExp("^<\\/"+jh+"[^>]*>"),cg=/^<!DOCTYPE [^>]+>/i,Kh=/^<!\--/,ql=/^<!\[/,Yh=Re("script,style,textarea",!0),Zh={},hg={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":`
`,"&#9;":"	","&#39;":"'"},Jh=/&(?:lt|gt|quot|amp|#39);/g,fg=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,dg=Re("pre,textarea",!0),Vh=function(t,e){return t&&dg(t)&&e[0]===`
`};function Qh(t,e){var n=e?fg:Jh;return t.replace(n,function(r){return hg[r]})}function qh(t,e){for(var n=[],r=e.expectHTML,s=e.isUnaryTag||nn,o=e.canBeLeftOpenTag||nn,l=0,c,d;t;){if(c=t,!d||!Yh(d)){var m=t.indexOf("<");if(m===0){if(Kh.test(t)){var S=t.indexOf("-->");if(S>=0){e.shouldKeepComment&&e.comment(t.substring(4,S),l,l+S+3),$t(S+3);continue}}if(ql.test(t)){var C=t.indexOf("]>");if(C>=0){$t(C+2);continue}}var z=t.match(cg);if(z){$t(z[0].length);continue}var V=t.match(Xh);if(V){var ot=l;$t(V[0].length),Br(V[1],ot,l);continue}var ft=Nr();if(ft){bu(ft),Vh(ft.tagName,t)&&$t(1);continue}}var pt=void 0,wt=void 0,Ot=void 0;if(m>=0){for(wt=t.slice(m);!Xh.test(wt)&&!He.test(wt)&&!Kh.test(wt)&&!ql.test(wt)&&(Ot=wt.indexOf("<",1),!(Ot<0));)m+=Ot,wt=t.slice(m);pt=t.substring(0,m)}m<0&&(pt=t),pt&&$t(pt.length),e.chars&&pt&&e.chars(pt,l-pt.length,l)}else{var Vt=0,Qt=d.toLowerCase(),se=Zh[Qt]||(Zh[Qt]=new RegExp("([\\s\\S]*?)(</"+Qt+"[^>]*>)","i")),At=t.replace(se,function(ae,Yt,Xe){return Vt=Xe.length,!Yh(Qt)&&Qt!=="noscript"&&(Yt=Yt.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Vh(Qt,Yt)&&(Yt=Yt.slice(1)),e.chars&&e.chars(Yt),""});l+=t.length-At.length,t=At,Br(Qt,l-Vt,l)}if(t===c){e.chars&&e.chars(t);break}}Br();function $t(ae){l+=ae,t=t.substring(ae)}function Nr(){var ae=t.match(He);if(ae){var Yt={tagName:ae[1],attrs:[],start:l};$t(ae[0].length);for(var Xe,Ce;!(Xe=t.match(gn))&&(Ce=t.match(ug)||t.match(Ql));)Ce.start=l,$t(Ce[0].length),Ce.end=l,Yt.attrs.push(Ce);if(Xe)return Yt.unarySlash=Xe[1],$t(Xe[0].length),Yt.end=l,Yt}}function bu(ae){var Yt=ae.tagName,Xe=ae.unarySlash;r&&(d==="p"&&lg(Yt)&&Br(d),o(Yt)&&d===Yt&&Br(Yt));for(var Ce=s(Yt)||!!Xe,Mn=ae.attrs.length,Yn=new Array(Mn),et=0;et<Mn;et++){var J=ae.attrs[et],ct=J[3]||J[4]||J[5]||"",St=Yt==="a"&&J[1]==="href"?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;Yn[et]={name:J[1],value:Qh(ct,St)}}Ce||(n.push({tag:Yt,lowerCasedTag:Yt.toLowerCase(),attrs:Yn,start:ae.start,end:ae.end}),d=Yt),e.start&&e.start(Yt,Yn,Ce,ae.start,ae.end)}function Br(ae,Yt,Xe){var Ce,Mn;if(Yt==null&&(Yt=l),Xe==null&&(Xe=l),ae)for(Mn=ae.toLowerCase(),Ce=n.length-1;Ce>=0&&n[Ce].lowerCasedTag!==Mn;Ce--);else Ce=0;if(Ce>=0){for(var Yn=n.length-1;Yn>=Ce;Yn--)e.end&&e.end(n[Yn].tag,Yt,Xe);n.length=Ce,d=Ce&&n[Ce-1].tag}else Mn==="br"?e.start&&e.start(ae,[],!0,Yt,Xe):Mn==="p"&&(e.start&&e.start(ae,[],!1,Yt,Xe),e.end&&e.end(ae,Yt,Xe))}}var tu=/^@|^v-on:/,na=/^v-|^@|^:|^#/,pg=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,tf=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Zi=/^\(|\)$/g,ra=/^\[.*\]$/,gg=/:(.*)$/,ef=/^:|^\.|^v-bind:/,nf=/\.[^.\]]+(?=[^\]]*$)/g,eu=/^v-slot(:|$)|^#/,rf=/[\r\n]/,sf=/[ \f\t\r\n]+/g,Av=/[\s"'<>\/=]/,vg=cn(og.decode),ia="_empty_",kr,of,nu,ru,iu,su,ou,af,mg;function au(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:Dg(e),rawAttrsMap:{},parent:n,children:[]}}function bg(t,e){kr=e.warn||oi,su=e.isPreTag||nn,ou=e.mustUseProp||nn,af=e.getTagNamespace||nn;var n=e.isReservedTag||nn;mg=function(ft){return!!(ft.component||ft.attrsMap[":is"]||ft.attrsMap["v-bind:is"]||!(ft.attrsMap.is?n(ft.attrsMap.is):n(ft.tag)))},nu=Ds(e.modules,"transformNode"),ru=Ds(e.modules,"preTransformNode"),iu=Ds(e.modules,"postTransformNode"),of=e.delimiters;var r=[],s=e.preserveWhitespace!==!1,o=e.whitespace,l,c,d=!1,m=!1,S=!1;function C(ft,pt){S||(S=!0,kr(ft,pt))}function z(ft){if(V(ft),!d&&!ft.processed&&(ft=sa(ft,e)),!r.length&&ft!==l&&l.if&&(ft.elseif||ft.else)&&Ji(l,{exp:ft.elseif,block:ft}),c&&!ft.forbidden)if(ft.elseif||ft.else)Eg(ft,c);else{if(ft.slotScope){var pt=ft.slotTarget||'"default"';(c.scopedSlots||(c.scopedSlots={}))[pt]=ft}c.children.push(ft),ft.parent=c}ft.children=ft.children.filter(function(Ot){return!Ot.slotScope}),V(ft),ft.pre&&(d=!1),su(ft.tag)&&(m=!1);for(var wt=0;wt<iu.length;wt++)iu[wt](ft,e)}function V(ft){if(!m)for(var pt;(pt=ft.children[ft.children.length-1])&&pt.type===3&&pt.text===" ";)ft.children.pop()}function ot(ft){(ft.tag==="slot"||ft.tag==="template")&&C("Cannot use <"+ft.tag+"> as component root element because it may contain multiple nodes.",{start:ft.start}),ft.attrsMap.hasOwnProperty("v-for")&&C("Cannot use v-for on stateful component root element because it renders multiple elements.",ft.rawAttrsMap["v-for"])}return qh(t,{warn:kr,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(pt,wt,Ot,Vt,Qt){var se=c&&c.ns||af(pt);Sn&&se==="svg"&&(wt=Fg(wt));var At=au(pt,wt,c);se&&(At.ns=se),vn(At)&&!Ze()&&(At.forbidden=!0);for(var $t=0;$t<ru.length;$t++)At=ru[$t](At,e)||At;d||(yg(At),At.pre&&(d=!0)),su(At.tag)&&(m=!0),d?xg(At):At.processed||(lf(At),Ag(At),lu(At)),l||(l=At),Ot?z(At):(c=At,r.push(At))},end:function(pt,wt,Ot){var Vt=r[r.length-1];r.length-=1,c=r[r.length-1],z(Vt)},chars:function(pt,wt,Ot){if(!!c&&!(Sn&&c.tag==="textarea"&&c.attrsMap.placeholder===pt)){var Vt=c.children;if(m||pt.trim()?pt=Lg(c)?pt:vg(pt):Vt.length?o?o==="condense"?pt=rf.test(pt)?"":" ":pt=" ":pt=s?" ":"":pt="",pt){!m&&o==="condense"&&(pt=pt.replace(sf," "));var Qt,se;!d&&pt!==" "&&(Qt=qp(pt,of))?se={type:2,expression:Qt.expression,tokens:Qt.tokens,text:pt}:(pt!==" "||!Vt.length||Vt[Vt.length-1].text!==" ")&&(se={type:3,text:pt}),se&&Vt.push(se)}}},comment:function(pt,wt,Ot){if(c){var Vt={type:3,text:pt,isComment:!0};c.children.push(Vt)}}}),l}function yg(t){ke(t,"v-pre")!=null&&(t.pre=!0)}function xg(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),s=0;s<n;s++)r[s]={name:e[s].name,value:JSON.stringify(e[s].value)},e[s].start!=null&&(r[s].start=e[s].start,r[s].end=e[s].end);else t.pre||(t.plain=!0)}function sa(t,e){wg(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,Sg(t),uf(t),Cg(t),Tg(t);for(var n=0;n<nu.length;n++)t=nu[n](t,e)||t;return Ig(t),t}function wg(t){var e=Ln(t,"key");if(e){if(!1)var n,r;t.key=e}}function Sg(t){var e=Ln(t,"ref");e&&(t.ref=e,t.refInFor=cu(t))}function lf(t){var e;if(e=ke(t,"v-for")){var n=_g(e);n&&ie(t,n)}}function _g(t){var e=t.match(pg);if(!!e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(Zi,""),s=r.match(tf);return s?(n.alias=r.replace(tf,"").trim(),n.iterator1=s[1].trim(),s[2]&&(n.iterator2=s[2].trim())):n.alias=r,n}}function Ag(t){var e=ke(t,"v-if");if(e)t.if=e,Ji(t,{exp:e,block:t});else{ke(t,"v-else")!=null&&(t.else=!0);var n=ke(t,"v-else-if");n&&(t.elseif=n)}}function Eg(t,e){var n=Pg(e.children);n&&n.if&&Ji(n,{exp:t.elseif,block:t})}function Pg(t){for(var e=t.length;e--;){if(t[e].type===1)return t[e];t.pop()}}function Ji(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function lu(t){var e=ke(t,"v-once");e!=null&&(t.once=!0)}function uf(t){var e;t.tag==="template"?(e=ke(t,"scope"),t.slotScope=e||ke(t,"slot-scope")):(e=ke(t,"slot-scope"))&&(t.slotScope=e);var n=Ln(t,"slot");if(n&&(t.slotTarget=n==='""'?'"default"':n,t.slotTargetDynamic=!!(t.attrsMap[":slot"]||t.attrsMap["v-bind:slot"]),t.tag!=="template"&&!t.slotScope&&Rl(t,"slot",n,Tp(t,"slot"))),t.tag==="template"){var r=hh(t,eu);if(r){var s=uu(r),o=s.name,l=s.dynamic;t.slotTarget=o,t.slotTargetDynamic=l,t.slotScope=r.value||ia}}else{var c=hh(t,eu);if(c){var d=t.scopedSlots||(t.scopedSlots={}),m=uu(c),S=m.name,C=m.dynamic,z=d[S]=au("template",[],t);z.slotTarget=S,z.slotTargetDynamic=C,z.children=t.children.filter(function(V){if(!V.slotScope)return V.parent=z,!0}),z.slotScope=c.value||ia,t.children=[],t.plain=!1}}}function uu(t){var e=t.name.replace(eu,"");return e||t.name[0]!=="#"&&(e="default"),ra.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function Cg(t){t.tag==="slot"&&(t.slotName=Ln(t,"name"))}function Tg(t){var e;(e=Ln(t,"is"))&&(t.component=e),ke(t,"inline-template")!=null&&(t.inlineTemplate=!0)}function Ig(t){var e=t.attrsList,n,r,s,o,l,c,d,m;for(n=0,r=e.length;n<r;n++)if(s=o=e[n].name,l=e[n].value,na.test(s))if(t.hasBindings=!0,c=Og(s.replace(na,"")),c&&(s=s.replace(nf,"")),ef.test(s))s=s.replace(ef,""),l=zo(l),m=ra.test(s),m&&(s=s.slice(1,-1)),c&&(c.prop&&!m&&(s=en(s),s==="innerHtml"&&(s="innerHTML")),c.camel&&!m&&(s=en(s)),c.sync&&(d=Fr(l,"$event"),m?br(t,'"update:"+('+s+")",d,null,!1,kr,e[n],!0):(br(t,"update:"+en(s),d,null,!1,kr,e[n]),er(s)!==en(s)&&br(t,"update:"+er(s),d,null,!1,kr,e[n])))),c&&c.prop||!t.component&&ou(t.tag,t.attrsMap.type,s)?ai(t,s,l,e[n],m):Rl(t,s,l,e[n],m);else if(tu.test(s))s=s.replace(tu,""),m=ra.test(s),m&&(s=s.slice(1,-1)),br(t,s,l,c,!1,kr,e[n],m);else{s=s.replace(na,"");var S=s.match(gg),C=S&&S[1];m=!1,C&&(s=s.slice(0,-(C.length+1)),ra.test(C)&&(C=C.slice(1,-1),m=!0)),Cp(t,s,o,l,C,m,c,e[n])}else{if(!1)var z;Rl(t,s,JSON.stringify(l),e[n]),!t.component&&s==="muted"&&ou(t.tag,t.attrsMap.type,s)&&ai(t,s,"true",e[n])}}function cu(t){for(var e=t;e;){if(e.for!==void 0)return!0;e=e.parent}return!1}function Og(t){var e=t.match(nf);if(e){var n={};return e.forEach(function(r){n[r.slice(1)]=!0}),n}}function Dg(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}function Lg(t){return t.tag==="script"||t.tag==="style"}function vn(t){return t.tag==="style"||t.tag==="script"&&(!t.attrsMap.type||t.attrsMap.type==="text/javascript")}var hu=/^xmlns:NS\d+/,Rg=/^NS\d+:/;function Fg(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];hu.test(r.name)||(r.name=r.name.replace(Rg,""),e.push(r))}return e}function Ev(t,e){for(var n=t;n;)n.for&&n.alias===e&&kr("<"+t.tag+' v-model="'+e+'">: You are binding v-model directly to a v-for iteration alias. This will not be able to modify the v-for source array because writing to the alias is like modifying a function local variable. Consider using an array of objects and use v-model on an object property instead.',t.rawAttrsMap["v-model"]),n=n.parent}function kg(t,e){if(t.tag==="input"){var n=t.attrsMap;if(!n["v-model"])return;var r;if((n[":type"]||n["v-bind:type"])&&(r=Ln(t,"type")),!n.type&&!r&&n["v-bind"]&&(r="("+n["v-bind"]+").type"),r){var s=ke(t,"v-if",!0),o=s?"&&("+s+")":"",l=ke(t,"v-else",!0)!=null,c=ke(t,"v-else-if",!0),d=ks(t);lf(d),Fl(d,"type","checkbox"),sa(d,e),d.processed=!0,d.if="("+r+")==='checkbox'"+o,Ji(d,{exp:d.if,block:d});var m=ks(t);ke(m,"v-for",!0),Fl(m,"type","radio"),sa(m,e),Ji(d,{exp:"("+r+")==='radio'"+o,block:m});var S=ks(t);return ke(S,"v-for",!0),Fl(S,":type",r),sa(S,e),Ji(d,{exp:s,block:S}),l?d.else=!0:c&&(d.elseif=c),d}}}function ks(t){return au(t.tag,t.attrsList.slice(),t.parent)}var Mg={preTransformNode:kg},oa=[ng,sg,Mg];function Ng(t,e){e.value&&ai(t,"textContent","_s("+e.value+")",e)}function Bg(t,e){e.value&&ai(t,"innerHTML","_s("+e.value+")",e)}var Hg={model:Lp,text:Ng,html:Bg},$g={expectHTML:!0,modules:oa,directives:Hg,isPreTag:np,isUnaryTag:ag,mustUseProp:Qc,canBeLeftOpenTag:Vl,isReservedTag:Cl,getTagNamespace:ih,staticKeys:Ua(oa)},fu,du,Ug=cn(pu);function Wg(t,e){!t||(fu=Ug(e.staticKeys||""),du=e.isReservedTag||nn,Ms(t),gu(t,!1))}function pu(t){return Re("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}function Ms(t){if(t.static=Gg(t),t.type===1){if(!du(t.tag)&&t.tag!=="slot"&&t.attrsMap["inline-template"]==null)return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Ms(r),r.static||(t.static=!1)}if(t.ifConditions)for(var s=1,o=t.ifConditions.length;s<o;s++){var l=t.ifConditions[s].block;Ms(l),l.static||(t.static=!1)}}}function gu(t,e){if(t.type===1){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&!(t.children.length===1&&t.children[0].type===3)){t.staticRoot=!0;return}else t.staticRoot=!1;if(t.children)for(var n=0,r=t.children.length;n<r;n++)gu(t.children[n],e||!!t.for);if(t.ifConditions)for(var s=1,o=t.ifConditions.length;s<o;s++)gu(t.ifConditions[s].block,e)}}function Gg(t){return t.type===2?!1:t.type===3?!0:!!(t.pre||!t.hasBindings&&!t.if&&!t.for&&!sc(t.tag)&&du(t.tag)&&!zg(t)&&Object.keys(t).every(fu))}function zg(t){for(;t.parent;){if(t=t.parent,t.tag!=="template")return!1;if(t.for)return!0}return!1}var jg=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Xg=/\([^)]*?\);*$/,cf=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,hf={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Kg={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},_r=function(t){return"if("+t+")return null;"},ff={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:_r("$event.target !== $event.currentTarget"),ctrl:_r("!$event.ctrlKey"),shift:_r("!$event.shiftKey"),alt:_r("!$event.altKey"),meta:_r("!$event.metaKey"),left:_r("'button' in $event && $event.button !== 0"),middle:_r("'button' in $event && $event.button !== 1"),right:_r("'button' in $event && $event.button !== 2")};function df(t,e){var n=e?"nativeOn:":"on:",r="",s="";for(var o in t){var l=pf(t[o]);t[o]&&t[o].dynamic?s+=o+","+l+",":r+='"'+o+'":'+l+","}return r="{"+r.slice(0,-1)+"}",s?n+"_d("+r+",["+s.slice(0,-1)+"])":n+r}function pf(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(S){return pf(S)}).join(",")+"]";var e=cf.test(t.value),n=jg.test(t.value),r=cf.test(t.value.replace(Xg,""));if(t.modifiers){var s="",o="",l=[];for(var c in t.modifiers)if(ff[c])o+=ff[c],hf[c]&&l.push(c);else if(c==="exact"){var d=t.modifiers;o+=_r(["ctrl","shift","alt","meta"].filter(function(S){return!d[S]}).map(function(S){return"$event."+S+"Key"}).join("||"))}else l.push(c);l.length&&(s+=Yg(l)),o&&(s+=o);var m=e?"return "+t.value+".apply(null, arguments)":n?"return ("+t.value+").apply(null, arguments)":r?"return "+t.value:t.value;return"function($event){"+s+m+"}"}else return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function Yg(t){return"if(!$event.type.indexOf('key')&&"+t.map(Zg).join("&&")+")return null;"}function Zg(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=hf[t],r=Kg[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}function Jg(t,e){t.wrapListeners=function(n){return"_g("+n+","+e.value+")"}}function Vg(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}var Qg={on:Jg,bind:Vg,cloak:Ye},qg=function(e){this.options=e,this.warn=e.warn||oi,this.transforms=Ds(e.modules,"transformCode"),this.dataGenFns=Ds(e.modules,"genData"),this.directives=ie(ie({},Qg),e.directives);var n=e.isReservedTag||nn;this.maybeComponent=function(r){return!!r.component||!n(r.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function gf(t,e){var n=new qg(e),r=t?t.tag==="script"?"null":Ar(t,n):'_c("div")';return{render:"with(this){return "+r+"}",staticRenderFns:n.staticRenderFns}}function Ar(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return vf(t,e);if(t.once&&!t.onceProcessed)return i(t,e);if(t.for&&!t.forProcessed)return p(t,e);if(t.if&&!t.ifProcessed)return a(t,e);if(t.tag==="template"&&!t.slotTarget&&!e.pre)return ht(t,e)||"void 0";if(t.tag==="slot")return Kt(t,e);var n;if(t.component)n=Jt(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=b(t,e));var s=t.inlineTemplate?null:ht(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(s?","+s:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}function vf(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Ar(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function i(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return a(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ar(t,e)+","+e.onceId+++","+n+")":Ar(t,e)}else return vf(t,e)}function a(t,e,n,r){return t.ifProcessed=!0,h(t.ifConditions.slice(),e,n,r)}function h(t,e,n,r){if(!t.length)return r||"_e()";var s=t.shift();if(s.exp)return"("+s.exp+")?"+o(s.block)+":"+h(t,e,n,r);return""+o(s.block);function o(l){return n?n(l,e):l.once?i(l,e):Ar(l,e)}}function p(t,e,n,r){var s=t.for,o=t.alias,l=t.iterator1?","+t.iterator1:"",c=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+s+"),function("+o+l+c+"){return "+(n||Ar)(t,e)+"})"}function b(t,e){var n="{",r=E(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var s=0;s<e.dataGenFns.length;s++)n+=e.dataGenFns[s](t);if(t.attrs&&(n+="attrs:"+qe(t.attrs)+","),t.props&&(n+="domProps:"+qe(t.props)+","),t.events&&(n+=df(t.events,!1)+","),t.nativeEvents&&(n+=df(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=G(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=k(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+qe(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function E(t,e){var n=t.directives;if(!!n){var r="directives:[",s=!1,o,l,c,d;for(o=0,l=n.length;o<l;o++){c=n[o],d=!0;var m=e.directives[c.name];m&&(d=!!m(t,c,e.warn)),d&&(s=!0,r+='{name:"'+c.name+'",rawName:"'+c.rawName+'"'+(c.value?",value:("+c.value+"),expression:"+JSON.stringify(c.value):"")+(c.arg?",arg:"+(c.isDynamicArg?c.arg:'"'+c.arg+'"'):"")+(c.modifiers?",modifiers:"+JSON.stringify(c.modifiers):"")+"},")}if(s)return r.slice(0,-1)+"]"}}function k(t,e){var n=t.children[0];if(n&&n.type===1){var r=gf(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(s){return"function(){"+s+"}"}).join(",")+"]}"}}function G(t,e,n){var r=t.for||Object.keys(e).some(function(c){var d=e[c];return d.slotTargetDynamic||d.if||d.for||lt(d)}),s=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==ia||o.for){r=!0;break}o.if&&(s=!0),o=o.parent}var l=Object.keys(e).map(function(c){return ut(e[c],n)}).join(",");return"scopedSlots:_u(["+l+"]"+(r?",null,true":"")+(!r&&s?",null,false,"+Y(l):"")+")"}function Y(t){for(var e=5381,n=t.length;n;)e=e*33^t.charCodeAt(--n);return e>>>0}function lt(t){return t.type===1?t.tag==="slot"?!0:t.children.some(lt):!1}function ut(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return a(t,e,ut,"null");if(t.for&&!t.forProcessed)return p(t,e,ut);var r=t.slotScope===ia?"":String(t.slotScope),s="function("+r+"){return "+(t.tag==="template"?t.if&&n?"("+t.if+")?"+(ht(t,e)||"undefined")+":undefined":ht(t,e)||"undefined":Ar(t,e))+"}",o=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+s+o+"}"}function ht(t,e,n,r,s){var o=t.children;if(o.length){var l=o[0];if(o.length===1&&l.for&&l.tag!=="template"&&l.tag!=="slot"){var c=n?e.maybeComponent(l)?",1":",0":"";return""+(r||Ar)(l,e)+c}var d=n?bt(o,e.maybeComponent):0,m=s||Dt;return"["+o.map(function(S){return m(S,e)}).join(",")+"]"+(d?","+d:"")}}function bt(t,e){for(var n=0,r=0;r<t.length;r++){var s=t[r];if(s.type===1){if(Et(s)||s.ifConditions&&s.ifConditions.some(function(o){return Et(o.block)})){n=2;break}(e(s)||s.ifConditions&&s.ifConditions.some(function(o){return e(o.block)}))&&(n=1)}}return n}function Et(t){return t.for!==void 0||t.tag==="template"||t.tag==="slot"}function Dt(t,e){return t.type===1?Ar(t,e):t.type===3&&t.isComment?Lt(t):Gt(t)}function Gt(t){return"_v("+(t.type===2?t.expression:tn(JSON.stringify(t.text)))+")"}function Lt(t){return"_e("+JSON.stringify(t.text)+")"}function Kt(t,e){var n=t.slotName||'"default"',r=ht(t,e),s="_t("+n+(r?",function(){return "+r+"}":""),o=t.attrs||t.dynamicAttrs?qe((t.attrs||[]).concat(t.dynamicAttrs||[]).map(function(c){return{name:en(c.name),value:c.value,dynamic:c.dynamic}})):null,l=t.attrsMap["v-bind"];return(o||l)&&!r&&(s+=",null"),o&&(s+=","+o),l&&(s+=(o?"":",null")+","+l),s+")"}function Jt(t,e,n){var r=e.inlineTemplate?null:ht(e,n,!0);return"_c("+t+","+b(e,n)+(r?","+r:"")+")"}function qe(t){for(var e="",n="",r=0;r<t.length;r++){var s=t[r],o=tn(s.value);s.dynamic?n+=s.name+","+o+",":e+='"'+s.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function tn(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}var Pn=new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),Ie=new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),kn=/'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;function Mr(t,e){t&&vu(t,e)}function vu(t,e){if(t.type===1){for(var n in t.attrsMap)if(na.test(n)){var r=t.attrsMap[n];if(r){var s=t.rawAttrsMap[n];n==="v-for"?sm(t,'v-for="'+r+'"',e,s):n==="v-slot"||n[0]==="#"?om(r,n+'="'+r+'"',e,s):tu.test(n)?im(r,n+'="'+r+'"',e,s):mf(r,n+'="'+r+'"',e,s)}}if(t.children)for(var o=0;o<t.children.length;o++)vu(t.children[o],e)}else t.type===2&&mf(t.expression,t.text,e,t)}function im(t,e,n,r){var s=t.replace(kn,""),o=s.match(Ie);o&&s.charAt(o.index-1)!=="$"&&n('avoid using JavaScript unary operator as property name: "'+o[0]+'" in expression '+e.trim(),r),mf(t,e,n,r)}function sm(t,e,n,r){mf(t.for||"",e,n,r),tv(t.alias,"v-for alias",e,n,r),tv(t.iterator1,"v-for iterator",e,n,r),tv(t.iterator2,"v-for iterator",e,n,r)}function tv(t,e,n,r,s){if(typeof t=="string")try{new Function("var "+t+"=_")}catch(o){r("invalid "+e+' "'+t+'" in expression: '+n.trim(),s)}}function mf(t,e,n,r){try{new Function("return "+t)}catch(o){var s=t.replace(kn,"").match(Pn);n(s?'avoid using JavaScript keyword as property name: "'+s[0]+`"
  Raw expression: `+e.trim():"invalid expression: "+o.message+` in

    `+t+`

  Raw expression: `+e.trim()+`
`,r)}}function om(t,e,n,r){try{new Function(t,"")}catch(s){n("invalid function parameter expression: "+s.message+` in

    `+t+`

  Raw expression: `+e.trim()+`
`,r)}}var Pv=2;function Mb(t,e,n){e===void 0&&(e=0),n===void 0&&(n=t.length);for(var r=t.split(/\r?\n/),s=0,o=[],l=0;l<r.length;l++)if(s+=r[l].length+1,s>=e){for(var c=l-Pv;c<=l+Pv||n>s;c++)if(!(c<0||c>=r.length)){o.push(""+(c+1)+bf(" ",3-String(c+1).length)+"|  "+r[c]);var d=r[c].length;if(c===l){var m=e-(s-d)+1,S=n>s?d-m:n-e;o.push("   |  "+bf(" ",m)+bf("^",S))}else if(c>l){if(n>s){var C=Math.min(n-s,d);o.push("   |  "+bf("^",C))}s+=d+1}}break}return o.join(`
`)}function bf(t,e){var n="";if(e>0)for(;e&1&&(n+=t),e>>>=1,!(e<=0);)t+=t;return n}function Cv(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),Ye}}function am(t){var e=Object.create(null);return function(r,s,o){s=ie({},s);var l=s.warn||Ue;delete s.warn;var c=s.delimiters?String(s.delimiters)+r:r;if(e[c])return e[c];var d=t(r,s),m={},S=[];return m.render=Cv(d.render,S),m.staticRenderFns=d.staticRenderFns.map(function(C){return Cv(C,S)}),e[c]=m}}function lm(t){return function(n){function r(s,o){var l=Object.create(n),c=[],d=[],m=function(V,ot,ft){(ft?d:c).push(V)};if(o){if(!1)var S;o.modules&&(l.modules=(n.modules||[]).concat(o.modules)),o.directives&&(l.directives=ie(Object.create(n.directives||null),o.directives));for(var C in o)C!=="modules"&&C!=="directives"&&(l[C]=o[C])}l.warn=m;var z=t(s.trim(),l);return z.errors=c,z.tips=d,z}return{compile:r,compileToFunctions:am(r)}}}var um=lm(function(e,n){var r=bg(e.trim(),n);n.optimize!==!1&&Wg(r,n);var s=gf(r,n);return{ast:r,render:s.render,staticRenderFns:s.staticRenderFns}}),Tv=um($g),Nb=Tv.compile,Iv=Tv.compileToFunctions,yf;function Ov(t){return yf=yf||document.createElement("div"),yf.innerHTML=t?`<a href="
"/>`:`<div a="
"/>`,yf.innerHTML.indexOf("&#10;")>0}var cm=Fe?Ov(!1):!1,hm=Fe?Ov(!0):!1,fm=cn(function(t){var e=Il(t);return e&&e.innerHTML}),dm=be.prototype.$mount;be.prototype.$mount=function(t,e){if(t=t&&Il(t),t===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if(typeof r=="string")r.charAt(0)==="#"&&(r=fm(r));else if(r.nodeType)r=r.innerHTML;else return this;else t&&(r=pm(t));if(r){var s=Iv(r,{outputSourceRange:!1,shouldDecodeNewlines:cm,shouldDecodeNewlinesForHref:hm,delimiters:n.delimiters,comments:n.comments},this),o=s.render,l=s.staticRenderFns;n.render=o,n.staticRenderFns=l}}return dm.call(this,t,e)};function pm(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}be.compile=Iv;var gm=be;const vm=`
  <div class="toolbar">
    <button class="btnUndo" @mousedown.prevent="preventMousedown" v-bind:disabled="!canUndo" @click="onUndo"></button>
    <button class="btnRedo" @mousedown.prevent="preventMousedown" v-bind:disabled="!canRedo" @click="onRedo"></button>
    <span v-if="stackDepth > 0">{{currentStackIndex + 1}}/{{stackDepth}}</span>
    <button class="btnClearFormat" @mousedown.prevent="preventMousedown" @click="onClearFormat"></button>
    <select id="selTitle" @change="onSetTitle">
      <option value="-1">\u6B63\u6587</option>
      <option value="0">\u6807\u9898</option>
      <option value="1">\u526F\u6807\u9898</option>
      <option value="2">\u6807\u98981</option>
      <option value="3">\u6807\u98982</option>
      <option value="4">\u6807\u98983</option>
      <option value="5">\u6807\u98984</option>
    </select>
    <select id="selFont" v-model="format.font" @change="onSetFont">
      <option value="Default">\u9ED8\u8BA4\u5B57\u4F53</option>
      <option value="simsun">\u5B8B\u4F53</option>
      <option value="simhei">\u9ED1\u4F53</option>
      <option value="Weiruanyahei">\u5FAE\u8F6F\u96C5\u9ED1</option>
      <option value="fangsong">\u4EFF\u5B8B</option>
      <option value="kaiti">\u6977\u4F53</option>
      <option value="arial">arial</option>
      <option value="droid">droid</option>
      <option value="source">source</option>
    </select>
    <select id="selSize" v-model="format.size" @change="onSetSize">
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="14">14</option>
      <option value="16">16</option>
      <option value="18">18</option>
      <option value="22">22</option>
      <option value="24">24</option>
      <option value="30">30</option>
      <option value="36">36</option>
    </select>
    <button class="btnBold" @mousedown.prevent="preventMousedown" @click="onSetBold" v-bind:class="{'btnSelected': format.bold, 'btnBold': true}"></button>
    <button class="btnItalic" @mousedown.prevent="preventMousedown" @click="onSetItalic" v-bind:class="{'btnSelected': format.italic, 'btnItalic': true}"></button>
    <button class="btnUnderline" @mousedown.prevent="preventMousedown" @click="onSetUnderline" v-bind:class="{'btnSelected': format.underline, 'btnUnderline': true}"></button>
    <button class="btnStrike" @mousedown.prevent="preventMousedown" @click="onSetStrike" v-bind:class="{'btnSelected': format.strike, 'btnStrike': true}"></button>
    <button class="btnColor" @mousedown.prevent="preventMousedown" @click="onSetColor" class="btnColor" :style="{'background-color':format.color}"></button>
    <button class="btnHighlight" @mousedown.prevent="preventMousedown" @click="onSetHighlight" class="btnHighlight" :style="{'background-color':format.background}"></button>
    <select id="selList" v-model="format.listType" @change="onSetList">
      <option value='-1'>none</option>
      <option value="0">1. a. i. 1.</option>
      <option value="1">\u4E00\u3001 a). i. 1.</option>
      <option value="2">1. 1.1. 1.1.1. 1.1.1.1.</option>
      <option value="3">\u2022  \u25E6  \u25AA  \u25AB</option>
      <option value="4">\u29BF \u29BF \u29BF \u29BF</option>
      <option value="5">\u2192 \u25B4 \u25AA \u2022</option>
    </select>
    <button @mousedown.prevent="preventMousedown" @click="onSetIndentRight" class="btnIndentRight"></button>
    <button @mousedown.prevent="preventMousedown" @click="onSetIndentLeft" class="btnIndentLeft"></button>
    <select id="selAlign" v-model="format.align" @change="onSetAlign">
      <option value="left">\u5DE6\u5BF9\u9F50</option>
      <option value="center">\u5C45\u4E2D</option>
      <option value="right">\u53F3\u5BF9\u9F50</option>
      <option value="justify">\u4E24\u7AEF\u5BF9\u9F50</option>
      <option value="scattered">\u5206\u6563\u5BF9\u9F50</option>
    </select>
    <select v-model="format.linespacing" @change="onSetLinespacing">
      <option value="1.7">1.0</option>
      <option value="2">1.15</option>
      <option value="2.5">1.5</option>
      <option value="3.4">2.0</option>
      <option value="4.3">2.5</option>
      <option value="5.1">3.0</option>
    </select>
    <button class="btnQuote" @mousedown.prevent="preventMousedown" @click="onSetQuoteBlock"></button>
    <br>
    <input id="searchKeywords" type="text" v-model="searchKeywords" placeholder="search"/>
    <button class="btnSearch" @mousedown.prevent="preventMousedown" @click="onSearch"></button>
    <span v-if="searchResultCurrentIndex !== undefined">{{searchResultCurrentIndex + 1}}/{{searchResultCount}}</span>
    <input id="searchReplaceKeywords" type="text" v-model="searchReplaceKeywords" placeholder="replace"/>
    <button @mousedown.prevent="preventMousedown" @click="onReplace">\u66FF\u6362</button>
    <button @mousedown.prevent="preventMousedown" @click="onReplaceAll">\u66FF\u6362\u5168\u90E8</button>
    <button @mousedown.prevent="preventMousedown" @click="onClearSearch">\u6E05\u9664\u67E5\u627E</button>
    <button class="btnPrev" @mousedown.prevent="preventMousedown" @click="onPrevSearchResult"></button>
    <button class="btnNext" @mousedown.prevent="preventMousedown" @click="onNextSearchResult"></button>
    <input id="linkUrl" type="text" v-model="linkUrl" />
    <button class="btnLink" @mousedown.prevent="preventMousedown" @click="onSetLink"></button>
    <button class="btnImage" @mousedown.prevent="preventMousedown" @click="onInsertImage"></button>
    <input id="imageUrl" type="text" v-model="imageUrl" placeholder="replace"/>
    <button class="btnTable" @mousedown.prevent="preventMousedown" @click="onInsertTable"></button>
  </div>
`;function mm(t){return new gm({el:t,template:vm,data:{format:{},canUndo:!1,canRedo:!1,stackDepth:0,currentStackIndex:0,searchKeywords:"",searchReplaceKeywords:"",searchResultCount:0,searchResultCurrentIndex:void 0,linkUrl:"",imageUrl:"https://www.apple.com.cn/home/images/wechat/open_graph_logo.png"},methods:{preventMousedown(){},randomColor(){return`#${[Math.floor(Math.random()*256).toString(16),Math.floor(Math.random()*256).toString(16),Math.floor(Math.random()*256).toString(16)].map(r=>r.length===2?r:`0${r}`).join("")}`},setSearchResult(e,n){this.searchResultCount=e.length,this.searchResultCurrentIndex=n},setRedoUndoStatus(e){this.canRedo=e.canRedo,this.canUndo=e.canUndo,this.stackDepth=e.stackDepth,this.currentStackIndex=e.current},setCurrentFormat(e){var n;const r={};Object.keys(e).forEach(o=>{e[o]&&e[o].size===1&&(r[o]=e[o].values().next().value)}),r.listType=(n=r.listType)!=null?n:"-1",this.$set(this.$data,"format",r)},onClearFormat(){this.$emit("clearFormat")},onSetTitle(e){this.$emit("format",{title:parseInt(e.srcElement.value,10)})},onSetFont(e){console.log("set font"),this.$emit("format",{font:e.srcElement.value})},onSetSize(e){this.$emit("format",{size:parseInt(e.srcElement.value,10)})},onSetBold(){console.log("on SetBold"),this.$emit("format",{bold:!this.format.bold})},onSetItalic(){console.log("on SetItalic"),this.$emit("format",{italic:!this.format.italic})},onSetUnderline(){console.log("on SetUnderline"),this.$emit("format",{underline:!this.format.underline})},onSetStrike(){console.log("on SetStrike"),this.$emit("format",{strike:!this.format.strike})},onSetColor(){let e="#494949";this.format.color===e&&(e=this.randomColor()),this.$emit("format",{color:e})},onSetHighlight(){let e="#ffffff";this.format.background===e&&(e=this.randomColor()),this.$emit("format",{background:e})},onSetList(e){console.log("on SetList");const n=parseInt(e.srcElement.value,10);n===-1?this.$emit("setParagraph"):this.$emit("setList",n)},onSetIndentRight(){console.log("on SetIndentRight"),this.$emit("indent",!0)},onSetIndentLeft(){console.log("on SetIndentLeft"),this.$emit("indent",!1)},onSetAlign(e){console.log("on SetAlign "),this.$emit("format",{align:e.srcElement.value})},onSetLinespacing(e){console.log("on SetLinespacing"),this.$emit("format",{linespacing:e.srcElement.value})},onSetQuoteBlock(){console.log("on SetQuoteBlock"),this.$emit("setQuoteBlock")},onSearch(){console.log("on Search ",this.searchKeywords),this.$emit("search",this.searchKeywords)},onReplace(){console.log("on Replace "),this.$emit("replace",this.searchReplaceKeywords)},onReplaceAll(){console.log("on Replace All"),this.$emit("replace",this.searchReplaceKeywords,!0)},onClearSearch(){console.log("on Clear Search"),this.$emit("clearSearch")},onPrevSearchResult(){this.$emit("prevSearchResult")},onNextSearchResult(){this.$emit("nextSearchResult")},onSetLink(){console.log("on SetLink"),this.$emit("format",{link:this.linkUrl})},onInsertImage(){console.log("on insertImage"),this.$emit("insertImage",this.imageUrl)},onInsertTable(){console.log("on insertTable"),this.$emit("insertTable")},onRedo(){this.$emit("redo")},onUndo(){this.$emit("undo")}}})}const bm="#A5A5A5",ev=class extends lr{constructor(){super(...arguments);this.needMerge=!0,this.padding=10}readFromOps(t){const e=super.readOpsToLayoutFrame(t);this.addAll(e),super.setFrameStart()}layout(){if(this.needLayout){let t=null,e=0;for(let r=0,s=this.children.length;r<s;r++)t=this.children[r],t.layout(),t.x=20,e=Math.max(e,t.x+t.width);this.head!==null&&this.head.setPositionY(this.padding,!0,!0),this.needLayout=!1;let n=0;t!==null&&(n=t.y+t.height+this.padding),this.setHeight(n),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}}getSelectionRectangles(t,e,n){let r;return typeof n=="number"&&(r=Math.max(this.y+this.padding,n),r=Math.min(this.y+this.height-this.padding,r)),super.getSelectionRectangles(t,e,r)}toOp(t){const e=[];for(let n=0;n<this.children.length;n++){const s=this.children[n].toOp(t);e.push(...s)}return this.setBlockOpAttribute(e,ev.typeName),e}toHtml(t){return`<blockquote>${Me(this,t)}</blockquote>`}createSelf(){return new ev}afterAdd(t,e,n,r,s){super.afterAdd(t,e,n,r,s),t.forEach(o=>{o.setOverrideDefaultAttributes({color:bm})})}afterRemove(t,e,n,r,s){super.afterRemove(t,e,n,r,s),t.forEach(o=>{o.setOverrideDefaultAttributes({color:void 0})})}onPointerEnter(t,e,n,r){super.onPointerEnter(t,e-this.padding,n,r)}onPointerMove(t,e,n,r){super.onPointerMove(t,e-this.padding,n,r)}onPointerDown(t,e){super.onPointerDown(t,e-this.padding)}onPointerUp(t,e){super.onPointerUp(t,e-this.padding)}onPointerTap(t,e){super.onPointerTap(t,e-this.padding)}draw(t,e,n,r){for(let s=0;s<this.children.length;s++){const o=this.children[s];n+this.y+o.y+o.height>=0&&o.y<r&&o.draw(t,this.x+e,this.y+n,r-o.y)}t.fillStyle="#f0f0f0",t.fillRect(this.x,this.y+this.padding+n,5,this.height-this.padding*2),super.draw(t,e,n,r)}setChildrenMaxWidth(t){t.setMaxWidth(this.width-20)}};let Ns=ev;Ns.typeName="quote";class ym extends Er{constructor(e,n,r,s){super(e);this.stack=n,this.contentService=r,this.paragraphService=s}setQuoteBlock(e){let n=new(y());e.forEach(r=>{const s=this.contentService.getBlocksInRange(r);if(s.filter(l=>l instanceof Ns).length===s.length)this.paragraphService.setParagraph(e);else{const l=[];let c;s[0].prevSibling instanceof Ns?(c=s[0].prevSibling,l.push(...c.toOp(!0))):(c=new Ns,this.doc.addBefore(c,s[0]));for(let z=0;z<s.length;z++){const V=s[z];l.push(...V.toOp(!0));const ot=V.getAllLayoutFrames();ot.length&&(c.addAll(ot),this.doc.remove(V))}if(c.nextSibling instanceof Ns){l.push(...c.nextSibling.toOp(!0));const z=c.nextSibling.removeAll();c.addAll(z),this.doc.remove(c.nextSibling)}c.needLayout=!0;let d=0,m=0;c.prevSibling&&(d=c.prevSibling.start+c.prevSibling.length,m=c.prevSibling.y+c.prevSibling.height),c.setStart(d,!0,!0,!0),c.setPositionY(m,!1,!0);const S=new(y())(l).diff(new(y())(c.toOp(!0))),C=new(y());c.start>0&&C.retain(c.start),n=n.compose(C.concat(S))}}),(n==null?void 0:n.ops.length)&&this.stack.pushDiff(n)}}const Dv={title:_e.Text};var xm=Object.defineProperty,Lv=Object.getOwnPropertySymbols,wm=Object.prototype.hasOwnProperty,Sm=Object.prototype.propertyIsEnumerable,Rv=(t,e,n)=>e in t?xm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_m=(t,e)=>{for(var n in e||(e={}))wm.call(e,n)&&Rv(t,n,e[n]);if(Lv)for(var n of Lv(e))Sm.call(e,n)&&Rv(t,n,e[n]);return t};const xf=class extends lr{constructor(){super(...arguments);this.defaultAttributes=Dv,this.attributes=_m({},Dv),this.originalAttributes=null,this.needMerge=!1}readFromOps(t){this.setAttributes(t[t.length-1].attributes);const e=super.readOpsToLayoutFrame(t);this.addLast(e[0]),this.length=e[0].length}layout(){this.needLayout&&this.head&&(this.head.layout(),this.head.x=0,this.head.y=0,this.head.start=0,this.needLayout=!1,this.setHeight(this.head.height),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height))}getDocumentPos(t,e,n){return this.head.getDocumentPos(t-this.x,e-this.y,n)}getSelectionRectangles(t,e,n){const r=t.index,s=e.index-r,o=r<0?s+r:s,l=this.head.getSelectionRectangles({index:Math.max(r,0),inner:null},{index:Math.max(r,0)+o,inner:null});for(let c=l.length-1;c>=0;c--){const d=l[c];if(d.y+=this.y,typeof n=="number"&&(n<d.y||n>d.y+d.height)){l.splice(c,1);continue}d.x+=this.x}return l}delete(t,e){this.head&&this.head.delete(t,e),this.length=this.head.length,this.needLayout=!0}toOp(t){const e=this.head.toOp(t);return this.setBlockOpAttribute(e,xf.typeName),e}toHtml(t){return`<p>${Me(this,t)}</p>`}insertEnter(t,e){const n=vt(t.index,this.children,!0);if(!n)return null;const r=n.insertEnter({index:t.index-n.start,inner:t.inner},e);if(this.needLayout=!0,r){const s=new xf;return s.setWidth(this.width),s.addLast(r),this.calLength(),s}return this.calLength(),null}draw(t,e,n,r){this.head.draw(t,this.x+e,this.y+n,r-this.head.y),super.draw(t,e,n,r)}setAttributes(t){super.setAttributes(t),this.head&&(this.setFrameOverrideAttributes(this.head),this.setFrameOverrideDefaultAttributes(this.head))}afterAdd(t,e,n,r,s){super.afterAdd(t,e,n,r,s),t.forEach(o=>{this.setFrameOverrideAttributes(o),this.setFrameOverrideDefaultAttributes(o)})}afterRemove(t,e,n,r,s){super.afterRemove(t,e,n,r,s),t.forEach(o=>{this.removeFrameOverrideAttributes(o),this.removeFrameOverrideDefaultAttributes(o)})}createSelf(){return new xf}formatSelf(t,e){this.setAttributes(t)}setFrameOverrideAttributes(t){const e=this.getOverrideAttributes();Object.keys(e).length>0&&t.setOverrideAttributes(e)}removeFrameOverrideAttributes(t){const e=this.getOverrideAttributes();Object.keys(e).forEach(n=>{e[n]=void 0}),t.setOverrideAttributes(e)}getOverrideAttributes(){const t={};switch(this.attributes.title){case _e.Text:t.bold=void 0,t.size=void 0,t.linespacing=void 0;break;case _e.Title:t.bold=!0,t.size=20,t.linespacing=2;break;case _e.Subtitle:t.bold=!0,t.size=18,t.linespacing=2;break;case _e.H1:t.bold=!0,t.size=16;break;case _e.H2:t.bold=!0,t.size=14;break;case _e.H3:t.bold=!0,t.size=13;break;case _e.H4:t.bold=!0,t.size=12;break}return t}setFrameOverrideDefaultAttributes(t){this.attributes.title===_e.Subtitle?t.setOverrideDefaultAttributes({color:"#888"}):t.setOverrideDefaultAttributes({color:void 0})}removeFrameOverrideDefaultAttributes(t){this.attributes.title===_e.Subtitle&&t.setOverrideDefaultAttributes({color:void 0})}};let wf=xf;wf.typeName="para";class Am extends Er{constructor(e,n,r){super(e);this.stack=n,this.contentService=r}setParagraph(e){let n=new(y());e.forEach(r=>{const s=this.contentService.getBlocksInRange(r);if(s.length<=0)return;let o=0,l=0;s[0].prevSibling&&(o=s[0].prevSibling.start+s[0].prevSibling.length,l=s[0].prevSibling.y+s[0].prevSibling.height);let c=null,d=null;const m=[];for(let S=0;S<s.length;S++){m.push(...s[S].toOp(!0));const C=s[S].getAllLayoutFrames();for(let z=0;z<C.length;z++){const V=C[z],ot=new wf;ot.addLast(V),this.doc.addBefore(ot,s[S]),d=ot,S===0&&z===0&&(c=ot)}this.doc.remove(s[S])}if(c&&d){c.setStart(o,!0,!0,!0),c.setPositionY(l,!1,!0);const S=this.contentService.getBlocksInRange(r),C=this.doc.getBlocksOps(S),z=new(y())(m).diff(new(y())(C)),V=new(y());S[0].start>0&&V.retain(S[0].start);const ot=V.concat(z);n=n.compose(ot)}}),n.ops.length>0&&this.stack.pushDiff(n)}}class Em extends Er{constructor(e,n,r){super(e);this.stack=n,this.contentService=r,this.contentService.on(it.AFTER_APPLY,this.onDocContentAfterApply.bind(this)),this.doc.em.on(Te.NEED_LAYOUT_LISTITEM,this.onNeedLayoutListitem.bind(this))}setList(e,n){const r=n,s=new Set;let o=new(y());r.forEach(l=>{const c=this.contentService.getBlocksInRange(l);if(c.length<=0)return new(y());let d=0,m=0;c[0].prevSibling&&(d=c[0].prevSibling.start+c[0].prevSibling.length,m=c[0].prevSibling.y+c[0].prevSibling.height);let S;const C=$(),z=[];for(let wt=0;wt<c.length;wt++){const Ot=c[wt];if(z.push(...Ot.toOp(!0)),Ot instanceof De)s.add(Ot.attributes.listId),Ot.format({listType:e,listId:C}),Ot.needLayout=!0,wt===0&&(S=Ot);else{const Vt=Ot.getAllLayoutFrames();for(let Qt=0;Qt<Vt.length;Qt++){const se=Vt[Qt],At={};switch(e){case A.ol1:At["list-type"]="decimal";case A.ol2:At["list-type"]="ckj-decimal";case A.ol3:At["list-type"]="upper-decimal",At.listId=C;break;case A.ul1:At["list-type"]="decimal";case A.ul2:At["list-type"]="ring";case A.ul3:At["list-type"]="arrow",At.listId=C;break;default:At["list-type"]="decimal",At.listId=C;break}const $t=new De;$t.addAll([se]),$t.setAttributes(At),this.doc.addBefore($t,Ot),wt===0&&Qt===0&&(S=$t)}this.doc.remove(Ot)}}S.setStart(d,!0,!0,!0),S.setPositionY(m,!1,!0);const V=this.contentService.getBlocksInRange(l),ot=this.doc.getBlocksOps(V),ft=new(y())(z).diff(new(y())(ot)),pt=new(y());S.start>0&&pt.retain(S.start),o=o.compose(pt.concat(ft))}),o.ops.length>0&&this.stack.pushDiff(o)}markListItemToLayout(e){if(e.size>0)for(let n=0;n<this.doc.children.length;n++){const r=this.doc.children[n];r instanceof De&&e.has(r.attributes.listId)&&(r.needLayout=!0)}}onNeedLayoutListitem(e){const n=new Set;n.add(e),this.markListItemToLayout(n)}onDocContentAfterApply(e){const n=new Set;for(let r=0;r<e.oldBlocks.length;r++){const s=e.oldBlocks[r];s instanceof De&&n.add(s.attributes.listId)}for(let r=0;r<e.newBlocks.length;r++){const s=e.newBlocks[r];s instanceof De&&n.add(s.attributes.listId)}this.markListItemToLayout(n)}}var Pm=Object.defineProperty,Cm=Object.defineProperties,Tm=Object.getOwnPropertyDescriptors,Fv=Object.getOwnPropertySymbols,Im=Object.prototype.hasOwnProperty,Om=Object.prototype.propertyIsEnumerable,kv=(t,e,n)=>e in t?Pm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dm=(t,e)=>{for(var n in e||(e={}))Im.call(e,n)&&kv(t,n,e[n]);if(Fv)for(var n of Fv(e))Om.call(e,n)&&kv(t,n,e[n]);return t},Lm=(t,e)=>Cm(t,Tm(e));const Mv=Lm(Dm({},bn),{height:0,margin:0,oriHeight:0,oriWidth:0,width:0,src:""});var Nv=Object.defineProperty,Rm=Object.defineProperties,Fm=Object.getOwnPropertyDescriptor,km=Object.getOwnPropertyDescriptors,Bv=Object.getOwnPropertySymbols,Mm=Object.prototype.hasOwnProperty,Nm=Object.prototype.propertyIsEnumerable,Hv=(t,e,n)=>e in t?Nv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sf=(t,e)=>{for(var n in e||(e={}))Mm.call(e,n)&&Hv(t,n,e[n]);if(Bv)for(var n of Bv(e))Nm.call(e,n)&&Hv(t,n,e[n]);return t},Bm=(t,e)=>Rm(t,km(e)),Hm=(t,e,n,r)=>{for(var s=r>1?void 0:r?Fm(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Nv(e,n,s),s};let ui=class extends or{constructor(){super(...arguments);this.img=null,this.loaded=!1,this.fail=!1,this.defaultAttributes=Mv,this.originalAttributes=null,this.attributes=Sf({},Mv)}get typeName(){return ui.typeName}readFromOps(t){const e=t.attributes;e["ori-height"]!==void 0&&(e.oriHeight=parseInt(e["ori-height"],10),e.height=e.oriHeight),e["ori-width"]!==void 0&&(e.oriWidth=parseInt(e["ori-width"],10),e.width=e.oriWidth),e.height!==void 0&&(e.height=parseInt(e.height,10)),e.width!==void 0&&(e.width=parseInt(e.width,10)),this.setAttributes(e),this.calMetrics()}calTotalWidth(){return this.attributes.width}calMetrics(){this.metrics={baseline:this.attributes.height,bottom:this.attributes.height,xTop:0}}toOp(t){var e,n;const r=((e=this.originalAttributes)==null?void 0:e.hasOwnProperty("oriHeight"))?{"ori-height":this.originalAttributes.oriHeight}:null,s=((n=this.originalAttributes)==null?void 0:n.hasOwnProperty("oriWidth"))?{"ori-width":this.originalAttributes.oriWidth}:null,o={insert:1,attributes:Sf(Sf(Bm(Sf({},this.originalAttributes),{frag:ui.typeName}),r),s)};return t&&(o.key=this.id),o}toHtml(){return`<img style=${yt(this.attributes)} src="${this.attributes.src}"/>`}toText(){return""}loadImage(t=0){!this.loaded&&!this.img&&(this.img=new Image,this.img.onload=()=>{this.loaded=!0,this.bubbleUp(Te.NEED_DRAW,null)},this.img.onerror=()=>{t<2?(this.img=null,this.loadImage(t+1)):this.fail=!0},this.img.src=this.attributes.src)}compileAttributes(){super.compileAttributes(),this.calMetrics()}bubbleUp(t,e,n){throw new Error("this method should implemented in IGetAbsolutePosDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}};ui.typeName="img",ui=Hm([Oe],ui);class $m extends Si{constructor(e,n,r){super(e,n);this.service=r}insertImage(e){const n=new ui;n.setAttributes({width:300,height:300,src:e,oriWidth:300,oriHeight:300}),this.service.insertFragment(n)}}var Um=Object.defineProperty,$v=Object.getOwnPropertySymbols,Wm=Object.prototype.hasOwnProperty,Gm=Object.prototype.propertyIsEnumerable,Uv=(t,e,n)=>e in t?Um(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zm=(t,e)=>{for(var n in e||(e={}))Wm.call(e,n)&&Uv(t,n,e[n]);if($v)for(var n of $v(e))Gm.call(e,n)&&Uv(t,n,e[n]);return t},Wv;(function(t){t[t.NoRender=0]="NoRender",t[t.FastRender=1]="FastRender",t[t.Render=2]="Render"})(Wv||(Wv={}));class jm{constructor(e,n){this.em=new(_()),this.scrollTop=0,this.cvsOffsetX=0,this.cvsDoc=document.createElement("canvas"),this.ctx=new ga(this.cvsDoc.getContext("2d")),this.heightPlaceholderContainer=document.createElement("div"),this.heightPlaceholder=document.createElement("div"),this.divCursor=document.createElement("div"),this.textInput=document.createElement("textarea"),this.toolbar=mm(document.querySelector("#toolbar")),this.composing=!1,this.doc=new Cf,this.needRender=0,this.isPointerHoverDoc=!1,this.currentPointerScreenX=0,this.currentPointerScreenY=0,this.setEditorHeight=f()(r=>{this.heightPlaceholder.style.height=`${r.height}px`,this.em.emit(g.EDITOR_CHANGE_SIZE,r)},100),this.onDocumentFormatChange=f()(r=>{this.em.emit(g.EDITOR_CHANGE_FORMAT,r)},100),this.changeCursorStatus=(()=>{let r=!1,s;const o=l=>{this.divCursor.style.opacity=l===!0?"1":"0",r=l};return l=>{l.color!==void 0&&(this.divCursor.style.borderLeftColor=l.color),l.x!==void 0&&(this.divCursor.style.left=`${l.x+this.cvsOffsetX}px`,this.textInput.style.left=`${l.x+this.cvsOffsetX}px`),l.y!==void 0&&(this.divCursor.style.top=`${l.y}px`,this.textInput.style.top=`${l.y}px`),l.height!==void 0&&(this.divCursor.style.height=`${l.height}px`,this.textInput.style.height=`${l.height}px`),window.clearInterval(s),l.visible===!0&&(s=window.setInterval(()=>{o(!r)},540)),l.visible!==void 0&&o(l.visible)}})(),this.render=()=>{this.needRender===1?this.doc.fastDraw(this.ctx,this.scrollTop,this.config.containerHeight):this.needRender===2&&this.doc.draw(this.ctx,this.scrollTop,this.config.containerHeight),this.needRender=0},this.onEditorScroll=()=>{this.scrollTop=this.heightPlaceholderContainer.scrollTop,this.startDrawing(!0)},this.onMouseDown=r=>{document.addEventListener("mouseup",this.onMouseUp,!0);const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY);this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY;const l={x:0,y:0,width:this.config.canvasWidth,height:this.config.containerHeight};jt(s,o-this.scrollTop,l)&&this.selectionService.startMouseSelection(s,o),this.doc.onPointerDown(s,o)},this.onMouseMove=r=>{const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY),l=this.doc.getChildrenStackByPos(s,o);this.heightPlaceholderContainer.style.cursor=l[l.length-1].getCursorType(),this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY,this.selectionService.updateMouseSelection(s,o);const c={x:0,y:0,width:this.config.canvasWidth,height:this.config.containerHeight};jt(s,o-this.scrollTop,c)?(this.isPointerHoverDoc||(this.doc.onPointerEnter(s,o,l,0),this.isPointerHoverDoc=!0),this.doc.onPointerMove(s,o,l,0)):this.isPointerHoverDoc&&(this.doc.onPointerLeave(),this.isPointerHoverDoc=!1)},this.onMouseUp=r=>{document.removeEventListener("mouseup",this.onMouseUp,!0);const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY);this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY,this.selectionService.endMouseSelection(s,o),this.doc.onPointerUp(s,o);const l=this.selectionService.getSelection();if(l.length===1&&X(l[0].start,l[0].end)===0){const c=this.heightPlaceholderContainer.scrollTop;this.selectionService.getSelectionRectangles().length>0&&(this.textInput.focus(),this.scrollTo(c))}else l.length>0&&this.textInput.focus()},this.onClick=r=>{const{x:s,y:o}=this.calOffsetDocPos(r.pageX,r.pageY);this.currentPointerScreenX=r.screenX,this.currentPointerScreenY=r.screenY;const l={x:0,y:0,width:this.config.canvasWidth,height:this.config.containerHeight};jt(s,o-this.scrollTop,l)&&this.doc.onPointerTap(s,o)},this.calOffsetDocPos=(r,s)=>({x:r-this.container.offsetLeft-this.cvsOffsetX,y:s-this.container.offsetTop+this.scrollTop}),this.onSelectionChange=()=>{this.startDrawing(!0),this.updateCursorStatus(),this.getCurrentFormat()},this.onDocumentContentChange=()=>{this.startDrawing(),this.getCurrentFormat()},this.onDocumentNeedDraw=()=>{this.startDrawing(!0)},this.onSearchNeedDraw=()=>{this.startDrawing(!0)},this.onSearchResultChange=(r,s)=>{this.startDrawing(!0),this.toolbar.setSearchResult(r,s)},this.getCurrentFormat=()=>{let r={};const s=this.selectionService.getSelection();s&&s.length>0&&(r=this.contentService.getFormat(s)),this.toolbar.setCurrentFormat(r)},this.updateCursorStatus=()=>{const r=this.selectionService.getSelection();if(r.length===1&&X(r[0].start,r[0].end)===0){const s=this.selectionService.getSelectionRectangles();s.length>0&&this.changeCursorStatus({visible:!0,x:s[0].x,y:s[0].y,height:s[0].height})}else this.changeCursorStatus({visible:!1})},this.openLink=r=>{window.open(r)},this.config=zm({},n),this.container=e,this.initDOM(),this.doc.setWidth(this.config.canvasWidth),this.selectionService=new va(this.doc),this.historyStackService=new Tf(this.doc),this.tableService=new nd(this.doc,this.historyStackService),this.searchService=new rd(this.doc),this.contentService=new xt(this.doc,this.historyStackService,this.selectionService),this.paragraphService=new Am(this.doc,this.historyStackService,this.contentService),this.listService=new Em(this.doc,this.historyStackService,this.contentService),this.quoteBlockService=new ym(this.doc,this.historyStackService,this.contentService,this.paragraphService),this.tableController=new ed(this,this.doc,this.contentService,this.tableService),this.contentController=new $m(this,this.doc,this.contentService),this.bindBasicEvents(),this.bindReadEvents(),this.config.canEdit&&(this.bindEditEvents(),this.bindToolbarEvents())}readFromChanges(e){this.historyStackService.setInitDelta(e),this.doc.readFromChanges(e),console.log("read finished",performance.now()-window.start),this.startDrawing()}startComposition(){this.composing=!0,this.contentService.startComposition(this.selectionService.getSelection())}updateComposition(e){this.contentService.updateComposition(this.selectionService.getSelection()[0].start,e.data,{})}endComposition(e){this.composing=!1,this.contentService.endComposition(e.data),this.textInput.value=""}clearData(){}scrollTo(e){this.heightPlaceholderContainer.scrollTop=e}search(e){const n=this.searchService.search(e);if(n.length>0){const r=n[0];this.scrollToViewPort(r.rects[0].y)}}clearSearch(){this.searchService.clearSearch()}nextSearchResult(){const e=this.searchService.nextSearchResult();e!==null&&(this.scrollToViewPort(e.res.rects[0].y),this.toolbar.setSearchResult(this.searchService.getSearchResult(),e.index))}prevSearchResult(){const e=this.searchService.prevSearchResult();e!==null&&(this.scrollToViewPort(e.res.rects[0].y),this.toolbar.setSearchResult(this.searchService.getSearchResult(),e.index))}replace(e,n=!1){const r=this.searchService.replace(e,n);this.historyStackService.pushDiff(r);const s=this.searchService.getSearchResult(),o=this.searchService.searchResultCurrentIndex;o!==void 0&&s.length>0&&this.scrollToViewPort(s[o].rects[0].y)}undo(){const e=this.historyStackService.undo();console.log("undo ",e==null?void 0:e.ops),e&&this.contentService.applyChanges(e)}redo(){const e=this.historyStackService.redo();console.log("redo ",e==null?void 0:e.ops),e&&this.contentService.applyChanges(e)}startDrawing(e=!1){this.needRender===0&&(requestAnimationFrame(this.render),this.needRender=1),e||(this.needRender=2)}scrollToViewPort(e){if(e>this.scrollTop+this.config.containerHeight||e<this.scrollTop){const n=Math.floor(e-this.config.containerHeight/2);this.scrollTo(n)}}bindBasicEvents(){this.heightPlaceholder.addEventListener("mousedown",this.onMouseDown,!0),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("click",this.onClick,!0),this.heightPlaceholderContainer.addEventListener("scroll",this.onEditorScroll)}bindReadEvents(){this.doc.em.addListener(g.DOCUMENT_CHANGE_SIZE,this.setEditorHeight),this.doc.em.addListener(g.DOCUMENT_CHANGE_CONTENT,this.onDocumentContentChange),this.doc.em.addListener(g.DOCUMENT_CHANGE_FORMAT,this.onDocumentFormatChange),this.doc.em.addListener(g.DOCUMENT_NEED_DRAW,this.onDocumentNeedDraw),this.searchService.addListener(g.SEARCH_NEED_DRAW,this.onSearchNeedDraw),this.searchService.addListener(g.SEARCH_RESULT_CHANGE,this.onSearchResultChange),this.doc.em.addListener("OPEN_LINK",this.openLink),this.selectionService.addListener(g.CHANGE_SELECTION,this.onSelectionChange)}bindEditEvents(){this.doc.em.addListener(g.DOCUMENT_AFTER_LAYOUT,this.updateCursorStatus),this.historyStackService.addListener(g.HISTORY_STACK_CHANGE,this.toolbar.setRedoUndoStatus.bind(this.toolbar)),this.textInput.addEventListener("keydown",e=>{e.key==="Backspace"?this.contentService.delete(!0):e.key==="ArrowUp"?this.selectionService.cursorMoveUp():e.key==="ArrowDown"?this.selectionService.cursorMoveDown():e.key==="ArrowLeft"?e.metaKey||e.ctrlKey?this.selectionService.cursorMoveToLineStart():this.selectionService.cursorMoveLeft():e.key==="ArrowRight"&&(e.metaKey||e.ctrlKey?this.selectionService.cursorMoveToLineEnd():this.selectionService.cursorMoveRight())}),this.textInput.addEventListener("input",()=>{this.composing||(this.contentService.input(this.textInput.value),this.textInput.value="")}),this.textInput.addEventListener("compositionstart",this.startComposition.bind(this)),this.textInput.addEventListener("compositionupdate",this.updateComposition.bind(this)),this.textInput.addEventListener("compositionend",this.endComposition.bind(this))}bindToolbarEvents(){this.toolbar.$on("format",this.onToolbarSetFormat.bind(this)),this.toolbar.$on("clearFormat",this.onToolbarClearFormat.bind(this)),this.toolbar.$on("indent",this.onToolbarSetIndent.bind(this)),this.toolbar.$on("search",this.search.bind(this)),this.toolbar.$on("replace",this.replace.bind(this)),this.toolbar.$on("clearSearch",this.clearSearch.bind(this)),this.toolbar.$on("prevSearchResult",this.prevSearchResult.bind(this)),this.toolbar.$on("nextSearchResult",this.nextSearchResult.bind(this)),this.toolbar.$on("setQuoteBlock",this.onSetQuoteBlock.bind(this)),this.toolbar.$on("setList",this.onSetList.bind(this)),this.toolbar.$on("setParagraph",this.onSetParagraph.bind(this)),this.toolbar.$on("insertImage",this.onInsertImage.bind(this)),this.toolbar.$on("insertTable",this.onInsertTable.bind(this)),this.toolbar.$on("redo",this.redo.bind(this)),this.toolbar.$on("undo",this.undo.bind(this))}initDOM(){this.cvsOffsetX=(this.config.containerWidth-this.config.canvasWidth)/2,this.container.style.width=`${this.config.containerWidth}px`,this.container.style.height=`${this.config.containerHeight}px`,this.cvsDoc.id="cvsDoc",this.cvsDoc.style.width=`${this.config.canvasWidth}px`,this.cvsDoc.style.height=`${this.config.containerHeight}px`,this.cvsDoc.style.left=`${this.cvsOffsetX}px`;const e=ce().getPixelRatio(this.ctx);this.cvsDoc.width=this.config.canvasWidth*e,this.cvsDoc.height=this.config.containerHeight*e,e!==1&&this.ctx.scale(e,e),this.heightPlaceholderContainer.id="heightPlaceholderContainer",this.heightPlaceholder.id="divHeightPlaceholder",this.divCursor=document.createElement("div"),this.divCursor.id="divCursor",this.divCursor.tabIndex=-1,this.textInput=document.createElement("textarea"),this.textInput.id="textInput",this.textInput.tabIndex=-1,this.textInput.autocomplete="off",this.textInput.autocapitalize="none",this.textInput.spellcheck=!1,this.heightPlaceholderContainer.appendChild(this.heightPlaceholder),this.heightPlaceholderContainer.appendChild(this.textInput),this.heightPlaceholderContainer.appendChild(this.divCursor),this.container.appendChild(this.cvsDoc),this.container.appendChild(this.heightPlaceholderContainer)}onToolbarSetFormat(e){console.log("format ",e),this.contentService.format(e,this.selectionService.getSelection())}onToolbarClearFormat(){console.log("clear format"),this.contentService.clearFormat(this.selectionService.getSelection())}onToolbarSetIndent(e){this.contentService.setIndent(e,this.selectionService.getSelection())}onSetQuoteBlock(){this.quoteBlockService.setQuoteBlock(this.selectionService.getSelection()),this.startDrawing()}onSetList(e){this.listService.setList(e,this.selectionService.getSelection()),this.startDrawing()}onSetParagraph(){this.paragraphService.setParagraph(this.selectionService.getSelection()),this.startDrawing()}onInsertImage(e){this.contentController.insertImage(e)}onInsertTable(){this.tableController.insertTable(this.selectionService.getSelection())}}function Xm(t){return fetch(`sample_docs/${t||"006.txt"}`,{mode:"no-cors"}).then(e=>e.text()).then(e=>y().parse(e))}var Km=Object.defineProperty,Ym=Object.defineProperties,Zm=Object.getOwnPropertyDescriptors,Gv=Object.getOwnPropertySymbols,Jm=Object.prototype.hasOwnProperty,Vm=Object.prototype.propertyIsEnumerable,zv=(t,e,n)=>e in t?Km(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qm=(t,e)=>{for(var n in e||(e={}))Jm.call(e,n)&&zv(t,n,e[n]);if(Gv)for(var n of Gv(e))Vm.call(e,n)&&zv(t,n,e[n]);return t},qm=(t,e)=>Ym(t,Zm(e)),jv;(function(t){t[t.Date=0]="Date",t[t.DateTime=1]="DateTime"})(jv||(jv={}));const nv=qm(Qm({},bn),{bold:!1,font:an.getFontValue("Default"),italic:!1,size:11,date:0,id:0,type:0});var tb=Object.defineProperty,eb=Object.defineProperties,nb=Object.getOwnPropertyDescriptors,Xv=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,ib=Object.prototype.propertyIsEnumerable,Kv=(t,e,n)=>e in t?tb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_f=(t,e)=>{for(var n in e||(e={}))rb.call(e,n)&&Kv(t,n,e[n]);if(Xv)for(var n of Xv(e))ib.call(e,n)&&Kv(t,n,e[n]);return t},sb=(t,e)=>eb(t,nb(e));const rv=class extends or{constructor(){super(...arguments);this.stringContent="",this.defaultAttributes=nv,this.originalAttributes=null,this.attributes=_f({},nv)}get typeName(){return rv.typeName}readFromOps(t){var e;const n=t.attributes;n.font&&n.hasOwnProperty("font")&&(n.font=an.getFontValue(n.font)),this.setAttributes(n),this.stringContent=((e=this.originalAttributes)==null?void 0:e.date)?`\u23F0${new Date(this.originalAttributes.date).toDateString()}`:"",this.calMetrics()}calTotalWidth(){return ce().measureTextWidth(this.stringContent,this.attributes)}calMetrics(){this.metrics=ce().measureTextMetrics(this.attributes)}toOp(t){var e;const n=((e=this.originalAttributes)==null?void 0:e.font)?{font:an.getFontName(this.originalAttributes.font)}:null,r={insert:1,attributes:_f(sb(_f({},this.originalAttributes),{frag:rv.typeName}),n)};return t&&(r.key=this.id),r}toHtml(){return`<span style=${yt(this.attributes)}>${this.stringContent}</span>`}toText(){return this.stringContent}clearFormat(){const t=_f({},nv);delete t.id,delete t.date,delete t.type,this.setAttributes(t)}compileAttributes(){super.compileAttributes(),this.calMetrics()}};let Af=rv;Af.typeName="date";var ob=Xt(5660),Yv=Xt.n(ob);const ab={language:"",theme:""};class lb{}class ub extends lb{constructor(){super(...arguments);this.codeBackground="#f7f7f7",this.lineNumBackground="transparent",this.lineNumColor="#d0d4d9"}getStyle(e){switch(e){case"comment":case"prolog":case"doctype":case"cdata":return{color:"slategray"};case"punctuation":return{color:"#999"};case"property":case"tag":case"boolean":case"number":case"constant":case"symbol":case"deleted":return{color:"#905"};case"selector":case"attr-name":case"string":case"char":case"builtin":case"inserted":return{color:"#690"};case"operator":case"entity":case"url":return{color:"#9a6e3a"};case"atrule":case"attr-value":case"keyword":return{color:"#07a"};case"function":case"class-name":return{color:"#DD4A68"};case"regex":case"important":case"variable":return{color:"#e90"};case"bold":return{bold:!0};case"italic":return{italic:!0};default:return null}}}class cb{constructor(){this.registeredThemes=new Map}registerTheme(e,n){this.registeredThemes.set(e,n)}unregisterTheme(e){this.registeredThemes.delete(e)}unregisterAllTheme(){this.registeredThemes.clear()}getThemeClass(e){return this.registeredThemes.get(e)}}var hb=new cb,fb=Object.defineProperty,Zv=Object.getOwnPropertySymbols,db=Object.prototype.hasOwnProperty,pb=Object.prototype.propertyIsEnumerable,Jv=(t,e,n)=>e in t?fb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mu=(t,e)=>{for(var n in e||(e={}))db.call(e,n)&&Jv(t,n,e[n]);if(Zv)for(var n of Zv(e))pb.call(e,n)&&Jv(t,n,e[n]);return t};const Vv=3,gb=2,iv=2,Qv=class extends lr{constructor(){super(...arguments);this.attributes=mu({},ab),this.codeLines=[],this.theme=new ub,this.lineNumWidth=0,this.idleColoring=({timeRemaining:t,didTimeout:e})=>{console.log("coloring");const n=this.tokenize();this.removeAll(),this.addAll(n),this.layoutFrames(),this.bubbleUp(Te.NEED_DRAW,null,[this])}}readFromOps(t){const e=super.readOpsToLayoutFrame(t);for(let n=0;n<e.length;n++){const r=e[n];for(let s=0;s<r.children.length;s++)r.children[s].setAttributes({font:an.getFontValue("source")})}this.addAll(e),super.setFrameStart(),this.setAttributes(t[t.length-1].attributes)}setAttributes(t){if(typeof t.language=="string"&&(this.attributes.language=t.language),typeof t.theme=="string"){const e=hb.getThemeClass(t.theme);e&&(this.theme=e)}}layout(){this.needLayout&&(this.layoutFrames(),ce().requestIdleCallback(this.idleColoring))}draw(t,e,n,r){t.fillStyle=this.theme.codeBackground,t.fillRect(e+this.x+this.lineNumWidth,n+this.y,this.width-this.lineNumWidth,this.height),t.fillStyle=this.theme.lineNumBackground,t.fillRect(e+this.x,n+this.y,this.lineNumWidth,this.height);for(let s=0;s<this.children.length;s++){const o=this.children[s],l=n+this.y+o.y,c=l+o.height;l>=r||c<=0||(o.draw(t,this.x+e,this.y+n,r),t.textAlign="right",t.textBaseline="alphabetic",t.fillStyle=this.theme.lineNumColor,t.fillText((s+1).toString(),e+this.x+o.x-iv-Vv,o.lines[0].y+o.lines[0].baseline+o.y+this.y+n),t.textAlign="start")}super.draw(t,e,n,r)}getFormat(){const t={};return Pt(this.attributes,t),t}createSelf(){return new Qv}setChildrenMaxWidth(t){t.setMaxWidth(this.width-this.lineNumWidth-iv)}layoutFrames(){this.lineNumWidth=ce().measureTextWidth(this.children.length.toString(),{font:an.getFontValue("source"),italic:!1,bold:!1,size:Ks.size})+gb+Vv;let t=null,e=0;for(let r=0,s=this.children.length;r<s;r++)t=this.children[r],t.layout(),t.x=this.lineNumWidth+iv,e=Math.max(e,t.x+t.width);this.head!==null&&this.head.setPositionY(0,!0,!0),this.needLayout=!1;let n=0;t!==null&&(n=t.y+t.height),this.setHeight(n),this.nextSibling!==null&&this.nextSibling.setPositionY(this.y+this.height)}tokenize(){let t="";for(let r=0;r<this.children.length;r++)t+=this.children[r].toText();const e=Yv().tokenize(t,Yv().languages.javascript),n=[];if(e.length>0){const r=we($n.typeName);this.parseTokenTree(e,n,r,"")}return n}parseTokenTree(t,e,n,r){for(let s=0;s<t.length;s++){const o=t[s];if(typeof o=="string")if(o.indexOf(`
`)>=0){const l=o.split(`
`);for(let c=0;c<l.length;c++){const d=l[c];if(d.length>0){const m=we("");m.setContent(d);const S=this.theme.getStyle(r),C=an.getFontValue("source"),z=mu(mu({},S),typeof C=="string"?{font:C}:null);m.setAttributes(z),m.calMetrics(),n.addLast(m)}if(c!==l.length-1){const m=we(Qn.typeName);m.calMetrics(),n.addLast(m),n.calLength(),e.push(n),n=we($n.typeName)}}}else{const l=we("");l.setContent(o);const c=this.theme.getStyle(r),d=an.getFontValue("source"),m=mu(mu({},c),typeof d=="string"?{font:d}:null);l.setAttributes(m),l.calMetrics(),n.addLast(l)}else typeof o.content=="string"?n=this.parseTokenTree([o.content],e,n,o.type):n=this.parseTokenTree(o.content,e,n,o.type)}return n}};let sv=Qv;sv.typeName="code";var vb=Object.defineProperty,qv=Object.getOwnPropertySymbols,mb=Object.prototype.hasOwnProperty,bb=Object.prototype.propertyIsEnumerable,tm=(t,e,n)=>e in t?vb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,em=(t,e)=>{for(var n in e||(e={}))mb.call(e,n)&&tm(t,n,e[n]);if(qv)for(var n of qv(e))bb.call(e,n)&&tm(t,n,e[n]);return t};const nm=t=>{const e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e},yb=(()=>{const t=document.createElement("span");t.style.display="none",document.body.appendChild(t);const e=new Array(49);for(let n=0;n<e.length;n++){t.style.fontSize=`${n}pt`;const r=window.getComputedStyle(t).fontSize;e[n]=parseFloat(r.substring(0,r.length-2))}return document.body.removeChild(t),e})(),ov=(()=>{let t=null,e="";return n=>t&&t.italic===n.italic&&t.bold===n.bold&&t.size===n.size&&t.font===n.font?(t=n,e):(t=em({},n),e=n.italic?"italic ":"",n.bold&&(e+="bold "),e+=`${n.size}pt `,e+=n.font,e)})(),xb=(()=>{const t={},e={},n={},r=document.createElement("canvas").getContext("2d"),s=(()=>{const o={};let l=0;return c=>{let d=o[c];return d===void 0&&(d=(l++).toString(),o[c]=d),d}})();return(o,l)=>{const c=ov(l),d=s(c);if(o===" "){let C=e[d];return C===void 0&&(r.font=c,C=r.measureText(o).width,e[d]=C),C}if(o.length===1&&F(o)){let C=t[d];return C===void 0&&(r.font=c,C=r.measureText(o).width,t[d]=C),C}if(o.length===2&&F(o[0])&&F(o[1])){let C=t[d];return C===void 0&&(r.font=c,C=r.measureText(o[0]).width,t[d]=C),C*2}const m=`${d} ${o}`;let S=n[m];return S===void 0&&(r.font=c,S=r.measureText(o).width,n[m]=S),S}})(),wb=(()=>{const t={},e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.zIndex="-1",e.style.pointerEvents="none",e.style.lineHeight="initial",e.style.opacity="0";const n=document.createElement("span");n.textContent="f";const r=document.createElement("span");r.style.display="inline-block",e.appendChild(n),e.appendChild(r),document.body.appendChild(e);const s=document.createElement("canvas"),o=s.getContext("2d"),l=nm(o);return c=>{const d=`${c.font} ${c.bold} ${c.size}`,m=t[d];if(m!==void 0)return em({},m);e.style.fontFamily=c.font,e.style.fontWeight=c.bold?"bold":"normal",e.style.fontSize=`${c.size}pt`;const S=n.offsetHeight,C=r.offsetTop-n.offsetTop,z=n.offsetWidth,V=z*2*l,ot=n.offsetHeight*l;s.width=V,s.height=ot,o.scale(l,l),o.font=ov(c),o.fillStyle="#FF0000",o.fillText("x",z,C);const ft=o.getImageData(0,0,V,ot).data;let pt=0;for(let Ot=0,Vt=ft.length;Ot<Vt;Ot+=4)if(ft[Ot]>0){pt=Ot/4/V/l;break}const wt={baseline:C,bottom:S,xTop:pt};return t[d]=wt,wt}})(),Sb=window.requestIdleCallback||(t=>setTimeout(()=>{const e=Date.now();t({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))})},1)),_b=t=>Sb.call(window,t),Ab=window.cancelIdleCallback||(t=>{clearTimeout(t)});var Eb={getPixelRatio:nm,convertPt2Px:yb,createTextFontString:ov,measureTextWidth:xb,measureTextMetrics:wb,requestIdleCallback:_b,cancelIdleCallback:t=>{Ab.call(window,t)}},Pb=Object.defineProperty,Cb=Object.getOwnPropertyDescriptor,Tb=(t,e,n,r)=>{for(var s=r>1?void 0:r?Cb(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Pb(e,n,s),s};let aa=class extends yi{constructor(t){super();this.isSpace=!0,this.frag=t,this.height=this.calHeight()}draw(){}calHeight(){return this.height=ce().convertPt2Px[this.frag.attributes.size],this.height}calWidth(){return this.width=5,this.width}getDocumentPos(t,e,n){return{index:0,inner:null}}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}};aa.typeName="run-paraend",aa=Tb([Oe],aa);var Ib=Object.defineProperty,Ob=Object.getOwnPropertyDescriptor,Db=(t,e,n,r)=>{for(var s=r>1?void 0:r?Ob(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Ib(e,n,s),s};const Lb="#70b1e7";let la=class extends yi{constructor(t){super();this.frag=t,this.content=t.stringContent,this.height=this.calHeight()}draw(t,e,n,r){t.font=ce().createTextFontString(this.frag.attributes),t.fillStyle=Lb,t.fillText(this.content,this.x+e,r+n),window.runBorder&&(t.strokeStyle="green",t.strokeRect(this.x+e,this.y+n,this.width,this.height))}calHeight(){return this.height=ce().convertPt2Px[this.frag.attributes.size],this.height}calWidth(){return this.width=ce().measureTextWidth(this.content,this.frag.attributes),this.width}getDocumentPos(t,e,n){return t<this.width/2?{index:0,inner:null}:{index:1,inner:null}}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}};la.typeName="run-date",la=Db([Oe],la);var Rb=Object.defineProperty,Fb=Object.getOwnPropertyDescriptor,kb=(t,e,n,r)=>{for(var s=r>1?void 0:r?Fb(e,n):e,o=t.length-1,l;o>=0;o--)(l=t[o])&&(s=(r?l(e,n,s):l(s))||s);return r&&s&&Rb(e,n,s),s};let ua=class extends yi{constructor(t){super();this.solidHeight=!0,this.frag=t}draw(t,e,n){console.log("draw image"),this.frag.loaded&&this.frag.img?t.drawImage(this.frag.img,this.x+e,this.y+n,this.frag.attributes.width,this.frag.attributes.height):this.frag.fail||this.frag.loadImage()}calHeight(){return this.height=this.frag.attributes.height,this.height}calWidth(){return this.width=this.frag.attributes.width,this.width}getDocumentPos(t,e,n){return t<this.width/2?{index:0,inner:null}:{index:1,inner:null}}bubbleUp(t,e,n){throw new Error("this method should implemented in IBubbleUpableDecorator")}setBubbleHandler(t){throw new Error("this method should implemented in IBubbleUpableDecorator")}};ua.typeName="run-image",ua=kb([Oe],ua);let ca;(()=>{const t=n=>{const s=new RegExp(`[\\?&]${n.replace(/[[]/,"\\[").replace(/[\]]/,"\\]")}=([^&#]*)`).exec(location.search);return s===null?"":decodeURIComponent(s[1].replace(/\+/g," "))},e=document.querySelector("#selFileName");ca=t("file"),ca.length===0?ca=e.value:e.value=ca,e.addEventListener("change",n=>{console.log("file change ",n),location.href=`${location.origin+location.pathname}?file=${e.value}`}),ca+=".qde"})(),Pf(Eb),$e(wf.typeName,wf),$e(De.typeName,De),$e(Ns.typeName,Ns),$e(qn.typeName,qn),$e(sv.typeName,sv),$e(ln.typeName,ln),$e(Qn.typeName,Qn),$e(Af.typeName,Af),$e(ui.typeName,ui),$e($n.typeName,$n),$e(un.typeName,un),$e(aa.typeName,aa),$e(la.typeName,la),$e(ua.typeName,ua),pi(ln.typeName,un.typeName),pi(Qn.typeName,aa.typeName),pi(Af.typeName,la.typeName),pi(ui.typeName,ua.typeName);const av=new jm(document.querySelector("#divEditor"),Vs);(()=>{const t=window;t.hit=0,t.cal=0,t.count=0,t.total=0,t.c=[],t.editor=av,t.s=JSON.stringify,t.Delta=y(),t.showDelta=(e=0)=>{const n=av.history.stack[e];console.log("redo: ",n.redo.ops),console.log("undo: ",n.undo.ops)}})(),Xm(ca).then(t=>{window.start=performance.now(),av.readFromChanges(t)})}(),ha}()});
